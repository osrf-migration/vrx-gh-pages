{"links": {"self": {"href": "data/repositories/osrf/vrx/issues/199/comments/57133932.json"}, "html": {"href": "#!/osrf/vrx/issues/199#comment-57133932"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/vrx/issues/199.json"}}, "type": "issue", "id": 199, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "title": "When running RVIZ tutorial, there is an issue with the lidar"}, "content": {"raw": "Ok then in that case the fix should be simple. Previously,  in the `localization_example.launch` , the static TFs are published via\n\n```\n<!-- Publishes static transforms (gps, imu, cameras, etc) to /tf -->\n  <node ns=\"wamv\" pkg=\"robot_state_publisher\" type=\"robot_state_publisher\" name=\"rob_st_pub\">\n    <param name=\"tf_prefix\" value=\"wamv\" />\n  </node>\n```\n\nHowever, as seen in [pull request 216](#!/osrf/vrx/pull-requests/216/fix-issue-188/diff), revolute joints are being used instead of fixed joints. The robot\\_state\\_publisher can only publish static joint TF to my knowledge. As such, you will need to use the `joint_state_publisher` as well to get the GPS as IMU TFs to be published. You can try this instead:\n\n\u200c\n\n\u200c\n\n```\n<!-- Publishes fixed joint static transforms (cameras, lidars, etc) to /tf -->\n  <node ns=\"wamv\" pkg=\"robot_state_publisher\" type=\"robot_state_publisher\" name=\"rob_st_pub\">\n    <param name=\"tf_prefix\" value=\"wamv\" />\n  </node>\n\n<!-- Publishes revolute joint static transforms (gps and imu) to /tf -->\n    <node name=\"joint_state_publisher\" pkg=\"joint_state_publisher\" type=\"joint_state_publisher\" output=\"screen\">\n      <param name=\"gui\" value=\"false\" />\n    </node>\n```\n\n\u200c\n\nI don\u2019t think the `tf_prefix` param works for the joint\\_state\\_publisher so the TF frame name may be slightly different. You can try this first and see if it works.", "markup": "markdown", "html": "<p>Ok then in that case the fix should be simple. Previously,  in the <code>localization_example.launch</code> , the static TFs are published via</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c\">&lt;!-- Publishes static transforms (gps, imu, cameras, etc) to /tf --&gt;</span>\n  <span class=\"nt\">&lt;node</span> <span class=\"na\">ns=</span><span class=\"s\">&quot;wamv&quot;</span> <span class=\"na\">pkg=</span><span class=\"s\">&quot;robot_state_publisher&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;robot_state_publisher&quot;</span> <span class=\"na\">name=</span><span class=\"s\">&quot;rob_st_pub&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;param</span> <span class=\"na\">name=</span><span class=\"s\">&quot;tf_prefix&quot;</span> <span class=\"na\">value=</span><span class=\"s\">&quot;wamv&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;/node&gt;</span>\n</pre></div>\n\n\n<p>However, as seen in <a data-is-external-link=\"true\" href=\"#!/osrf/vrx/pull-requests/216/fix-issue-188/diff\" rel=\"nofollow\">pull request 216</a>, revolute joints are being used instead of fixed joints. The robot_state_publisher can only publish static joint TF to my knowledge. As such, you will need to use the <code>joint_state_publisher</code> as well to get the GPS as IMU TFs to be published. You can try this instead:</p>\n<p>\u200c</p>\n<p>\u200c</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c\">&lt;!-- Publishes fixed joint static transforms (cameras, lidars, etc) to /tf --&gt;</span>\n  <span class=\"nt\">&lt;node</span> <span class=\"na\">ns=</span><span class=\"s\">&quot;wamv&quot;</span> <span class=\"na\">pkg=</span><span class=\"s\">&quot;robot_state_publisher&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;robot_state_publisher&quot;</span> <span class=\"na\">name=</span><span class=\"s\">&quot;rob_st_pub&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;param</span> <span class=\"na\">name=</span><span class=\"s\">&quot;tf_prefix&quot;</span> <span class=\"na\">value=</span><span class=\"s\">&quot;wamv&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;/node&gt;</span>\n\n<span class=\"c\">&lt;!-- Publishes revolute joint static transforms (gps and imu) to /tf --&gt;</span>\n    <span class=\"nt\">&lt;node</span> <span class=\"na\">name=</span><span class=\"s\">&quot;joint_state_publisher&quot;</span> <span class=\"na\">pkg=</span><span class=\"s\">&quot;joint_state_publisher&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;joint_state_publisher&quot;</span> <span class=\"na\">output=</span><span class=\"s\">&quot;screen&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;param</span> <span class=\"na\">name=</span><span class=\"s\">&quot;gui&quot;</span> <span class=\"na\">value=</span><span class=\"s\">&quot;false&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/node&gt;</span>\n</pre></div>\n\n\n<p>\u200c</p>\n<p>I don\u2019t think the <code>tf_prefix</code> param works for the joint_state_publisher so the TF frame name may be slightly different. You can try this first and see if it works.</p>", "type": "rendered"}, "created_on": "2020-04-27T02:45:28.388683+00:00", "user": {"display_name": "Hashir Zahir", "uuid": "{0033cdb9-ea6e-4c6a-a9ad-d462a485643d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0033cdb9-ea6e-4c6a-a9ad-d462a485643d%7D"}, "html": {"href": "https://bitbucket.org/%7B0033cdb9-ea6e-4c6a-a9ad-d462a485643d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/3c71628af17207fad1dd0ea6280b41f1d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsHZ-5.png"}}, "nickname": "hzahir", "type": "user", "account_id": "557058:6b6463b7-2835-47c7-8c22-fdef36e9e325"}, "updated_on": null, "type": "issue_comment", "id": 57133932}