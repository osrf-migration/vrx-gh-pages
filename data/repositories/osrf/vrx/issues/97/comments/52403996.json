{"links": {"self": {"href": "data/repositories/osrf/vrx/issues/97/comments/52403996.json"}, "html": {"href": "#!/osrf/vrx/issues/97#comment-52403996"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/vrx/issues/97.json"}}, "type": "issue", "id": 97, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "title": "Propulsion: Allowing for YAML based configuration"}, "content": {"raw": "**Notes:**\n\n1. For inputting thrusters, we need to add <gazebo></gazebo> part of macro that is different from the sensors macro currently in `utils.py`. We will need to store engine types and names. How do this without disrupting sensor config api? Maybe if engine statement, then add this? \n\n```\n  <xacro:include filename=\"$(find wamv_description)/urdf/engine.xacro\" />\n  <xacro:engine prefix=\"left\" position=\"-2.373776 1.027135 0.318237\" />\n  <xacro:engine prefix=\"right\" position=\"-2.373776 -1.027135 0.318237\" />\n  <gazebo>\n    <plugin name=\"wamv_gazebo_thrust\" filename=\"libusv_gazebo_thrust_plugin.so\">\n      <cmdTimeout>1.0</cmdTimeout>\n      <xacro:include filename=\"$(find wamv_gazebo)/urdf/thruster_layouts/wamv_gazebo_thruster_config.xacro\" />\n      <xacro:wamv_gazebo_thruster_config name=\"left\" />\n      <xacro:wamv_gazebo_thruster_config name=\"right\" />\n    </plugin>\n  </gazebo>\n```\n\n\u200c\n\n1. How to change param names in `generate_thrusters.launch` to not affect `generate_sensors.launch`? `available, requested, xacro_target, wamv_target, wamv_gazebo` namespace them?\n2. Consistent visual spacing in `macro_block_gen()`\n3. Currently `generate_sensors.launch` creates target `my_sensors.xacro` file and then `my_wamv.urdf` file by calling `xacro xacro --inorder -o`. Preferably we can get both `my_sensors.xacro` and `my_thrusters.xacro` before compiling to get the `urdf` file to get both. How best to change this?\n\n", "markup": "markdown", "html": "<p><strong>Notes:</strong></p>\n<ol>\n<li>For inputting thrusters, we need to add &lt;gazebo&gt;&lt;/gazebo&gt; part of macro that is different from the sensors macro currently in <code>utils.py</code>. We will need to store engine types and names. How do this without disrupting sensor config api? Maybe if engine statement, then add this? </li>\n</ol>\n<div class=\"codehilite\"><pre><span></span>  <span class=\"nt\">&lt;xacro:include</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;$(find wamv_description)/urdf/engine.xacro&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;xacro:engine</span> <span class=\"na\">prefix=</span><span class=\"s\">&quot;left&quot;</span> <span class=\"na\">position=</span><span class=\"s\">&quot;-2.373776 1.027135 0.318237&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;xacro:engine</span> <span class=\"na\">prefix=</span><span class=\"s\">&quot;right&quot;</span> <span class=\"na\">position=</span><span class=\"s\">&quot;-2.373776 -1.027135 0.318237&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;gazebo&gt;</span>\n    <span class=\"nt\">&lt;plugin</span> <span class=\"na\">name=</span><span class=\"s\">&quot;wamv_gazebo_thrust&quot;</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;libusv_gazebo_thrust_plugin.so&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;cmdTimeout&gt;</span>1.0<span class=\"nt\">&lt;/cmdTimeout&gt;</span>\n      <span class=\"nt\">&lt;xacro:include</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;$(find wamv_gazebo)/urdf/thruster_layouts/wamv_gazebo_thruster_config.xacro&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;xacro:wamv_gazebo_thruster_config</span> <span class=\"na\">name=</span><span class=\"s\">&quot;left&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;xacro:wamv_gazebo_thruster_config</span> <span class=\"na\">name=</span><span class=\"s\">&quot;right&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/plugin&gt;</span>\n  <span class=\"nt\">&lt;/gazebo&gt;</span>\n</pre></div>\n\n\n<p>\u200c</p>\n<ol>\n<li>How to change param names in <code>generate_thrusters.launch</code> to not affect <code>generate_sensors.launch</code>? <code>available, requested, xacro_target, wamv_target, wamv_gazebo</code> namespace them?</li>\n<li>Consistent visual spacing in <code>macro_block_gen()</code></li>\n<li>Currently <code>generate_sensors.launch</code> creates target <code>my_sensors.xacro</code> file and then <code>my_wamv.urdf</code> file by calling <code>xacro xacro --inorder -o</code>. Preferably we can get both <code>my_sensors.xacro</code> and <code>my_thrusters.xacro</code> before compiling to get the <code>urdf</code> file to get both. How best to change this?</li>\n</ol>", "type": "rendered"}, "created_on": "2019-06-02T23:06:00.956458+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": null, "type": "issue_comment", "id": 52403996}