{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "links": {"attachments": {"href": "data/repositories/osrf/vrx/issues/190/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/vrx/issues/190.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/issues/190/watch"}, "comments": {"href": "data/repositories/osrf/vrx/issues/190/comments_page=1.json"}, "html": {"href": "#!/osrf/vrx/issues/190/difference-in-scoring-for-different-docks"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/issues/190/vote"}}, "reporter": {"display_name": "Hashir Zahir", "uuid": "{0033cdb9-ea6e-4c6a-a9ad-d462a485643d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0033cdb9-ea6e-4c6a-a9ad-d462a485643d%7D"}, "html": {"href": "https://bitbucket.org/%7B0033cdb9-ea6e-4c6a-a9ad-d462a485643d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/3c71628af17207fad1dd0ea6280b41f1d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsHZ-5.png"}}, "nickname": "hzahir", "type": "user", "account_id": "557058:6b6463b7-2835-47c7-8c22-fdef36e9e325"}, "title": "Difference in scoring for different Docks", "component": {"name": "Plugin", "links": {"self": {"href": "data/repositories/osrf/vrx/components/519936.json"}}}, "votes": 0, "watches": 2, "content": {"raw": "When driving the WAMV into docks \\(on both bays\\) in `dock0` and `dock1`, all is well in score updating. However, when docking in `dock3` world, we notice there is a slight difference in the scoring and the docking action is not captured. Looking at the verbose logs, it claims that it was phasing between entering and exiting the internal activation zone, hence making the docking state not activate resulting in no points. I understand from the [ Docking Wiki](#!/osrf/vrx/wiki/tutorials/docking_details), it does mention that going too far forward will result in non-dock events sometimes. This is acceptable, however, the same docking position \\(with the front of the WAMV hitting the dock in the top right corner\\) does not score the same way in the different worlds and even different bays. If there was a uniform scoring in the docking it would be fine but I believe there is an inconsistency here. Could someone help to check this out? I have added images of various docking positions in different worlds with different verbose outputs from the `scan_dock_scoring_plugin`\r\n\r\n\u200c\r\n\r\nFor comparison, driving here in `dock0 bay2`:  \r\n\r\n![](data/bitbucket.org/repo/BgXLzgM/images/4039807801-image.png)\r\n![](data/bitbucket.org/repo/BgXLzgM/images/1223435705-image.png)\r\n  \r\nFor comparison, driving into `dock3 bay1`,\r\n\r\nInitially driving into the bay:\r\n\r\n![](data/bitbucket.org/repo/BgXLzgM/images/3878731170-image.png)\r\n![](data/bitbucket.org/repo/BgXLzgM/images/1859546126-image.png)\r\nStopped driving:\r\n\r\n![](data/bitbucket.org/repo/BgXLzgM/images/1705463603-image.png)\r\n![](data/bitbucket.org/repo/BgXLzgM/images/3170063983-image.png)\r\nDriving out of the dock:\r\n\r\n![](data/bitbucket.org/repo/BgXLzgM/images/2322490665-image.png)\r\n![](data/bitbucket.org/repo/BgXLzgM/images/1815789548-image.png)\r\nTrying the another docking location in `dock3 bay1` that works for other worlds but not this world:  \r\n\r\n![](data/bitbucket.org/repo/BgXLzgM/images/1318693891-image.png)\r\n![](data/bitbucket.org/repo/BgXLzgM/images/1917402114-image.png)\r\nThe same docking style but using `dock3 bay2` world:  \r\n\r\n![](data/bitbucket.org/repo/BgXLzgM/images/3298345280-image.png)\r\n![](data/bitbucket.org/repo/BgXLzgM/images/1323473985-image.png)\r\nWould appreciate if you could look into this. Thank you!", "markup": "markdown", "html": "<p>When driving the WAMV into docks (on both bays) in <code>dock0</code> and <code>dock1</code>, all is well in score updating. However, when docking in <code>dock3</code> world, we notice there is a slight difference in the scoring and the docking action is not captured. Looking at the verbose logs, it claims that it was phasing between entering and exiting the internal activation zone, hence making the docking state not activate resulting in no points. I understand from the <a data-is-external-link=\"true\" href=\"#!/osrf/vrx/wiki/tutorials/docking_details\" rel=\"nofollow\"> Docking Wiki</a>, it does mention that going too far forward will result in non-dock events sometimes. This is acceptable, however, the same docking position (with the front of the WAMV hitting the dock in the top right corner) does not score the same way in the different worlds and even different bays. If there was a uniform scoring in the docking it would be fine but I believe there is an inconsistency here. Could someone help to check this out? I have added images of various docking positions in different worlds with different verbose outputs from the <code>scan_dock_scoring_plugin</code></p>\n<p>\u200c</p>\n<p>For comparison, driving here in <code>dock0 bay2</code>:  </p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/4039807801-image.png\" />\n<img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/1223435705-image.png\" /></p>\n<p>For comparison, driving into <code>dock3 bay1</code>,</p>\n<p>Initially driving into the bay:</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/3878731170-image.png\" />\n<img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/1859546126-image.png\" />\nStopped driving:</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/1705463603-image.png\" />\n<img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/3170063983-image.png\" />\nDriving out of the dock:</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/2322490665-image.png\" />\n<img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/1815789548-image.png\" />\nTrying the another docking location in <code>dock3 bay1</code> that works for other worlds but not this world:  </p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/1318693891-image.png\" />\n<img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/1917402114-image.png\" />\nThe same docking style but using <code>dock3 bay2</code> world:  </p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/3298345280-image.png\" />\n<img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/1323473985-image.png\" />\nWould appreciate if you could look into this. Thank you!</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-11-20T03:52:45.399898+00:00", "milestone": null, "updated_on": "2019-12-26T17:16:58.428248+00:00", "type": "issue", "id": 190}