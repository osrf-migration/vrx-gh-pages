{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "links": {"attachments": {"href": "data/repositories/osrf/vrx/issues/47/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/vrx/issues/47.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/issues/47/watch"}, "comments": {"href": "data/repositories/osrf/vrx/issues/47/comments_page=1.json"}, "html": {"href": "#!/osrf/vrx/issues/47/buildbash-can-pass-illegal-input-to-docker"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/issues/47/vote"}}, "reporter": {"display_name": "Michael McCarrin", "uuid": "{3c3f500d-bbf6-472c-b8f7-627e5eabc226}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3c3f500d-bbf6-472c-b8f7-627e5eabc226%7D"}, "html": {"href": "https://bitbucket.org/%7B3c3f500d-bbf6-472c-b8f7-627e5eabc226%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a50abc93a3175f92c79e7521dfe089c0d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMM-0.png"}}, "nickname": "m1chaelm", "type": "user", "account_id": "5b2a9176467c9a09caa71ab1"}, "title": "build.bash can pass illegal input to Docker tag", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Docker tags only support ASCII (see https://docs.docker.com/engine/reference/commandline/tag/). The build.bash script generates tags using the Linux date command, and the output of the date command varies depending on the locale settings. For some locale settings, such as Chinese, this causes the date command to produce a unicode string, which causes a crash when used as input to the `-t` argument of the `docker build` command.\r\n\r\nWe can avoid this by choosing a tag format that is ASCII in all locales. One fix is to eliminate the use of `date`. Another is to use formatting options that remain numeric (such as %m instead of %b).", "markup": "markdown", "html": "<p>Docker tags only support ASCII (see <a href=\"https://docs.docker.com/engine/reference/commandline/tag/\" rel=\"nofollow\" class=\"ap-connect-link\">https://docs.docker.com/engine/reference/commandline/tag/</a>). The build.bash script generates tags using the Linux date command, and the output of the date command varies depending on the locale settings. For some locale settings, such as Chinese, this causes the date command to produce a unicode string, which causes a crash when used as input to the <code>-t</code> argument of the <code>docker build</code> command.</p>\n<p>We can avoid this by choosing a tag format that is ASCII in all locales. One fix is to eliminate the use of <code>date</code>. Another is to use formatting options that remain numeric (such as %m instead of %b).</p>", "type": "rendered"}, "assignee": {"display_name": "Michael McCarrin", "uuid": "{3c3f500d-bbf6-472c-b8f7-627e5eabc226}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3c3f500d-bbf6-472c-b8f7-627e5eabc226%7D"}, "html": {"href": "https://bitbucket.org/%7B3c3f500d-bbf6-472c-b8f7-627e5eabc226%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a50abc93a3175f92c79e7521dfe089c0d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMM-0.png"}}, "nickname": "m1chaelm", "type": "user", "account_id": "5b2a9176467c9a09caa71ab1"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2018-08-29T04:44:57.332883+00:00", "milestone": {"name": "0.3", "links": {"self": {"href": "data/repositories/osrf/vrx/milestones/346016.json"}}}, "updated_on": "2018-10-19T20:39:03.605858+00:00", "type": "issue", "id": 47}