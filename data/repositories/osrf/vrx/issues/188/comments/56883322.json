{"links": {"self": {"href": "data/repositories/osrf/vrx/issues/188/comments/56883322.json"}, "html": {"href": "#!/osrf/vrx/issues/188#comment-56883322"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/vrx/issues/188.json"}}, "type": "issue", "id": 188, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "title": "GPS/IMU are measured from the wrong pose"}, "content": {"raw": "Hi guys, \\(@{557058:6c52d6e5-77e0-41a8-8b6e-cb9462f4d5f1} , @{557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd} \\) thanks for the amazing fix! I noticed similar issues while working with the IMU plugin while using fixed joints. Using revolute joints fixed the issue \\(mostly\\) or so I thought as I have discovered a bug. Rotations in yaw for the IMU plugin work perfectly with this new fix \\(the fixed joint method reports inaccurate readings\\), however, rotations in pitch or roll result in incorrect readings from the IMU.\n\nFor example, using\u00a0`<xacro:wamv_imu name=\"imu_wamv\" y=\"-0.2\" R=\"3.14159\"/>`\u00a0where the roll is set to 180 degrees instead of yaw, the raw readings reported by the IMU plugin is \\(r,p,y\\) = \\(0,0, 2.76\\) when the correct readings are supposed to be \\(r,p,y\\) = \\(0,0,-2.76\\) \\(notice the yaw has been flipped/inverted\\). This does not make sense since physical IMU has been flipped 180 degrees. Setting an arbitary value of rpy in the macro results in even more disastrous readings.\n\nExample:\u00a0`<xacro:wamv_imu name=\"imu_wamv\" y=\"-0.2\" R=\"1\" P=\"0\" Y=\"0\"/>`\n\nresults in rpy = \\(1.966, -0.319, -2.928\\), when the actual reading should have been rpy = \\(1,0,-2.76\\).\n\nDo you guys know why this is happening? Although I understand this is a strange requirement for teams to mount their sensors in weird positions \\(roll, pitch\\). Thanks.", "markup": "markdown", "html": "<p>Hi guys, (<span class=\"ap-mention\" data-atlassian-id=\"557058:6c52d6e5-77e0-41a8-8b6e-cb9462f4d5f1\">@Brian Bingham</span> , <span class=\"ap-mention\" data-atlassian-id=\"557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd\">@Carlos Ag\u00fcero</span> ) thanks for the amazing fix! I noticed similar issues while working with the IMU plugin while using fixed joints. Using revolute joints fixed the issue (mostly) or so I thought as I have discovered a bug. Rotations in yaw for the IMU plugin work perfectly with this new fix (the fixed joint method reports inaccurate readings), however, rotations in pitch or roll result in incorrect readings from the IMU.</p>\n<p>For example, using\u00a0<code>&lt;xacro:wamv_imu name=\"imu_wamv\" y=\"-0.2\" R=\"3.14159\"/&gt;</code>\u00a0where the roll is set to 180 degrees instead of yaw, the raw readings reported by the IMU plugin is (r,p,y) = (0,0, 2.76) when the correct readings are supposed to be (r,p,y) = (0,0,-2.76) (notice the yaw has been flipped/inverted). This does not make sense since physical IMU has been flipped 180 degrees. Setting an arbitary value of rpy in the macro results in even more disastrous readings.</p>\n<p>Example:\u00a0<code>&lt;xacro:wamv_imu name=\"imu_wamv\" y=\"-0.2\" R=\"1\" P=\"0\" Y=\"0\"/&gt;</code></p>\n<p>results in rpy = (1.966, -0.319, -2.928), when the actual reading should have been rpy = (1,0,-2.76).</p>\n<p>Do you guys know why this is happening? Although I understand this is a strange requirement for teams to mount their sensors in weird positions (roll, pitch). Thanks.</p>", "type": "rendered"}, "created_on": "2020-04-10T03:10:20.274208+00:00", "user": {"display_name": "Hashir Zahir", "uuid": "{0033cdb9-ea6e-4c6a-a9ad-d462a485643d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0033cdb9-ea6e-4c6a-a9ad-d462a485643d%7D"}, "html": {"href": "https://bitbucket.org/%7B0033cdb9-ea6e-4c6a-a9ad-d462a485643d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/3c71628af17207fad1dd0ea6280b41f1d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsHZ-5.png"}}, "nickname": "hzahir", "type": "user", "account_id": "557058:6b6463b7-2835-47c7-8c22-fdef36e9e325"}, "updated_on": "2020-04-10T04:08:25.168200+00:00", "type": "issue_comment", "id": 56883322}