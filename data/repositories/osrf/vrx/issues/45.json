{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "links": {"attachments": {"href": "data/repositories/osrf/vrx/issues/45/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/vrx/issues/45.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/issues/45/watch"}, "comments": {"href": "data/repositories/osrf/vrx/issues/45/comments_page=1.json"}, "html": {"href": "#!/osrf/vrx/issues/45/docker-image-non-nvidia-image-seg-faults"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/issues/45/vote"}}, "reporter": {"display_name": "Brian Bingham", "uuid": "{9cdea257-248f-486e-8858-49d8485a916f}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9cdea257-248f-486e-8858-49d8485a916f%7D"}, "html": {"href": "https://bitbucket.org/%7B9cdea257-248f-486e-8858-49d8485a916f%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6c52d6e5-77e0-41a8-8b6e-cb9462f4d5f1/7a690884-fc47-4bca-9c2b-baecee4d3dc9/128"}}, "nickname": "brian_bingham", "type": "user", "account_id": "557058:6c52d6e5-77e0-41a8-8b6e-cb9462f4d5f1"}, "title": "Docker Image: Non-NVIDIA image seg faults on NVIDIA system", "component": {"name": "Docker", "links": {"self": {"href": "data/repositories/osrf/vrx/components/519937.json"}}}, "votes": 0, "watches": 2, "content": {"raw": "Not sure if this is a bug, or just something we should document.\r\n\r\nOn my desktop, with an NVIDIA card, I successfully run the NVIDIA version of the [Docker Hub image tutorial](#!/osrf/vmrc/wiki/tutorials/runDockerHubImage).\r\n\r\nIf I try to run the non-NVIDIA image...\r\n\r\n```\r\n$ ./run.bash osrf/vmrc:current\r\n```\r\n\r\nThe docker image downloads and runs correctly, but then seg faults when I try the example...\r\n\r\n```\r\ndeveloper@e7912a51336d:~$ roslaunch robotx_gazebo sandisland.launch \r\n... logging to /home/developer/.ros/log/58bfcf3c-aa33-11e8-aa75-0242ac110002/roslaunch-e7912a51336d-58.log\r\nChecking log directory for disk usage. This may take awhile.\r\nPress Ctrl-C to interrupt\r\nDone checking log file disk usage. Usage is <1GB.\r\n\r\nstarted roslaunch server http://e7912a51336d:38151/\r\n\r\nSUMMARY\r\n========\r\n\r\nPARAMETERS\r\n * /robot_description: <?xml version=\"1....\r\n * /rosdistro: kinetic\r\n * /rosversion: 1.12.13\r\n * /use_sim_time: True\r\n\r\nNODES\r\n  /\r\n    gazebo (gazebo_ros/gzserver)\r\n    gazebo_gui (gazebo_ros/gzclient)\r\n    spawn_model (gazebo_ros/spawn_model)\r\n\r\nauto-starting new master\r\nprocess[master]: started with pid [68]\r\nROS_MASTER_URI=http://localhost:11311\r\n\r\nsetting /run_id to 58bfcf3c-aa33-11e8-aa75-0242ac110002\r\nprocess[rosout-1]: started with pid [81]\r\nstarted core service [/rosout]\r\nprocess[gazebo-2]: started with pid [88]\r\n[ INFO] [1535399815.825274566]: Finished loading Gazebo ROS API Plugin.\r\n[ INFO] [1535399815.825703481]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...\r\nprocess[gazebo_gui-3]: started with pid [110]\r\nlibGL error: No matching fbConfigs or visuals found\r\nlibGL error: failed to load driver: swrast\r\nWarning [parser.cc:644] XML Attribute[xmlns:xacro] in element[sdf] not defined in SDF, ignoring.\r\nWarning [parser.cc:644] XML Attribute[xmlns:xacro] in element[world] not defined in SDF, ignoring.\r\n[ INFO] [1535399816.093618114]: Finished loading Gazebo ROS API Plugin.\r\nprocess[spawn_model-4]: started with pid [177]\r\n[ INFO] [1535399816.115683393]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...\r\nlibGL error: No matching fbConfigs or visuals found\r\nlibGL error: failed to load driver: swrast\r\n[ INFO] [1535399817.094805121]: Pattern is YRY\r\n[ INFO] [1535399817.132733059, 0.022000000]: waitForService: Service [/gazebo/set_physics_properties] is now available.\r\n[ INFO] [1535399817.157287113, 0.046000000]: Physics dynamic reconfigure ready.\r\n[ INFO] [1535399817.365024684, 0.249000000]: waitForService: Service [/gazebo/set_physics_properties] is now available.\r\nWarning [parser.cc:644] XML Attribute[xmlns:xacro] in element[plugin] not defined in SDF, ignoring.\r\n[ INFO] [1535399817.489728272, 0.307000000]: Physics dynamic reconfigure ready.\r\n[spawn_model-4] process has finished cleanly\r\nlog file: /home/developer/.ros/log/58bfcf3c-aa33-11e8-aa75-0242ac110002/spawn_model-4*.log\r\nSegmentation fault (core dumped)\r\n[gazebo_gui-3] process has died [pid 110, exit code 139, cmd /opt/ros/kinetic/lib/gazebo_ros/gzclient __name:=gazebo_gui __log:=/home/developer/.ros/log/58bfcf3c-aa33-11e8-aa75-0242ac110002/gazebo_gui-3.log].\r\nlog file: /home/developer/.ros/log/58bfcf3c-aa33-11e8-aa75-0242ac110002/gazebo_gui-3*.log\r\n^C[gazebo-2] killing on exit\r\n[gazebo-2] escalating to SIGTERM\r\n[rosout-1] killing on exit\r\n[master] killing on exit\r\nshutting down processing monitor...\r\n... shutting down processing monitor complete\r\ndone\r\ndeveloper@e7912a51336d:~$ \r\n```", "markup": "markdown", "html": "<p>Not sure if this is a bug, or just something we should document.</p>\n<p>On my desktop, with an NVIDIA card, I successfully run the NVIDIA version of the <a data-is-external-link=\"true\" href=\"#!/osrf/vmrc/wiki/tutorials/runDockerHubImage\" rel=\"nofollow\">Docker Hub image tutorial</a>.</p>\n<p>If I try to run the non-NVIDIA image...</p>\n<div class=\"codehilite\"><pre><span></span>$ ./run.bash osrf/vmrc:current\n</pre></div>\n\n\n<p>The docker image downloads and runs correctly, but then seg faults when I try the example...</p>\n<div class=\"codehilite\"><pre><span></span>developer@e7912a51336d:~$ roslaunch robotx_gazebo sandisland.launch \n... logging to /home/developer/.ros/log/58bfcf3c-aa33-11e8-aa75-0242ac110002/roslaunch-e7912a51336d-58.log\nChecking log directory for disk usage. This may take awhile.\nPress Ctrl-C to interrupt\nDone checking log file disk usage. Usage is &lt;1GB.\n\nstarted roslaunch server http://e7912a51336d:38151/\n\nSUMMARY\n========\n\nPARAMETERS\n * /robot_description: &lt;?xml version=&quot;1....\n * /rosdistro: kinetic\n * /rosversion: 1.12.13\n * /use_sim_time: True\n\nNODES\n  /\n    gazebo (gazebo_ros/gzserver)\n    gazebo_gui (gazebo_ros/gzclient)\n    spawn_model (gazebo_ros/spawn_model)\n\nauto-starting new master\nprocess[master]: started with pid [68]\nROS_MASTER_URI=http://localhost:11311\n\nsetting /run_id to 58bfcf3c-aa33-11e8-aa75-0242ac110002\nprocess[rosout-1]: started with pid [81]\nstarted core service [/rosout]\nprocess[gazebo-2]: started with pid [88]\n[ INFO] [1535399815.825274566]: Finished loading Gazebo ROS API Plugin.\n[ INFO] [1535399815.825703481]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...\nprocess[gazebo_gui-3]: started with pid [110]\nlibGL error: No matching fbConfigs or visuals found\nlibGL error: failed to load driver: swrast\nWarning [parser.cc:644] XML Attribute[xmlns:xacro] in element[sdf] not defined in SDF, ignoring.\nWarning [parser.cc:644] XML Attribute[xmlns:xacro] in element[world] not defined in SDF, ignoring.\n[ INFO] [1535399816.093618114]: Finished loading Gazebo ROS API Plugin.\nprocess[spawn_model-4]: started with pid [177]\n[ INFO] [1535399816.115683393]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...\nlibGL error: No matching fbConfigs or visuals found\nlibGL error: failed to load driver: swrast\n[ INFO] [1535399817.094805121]: Pattern is YRY\n[ INFO] [1535399817.132733059, 0.022000000]: waitForService: Service [/gazebo/set_physics_properties] is now available.\n[ INFO] [1535399817.157287113, 0.046000000]: Physics dynamic reconfigure ready.\n[ INFO] [1535399817.365024684, 0.249000000]: waitForService: Service [/gazebo/set_physics_properties] is now available.\nWarning [parser.cc:644] XML Attribute[xmlns:xacro] in element[plugin] not defined in SDF, ignoring.\n[ INFO] [1535399817.489728272, 0.307000000]: Physics dynamic reconfigure ready.\n[spawn_model-4] process has finished cleanly\nlog file: /home/developer/.ros/log/58bfcf3c-aa33-11e8-aa75-0242ac110002/spawn_model-4*.log\nSegmentation fault (core dumped)\n[gazebo_gui-3] process has died [pid 110, exit code 139, cmd /opt/ros/kinetic/lib/gazebo_ros/gzclient __name:=gazebo_gui __log:=/home/developer/.ros/log/58bfcf3c-aa33-11e8-aa75-0242ac110002/gazebo_gui-3.log].\nlog file: /home/developer/.ros/log/58bfcf3c-aa33-11e8-aa75-0242ac110002/gazebo_gui-3*.log\n^C[gazebo-2] killing on exit\n[gazebo-2] escalating to SIGTERM\n[rosout-1] killing on exit\n[master] killing on exit\nshutting down processing monitor...\n... shutting down processing monitor complete\ndone\ndeveloper@e7912a51336d:~$ \n</pre></div>", "type": "rendered"}, "assignee": {"display_name": "Michael McCarrin", "uuid": "{3c3f500d-bbf6-472c-b8f7-627e5eabc226}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3c3f500d-bbf6-472c-b8f7-627e5eabc226%7D"}, "html": {"href": "https://bitbucket.org/%7B3c3f500d-bbf6-472c-b8f7-627e5eabc226%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a50abc93a3175f92c79e7521dfe089c0d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMM-0.png"}}, "nickname": "m1chaelm", "type": "user", "account_id": "5b2a9176467c9a09caa71ab1"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2018-08-27T20:01:55.955978+00:00", "milestone": {"name": "1.2", "links": {"self": {"href": "data/repositories/osrf/vrx/milestones/370076.json"}}}, "updated_on": "2019-08-15T04:31:19.945316+00:00", "type": "issue", "id": 45}