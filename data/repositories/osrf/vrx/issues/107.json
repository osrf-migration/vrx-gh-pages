{"priority": "minor", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "links": {"attachments": {"href": "data/repositories/osrf/vrx/issues/107/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/vrx/issues/107.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/issues/107/watch"}, "comments": {"href": "data/repositories/osrf/vrx/issues/107/comments_page=1.json"}, "html": {"href": "#!/osrf/vrx/issues/107/use-namespaces-to-organise-topics"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/issues/107/vote"}}, "reporter": {"display_name": "Jonathan Wheare", "uuid": "{65043b9b-c505-4efe-852a-3d2393a0ee80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B65043b9b-c505-4efe-852a-3d2393a0ee80%7D"}, "html": {"href": "https://bitbucket.org/%7B65043b9b-c505-4efe-852a-3d2393a0ee80%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/JW-2.png"}}, "nickname": "Jonathan Wheare", "type": "user", "account_id": "5b9791e8a9fd6d2c834b5864"}, "title": "Use namespaces to organise topics", "component": {"name": "ROS", "links": {"self": {"href": "data/repositories/osrf/vrx/components/519935.json"}}}, "votes": 0, "watches": 1, "content": {"raw": "Currently sensor and control topics are named based on the name of the sensor, e.g. the left thruster command topic is named /left\\_thrust\\_cmd which is based off the .xacro file being passed the name \u201cleft\u201d. As such, I do not believe that a topic name can be created that dows not start with the name of the gazebo object. This also appears to be true of the .xacro generated sensor models.\r\n\r\nThis is in contrast to the topics created by [uuv\\_simulator](https://github.com/uuvsimulator/uuv_simulator), where thruster control topics are prepended with a namespace. For example, the Rexrov uuv has thruster command topics in the form;\r\n\r\n/rexrov/thrusters/0/dynamic\\_state\\_efficiency  \r\n/rexrov/thrusters/0/input  \r\n/rexrov/thrusters/0/is\\_on  \r\n/rexrov/thrusters/0/thrust\r\n\r\nGrouping topics in this manner allows the sensor and control topics to be logically organised. The ability to further prepend a unique robot name would also allow multiple robot simulation to be performed at a later date.\r\n\r\nFor this reason, I propose the following;\r\n\r\n* Add support for namespaces to the .xacro macros that generate the wamv model. This would allow teams to customise their topic layouts. If the namespace is a parameter that has a defaults to an empty string, it should not affect the current topic organisation.\r\n* Add support to the .yaml based thruster configuration in issue ~~#97~~ for such namespaces\r\n\r\n~~In addition to altering the simulation based topics, ity may also be useful if task related topics were also moved under a namespace such as /task.~~  Reviewing the topic organisation, competition related topics are under the VRX namespace.\r\n\r\nRegards,\r\n\r\nJonathan.", "markup": "markdown", "html": "<p>Currently sensor and control topics are named based on the name of the sensor, e.g. the left thruster command topic is named /left_thrust_cmd which is based off the .xacro file being passed the name \u201cleft\u201d. As such, I do not believe that a topic name can be created that dows not start with the name of the gazebo object. This also appears to be true of the .xacro generated sensor models.</p>\n<p>This is in contrast to the topics created by <a data-is-external-link=\"true\" href=\"https://github.com/uuvsimulator/uuv_simulator\" rel=\"nofollow\">uuv_simulator</a>, where thruster control topics are prepended with a namespace. For example, the Rexrov uuv has thruster command topics in the form;</p>\n<p>/rexrov/thrusters/0/dynamic_state_efficiency<br />\n/rexrov/thrusters/0/input<br />\n/rexrov/thrusters/0/is_on<br />\n/rexrov/thrusters/0/thrust</p>\n<p>Grouping topics in this manner allows the sensor and control topics to be logically organised. The ability to further prepend a unique robot name would also allow multiple robot simulation to be performed at a later date.</p>\n<p>For this reason, I propose the following;</p>\n<ul>\n<li>Add support for namespaces to the .xacro macros that generate the wamv model. This would allow teams to customise their topic layouts. If the namespace is a parameter that has a defaults to an empty string, it should not affect the current topic organisation.</li>\n<li>Add support to the .yaml based thruster configuration in issue <del><a href=\"#!/osrf/vrx/issues/97/propulsion-allowing-for-yaml-based\" rel=\"nofollow\" title=\"Propulsion: Allowing for YAML based configuration\" class=\"ap-connect-link\"><s>#97</s></a></del> for such namespaces</li>\n</ul>\n<p><del>In addition to altering the simulation based topics, ity may also be useful if task related topics were also moved under a namespace such as /task.</del>  Reviewing the topic organisation, competition related topics are under the VRX namespace.</p>\n<p>Regards,</p>\n<p>Jonathan.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-06-15T03:50:38.061909+00:00", "milestone": {"name": "1.2", "links": {"self": {"href": "data/repositories/osrf/vrx/milestones/370076.json"}}}, "updated_on": "2019-08-16T23:37:02.383866+00:00", "type": "issue", "id": 107}