{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "links": {"attachments": {"href": "data/repositories/osrf/vrx/issues/133/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/vrx/issues/133.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/issues/133/watch"}, "comments": {"href": "data/repositories/osrf/vrx/issues/133/comments_page=1.json"}, "html": {"href": "#!/osrf/vrx/issues/133/generate-worlds-launch-example-no-longer"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/issues/133/vote"}}, "reporter": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "title": "Generate worlds launch example no longer working", "component": null, "votes": 0, "watches": 1, "content": {"raw": "**Descrption**\r\n\r\nI believe that there is an issue with `generate_worlds.launch`. The generated world files not longer work as expected \\(though I am certain they used to work\\).  This is likely because of how the buoyancy/wave plugins have changed. \r\n\r\nThis either requires a change in how `generate_worlds.launch` works, a change in the macros that it calls, or perhaps simply a change in the example yaml file, depending on the bug\u2019s source.\r\n\r\n**Instructions to recreate bug:**\r\n\r\n1. Follow generate worlds tutorial [#!/osrf/vrx/wiki/tutorials/Creating Many Test Worlds](#!/osrf/vrx/wiki/tutorials/Creating%20Many%20Test%20Worlds) to create 10 world files.\r\n2. Run `roslaunch vrx_gazebo sandisland.launch verbose:=true world:=/home/<username>/generated_worlds/worlds/world0.world`\r\n3. Read error:\r\n\r\n**Error Output**\r\n\r\n```\r\n[Msg] Buoyancy object\r\n\tlink: gate_end_green::link[28]\r\n\tpose: 0 0 -0.31 0 -0 0\r\n\tgeometry Sphere:0.23\r\n\tmass 25\r\n[Msg] usv_gazebo_dynamics_plugin: waveParams is null. Trying to get wave parameters from ocean model\r\n[Err] [WavefieldModelPlugin.cc:182] No Wavefield Model found with name 'ocean_waves'.\r\n[ERROR] [1562709964.805341, 0.001000]: Spawn service failed. Exiting.\r\nSegmentation fault (core dumped)\r\n[Err] [TransportIface.cc:396] Unable to connect to master.\r\n[Err] [GLWidget.cc:881] Unable to connect to a running Gazebo master.\r\n[gazebo-2] process has died [pid 7768, exit code 139, cmd /opt/ros/melodic/lib/gazebo_ros/gzserver --verbose -e ode /home/tylerlum/generated_worlds/worlds/world0.world __name:=gazebo __log:=/home/tylerlum/.ros/log/bca6b370-a295-11e9-9987-985fd3e41ed0/gazebo-2.log].\r\nlog file: /home/tylerlum/.ros/log/bca6b370-a295-11e9-9987-985fd3e41ed0/gazebo-2*.log\r\n[spawn_model-4] process has died [pid 7782, exit code 1, cmd /opt/ros/melodic/lib/gazebo_ros/spawn_model -x 158 -y 108 -z 0.1 -R 0 -P 0 -Y -2.76 -urdf -param robot_description -model wamv __name:=spawn_model __log:=/home/tylerlum/.ros/log/bca6b370-a295-11e9-9987-985fd3e41ed0/spawn_model-4.log].\r\nlog file: /home/tylerlum/.ros/log/bca6b370-a295-11e9-9987-985fd3e41ed0/spawn_model-4*.log\r\n```", "markup": "markdown", "html": "<p><strong>Descrption</strong></p>\n<p>I believe that there is an issue with <code>generate_worlds.launch</code>. The generated world files not longer work as expected (though I am certain they used to work).  This is likely because of how the buoyancy/wave plugins have changed. </p>\n<p>This either requires a change in how <code>generate_worlds.launch</code> works, a change in the macros that it calls, or perhaps simply a change in the example yaml file, depending on the bug\u2019s source.</p>\n<p><strong>Instructions to recreate bug:</strong></p>\n<ol>\n<li>Follow generate worlds tutorial <a data-is-external-link=\"true\" href=\"#!/osrf/vrx/wiki/tutorials/Creating%20Many%20Test%20Worlds\" rel=\"nofollow\">#!/osrf/vrx/wiki/tutorials/Creating Many Test Worlds</a> to create 10 world files.</li>\n<li>Run <code>roslaunch vrx_gazebo sandisland.launch verbose:=true world:=/home/&lt;username&gt;/generated_worlds/worlds/world0.world</code></li>\n<li>Read error:</li>\n</ol>\n<p><strong>Error Output</strong></p>\n<div class=\"codehilite\"><pre><span></span>[Msg] Buoyancy object\n    link: gate_end_green::link[28]\n    pose: 0 0 -0.31 0 -0 0\n    geometry Sphere:0.23\n    mass 25\n[Msg] usv_gazebo_dynamics_plugin: waveParams is null. Trying to get wave parameters from ocean model\n[Err] [WavefieldModelPlugin.cc:182] No Wavefield Model found with name &#39;ocean_waves&#39;.\n[ERROR] [1562709964.805341, 0.001000]: Spawn service failed. Exiting.\nSegmentation fault (core dumped)\n[Err] [TransportIface.cc:396] Unable to connect to master.\n[Err] [GLWidget.cc:881] Unable to connect to a running Gazebo master.\n[gazebo-2] process has died [pid 7768, exit code 139, cmd /opt/ros/melodic/lib/gazebo_ros/gzserver --verbose -e ode /home/tylerlum/generated_worlds/worlds/world0.world __name:=gazebo __log:=/home/tylerlum/.ros/log/bca6b370-a295-11e9-9987-985fd3e41ed0/gazebo-2.log].\nlog file: /home/tylerlum/.ros/log/bca6b370-a295-11e9-9987-985fd3e41ed0/gazebo-2*.log\n[spawn_model-4] process has died [pid 7782, exit code 1, cmd /opt/ros/melodic/lib/gazebo_ros/spawn_model -x 158 -y 108 -z 0.1 -R 0 -P 0 -Y -2.76 -urdf -param robot_description -model wamv __name:=spawn_model __log:=/home/tylerlum/.ros/log/bca6b370-a295-11e9-9987-985fd3e41ed0/spawn_model-4.log].\nlog file: /home/tylerlum/.ros/log/bca6b370-a295-11e9-9987-985fd3e41ed0/spawn_model-4*.log\n</pre></div>", "type": "rendered"}, "assignee": {"display_name": "Marshall Rawson", "uuid": "{e6f8e5b5-5261-44d3-b2d4-092469c4157a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be6f8e5b5-5261-44d3-b2d4-092469c4157a%7D"}, "html": {"href": "https://bitbucket.org/%7Be6f8e5b5-5261-44d3-b2d4-092469c4157a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/bd54845fa0ad1be5a529eb87d738f221d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMR-4.png"}}, "nickname": "MarshallRawson", "type": "user", "account_id": "5ce2e28709c5fa0fd9fb0c6c"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-07-09T22:14:24.325739+00:00", "milestone": {"name": "1.2", "links": {"self": {"href": "data/repositories/osrf/vrx/milestones/370076.json"}}}, "updated_on": "2019-07-09T23:08:18.285912+00:00", "type": "issue", "id": 133}