{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "links": {"attachments": {"href": "data/repositories/osrf/vrx/issues/80/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/vrx/issues/80.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/issues/80/watch"}, "comments": {"href": "data/repositories/osrf/vrx/issues/80/comments_page=1.json"}, "html": {"href": "#!/osrf/vrx/issues/80/color-sequence-not-visible-from-the"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/issues/80/vote"}}, "reporter": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "title": "Color sequence not visible from the cameras", "component": null, "votes": 0, "watches": 1, "content": {"raw": "The current implementation of the `light_buoy_plugin` has an important bug because the color pattern cannot be seen from the cameras.\r\n\r\nThe color sequence is shown from the GUI 3D view but not from the cameras.\r\n\r\nThis problem happens because we're loading the visual plugin only in the GUI side but not in the server. If we run it in the server, the main issue will be solved but a new issue will appear:\r\n\r\n  * If we request a new random sequence, only one of the plugins will receive the call and change the color. At that point, both plugins will have different color sequences, which will be very confusing. This is due to the nature of the ROS services, where only one node will process a service request.\r\n\r\nTo fix this issue, we could subscribe to a regular message. This way, both plugins will receive the color change request. At this point, we could face a new issue:\r\n\r\n* Both plugins might generate a different color sequence. Even if we use a common seed to generate the random sequence, the same combination is not guaranteed. This is because server and GUI are executing different code. \r\n\r\nTo fix this issue, we could generate all color patterns, store them in an array and choose the next element of the array whenever the plugin receives a new color request. It will not be truly random but I think it will satisfy the needs of the users in any case.", "markup": "markdown", "html": "<p>The current implementation of the <code>light_buoy_plugin</code> has an important bug because the color pattern cannot be seen from the cameras.</p>\n<p>The color sequence is shown from the GUI 3D view but not from the cameras.</p>\n<p>This problem happens because we're loading the visual plugin only in the GUI side but not in the server. If we run it in the server, the main issue will be solved but a new issue will appear:</p>\n<ul>\n<li>If we request a new random sequence, only one of the plugins will receive the call and change the color. At that point, both plugins will have different color sequences, which will be very confusing. This is due to the nature of the ROS services, where only one node will process a service request.</li>\n</ul>\n<p>To fix this issue, we could subscribe to a regular message. This way, both plugins will receive the color change request. At this point, we could face a new issue:</p>\n<ul>\n<li>Both plugins might generate a different color sequence. Even if we use a common seed to generate the random sequence, the same combination is not guaranteed. This is because server and GUI are executing different code. </li>\n</ul>\n<p>To fix this issue, we could generate all color patterns, store them in an array and choose the next element of the array whenever the plugin receives a new color request. It will not be truly random but I think it will satisfy the needs of the users in any case.</p>", "type": "rendered"}, "assignee": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-04-05T00:34:14.266273+00:00", "milestone": null, "updated_on": "2019-04-17T20:13:18.933797+00:00", "type": "issue", "id": 80}