{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "links": {"attachments": {"href": "data/repositories/osrf/vrx/issues/196/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/vrx/issues/196.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/issues/196/watch"}, "comments": {"href": "data/repositories/osrf/vrx/issues/196/comments_page=1.json"}, "html": {"href": "#!/osrf/vrx/issues/196/xacro-files-failing-during-catkin_make"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/issues/196/vote"}}, "reporter": null, "title": "Xacro files failing during catkin_make", "component": null, "votes": 0, "watches": null, "content": {"raw": "Hello,\r\n\r\nI am trying to compile your source code outside of the docker image. I have an installation of Gazebo9 and ROS melodic, along with all the dependencies I could see in the docker. I keep seeing the following issues when I try to run `catkin_make`. It appears many times for varying `xacro` files.\r\n```\r\n#!bash\r\n-- xacro: determining deps for: urdf/wamv_gazebo.urdf.xacro ...\r\nCMake Warning at xacro/cmake/xacro-extras.cmake:87 (message):\r\n  failed to determine deps for: urdf/wamv_gazebo.urdf.xacro\r\n\r\n  error: substitution args not supported: No module named msg\r\n\r\n  when processing file: urdf/wamv_gazebo.urdf.xacro\r\n\r\nCall Stack (most recent call first):\r\n  xacro/cmake/xacro-extras.cmake:187 (xacro_add_xacro_file)\r\n  vrx/wamv_gazebo/CMakeLists.txt:13 (xacro_add_files)\r\n``` \r\nThis has happened alternatively for `msg`, `Log`, and others, depending on which dependencies I set in `package.xml`, so I think it may be a dependency issue, if you'd help clarify. I don't think I should need to alter your `package.xml` files..? \r\n\r\nThere is also this warning (though I don't think it has any effect):\r\n```\r\n#!bash\r\nCMake Warning (dev) at /usr/share/cmake-3.10/Modules/FindBoost.cmake:911 (if):\r\n  Policy CMP0054 is not set: Only interpret if() arguments as variables or\r\n  keywords when unquoted.  Run \"cmake --help-policy CMP0054\" for policy\r\n  details.  Use the cmake_policy command to set the policy and suppress this\r\n  warning.\r\n\r\n  Quoted variables like \"chrono\" will no longer be dereferenced when the\r\n  policy is set to NEW.  Since the policy is not set the OLD behavior will be\r\n  used.\r\nCall Stack (most recent call first):\r\n  /usr/share/cmake-3.10/Modules/FindBoost.cmake:1558 (_Boost_MISSING_DEPENDENCIES)\r\n  /usr/share/OGRE/cmake/modules/FindOGRE.cmake:318 (find_package)\r\n  /usr/lib/x86_64-linux-gnu/cmake/gazebo/gazebo-config.cmake:175 (find_package)\r\n  vrx/vrx_gazebo/CMakeLists.txt:16 (find_package)\r\nThis warning is for project developers.  Use -Wno-dev to suppress it.\r\n```\r\nAnd this: \r\n```\r\n#!bash\r\nCMake Warning (dev) in vrx/vrx_gazebo/msgs/CMakeLists.txt:\r\n  Policy CMP0071 is not set: Let AUTOMOC and AUTOUIC process GENERATED files.\r\n  Run \"cmake --help-policy CMP0071\" for policy details.  Use the cmake_policy\r\n  command to set the policy and suppress this warning.\r\n\r\n  For compatibility, CMake is excluding the GENERATED source file(s):\r\n\r\n    \"/home/CYBERNET/ewills/gazebo_sims/tautog3/build/vrx/vrx_gazebo/msgs/light_buoy_colors.pb.cc\"\r\n    \"/home/CYBERNET/ewills/gazebo_sims/tautog3/build/vrx/vrx_gazebo/msgs/dock_placard.pb.cc\"\r\n    \"/home/CYBERNET/ewills/gazebo_sims/tautog3/build/vrx/vrx_gazebo/msgs/header.pb.cc\"\r\n    \"/home/CYBERNET/ewills/gazebo_sims/tautog3/build/vrx/vrx_gazebo/msgs/time.pb.cc\"\r\n\r\n  from processing by AUTOMOC and AUTOUIC.  If any of the files should be\r\n  processed, set CMP0071 to NEW.  If any of the files should not be\r\n  processed, explicitly exclude them by setting the source file property\r\n  SKIP_AUTOGEN:\r\n\r\n    set_property(SOURCE file.h PROPERTY SKIP_AUTOGEN ON)\r\n\r\nThis warning is for project developers.  Use -Wno-dev to suppress it.\r\n```\r\nAlong with this target fail:\r\n```\r\n#!bash\r\nCMake Warning (dev) at vrx/vrx_gazebo/CMakeLists.txt:118 (add_dependencies):\r\n  Policy CMP0046 is not set: Error on non-existent dependency in\r\n  add_dependencies.  Run \"cmake --help-policy CMP0046\" for policy details.\r\n  Use the cmake_policy command to set the policy and suppress this warning.\r\n\r\n  The dependency target \"vrx_gazebo_generate_services_cpp\" of target\r\n  \"scoring_plugin\" does not exist.\r\nThis warning is for project developers.  Use -Wno-dev to suppress it\r\n```\r\n\r\nWhich eventually gives:\r\n```\r\n#!bash\r\n[  1%] Built target wamv_description__xacro_auto_generate_to_devel_space_\r\nvrx/wamv_gazebo/CMakeFiles/wamv_gazebo__xacro_auto_generate_to_devel_space_.dir/build.make:73: *** unterminated variable reference.  Stop.\r\nCMakeFiles/Makefile2:122481: recipe for target 'vrx/wamv_gazebo/CMakeFiles/wamv_gazebo__xacro_auto_generate_to_devel_space_.dir/all' failed\r\nmake[1]: *** [vrx/wamv_gazebo/CMakeFiles/wamv_gazebo__xacro_auto_generate_to_devel_space_.dir/all] Error 2\r\nMakefile:140: recipe for target 'all' failed\r\nmake: *** [all] Error 2\r\n```\r\nCould you help clarify what might be going on?\r\nThank you!", "markup": "markdown", "html": "<p>Hello,</p>\n<p>I am trying to compile your source code outside of the docker image. I have an installation of Gazebo9 and ROS melodic, along with all the dependencies I could see in the docker. I keep seeing the following issues when I try to run <code>catkin_make</code>. It appears many times for varying <code>xacro</code> files.</p>\n<div class=\"codehilite language-bash\"><pre><span></span>-- xacro: determining deps <span class=\"k\">for</span>: urdf/wamv_gazebo.urdf.xacro ...\nCMake Warning at xacro/cmake/xacro-extras.cmake:87 <span class=\"o\">(</span>message<span class=\"o\">)</span>:\n  failed to determine deps <span class=\"k\">for</span>: urdf/wamv_gazebo.urdf.xacro\n\n  error: substitution args not supported: No module named msg\n\n  when processing file: urdf/wamv_gazebo.urdf.xacro\n\nCall Stack <span class=\"o\">(</span>most recent call first<span class=\"o\">)</span>:\n  xacro/cmake/xacro-extras.cmake:187 <span class=\"o\">(</span>xacro_add_xacro_file<span class=\"o\">)</span>\n  vrx/wamv_gazebo/CMakeLists.txt:13 <span class=\"o\">(</span>xacro_add_files<span class=\"o\">)</span>\n</pre></div>\n\n\n<p>This has happened alternatively for <code>msg</code>, <code>Log</code>, and others, depending on which dependencies I set in <code>package.xml</code>, so I think it may be a dependency issue, if you'd help clarify. I don't think I should need to alter your <code>package.xml</code> files..? </p>\n<p>There is also this warning (though I don't think it has any effect):</p>\n<div class=\"codehilite language-bash\"><pre><span></span>CMake Warning <span class=\"o\">(</span>dev<span class=\"o\">)</span> at /usr/share/cmake-3.10/Modules/FindBoost.cmake:911 <span class=\"o\">(</span><span class=\"k\">if</span><span class=\"o\">)</span>:\n  Policy CMP0054 is not set: Only interpret <span class=\"k\">if</span><span class=\"o\">()</span> arguments as variables or\n  keywords when unquoted.  Run <span class=\"s2\">&quot;cmake --help-policy CMP0054&quot;</span> <span class=\"k\">for</span> policy\n  details.  Use the cmake_policy <span class=\"nb\">command</span> to <span class=\"nb\">set</span> the policy and suppress this\n  warning.\n\n  Quoted variables like <span class=\"s2\">&quot;chrono&quot;</span> will no longer be dereferenced when the\n  policy is <span class=\"nb\">set</span> to NEW.  Since the policy is not <span class=\"nb\">set</span> the OLD behavior will be\n  used.\nCall Stack <span class=\"o\">(</span>most recent call first<span class=\"o\">)</span>:\n  /usr/share/cmake-3.10/Modules/FindBoost.cmake:1558 <span class=\"o\">(</span>_Boost_MISSING_DEPENDENCIES<span class=\"o\">)</span>\n  /usr/share/OGRE/cmake/modules/FindOGRE.cmake:318 <span class=\"o\">(</span>find_package<span class=\"o\">)</span>\n  /usr/lib/x86_64-linux-gnu/cmake/gazebo/gazebo-config.cmake:175 <span class=\"o\">(</span>find_package<span class=\"o\">)</span>\n  vrx/vrx_gazebo/CMakeLists.txt:16 <span class=\"o\">(</span>find_package<span class=\"o\">)</span>\nThis warning is <span class=\"k\">for</span> project developers.  Use -Wno-dev to suppress it.\n</pre></div>\n\n\n<p>And this: </p>\n<div class=\"codehilite language-bash\"><pre><span></span>CMake Warning <span class=\"o\">(</span>dev<span class=\"o\">)</span> in vrx/vrx_gazebo/msgs/CMakeLists.txt:\n  Policy CMP0071 is not set: Let AUTOMOC and AUTOUIC process GENERATED files.\n  Run <span class=\"s2\">&quot;cmake --help-policy CMP0071&quot;</span> <span class=\"k\">for</span> policy details.  Use the cmake_policy\n  <span class=\"nb\">command</span> to <span class=\"nb\">set</span> the policy and suppress this warning.\n\n  For compatibility, CMake is excluding the GENERATED <span class=\"nb\">source</span> file<span class=\"o\">(</span>s<span class=\"o\">)</span>:\n\n    <span class=\"s2\">&quot;/home/CYBERNET/ewills/gazebo_sims/tautog3/build/vrx/vrx_gazebo/msgs/light_buoy_colors.pb.cc&quot;</span>\n    <span class=\"s2\">&quot;/home/CYBERNET/ewills/gazebo_sims/tautog3/build/vrx/vrx_gazebo/msgs/dock_placard.pb.cc&quot;</span>\n    <span class=\"s2\">&quot;/home/CYBERNET/ewills/gazebo_sims/tautog3/build/vrx/vrx_gazebo/msgs/header.pb.cc&quot;</span>\n    <span class=\"s2\">&quot;/home/CYBERNET/ewills/gazebo_sims/tautog3/build/vrx/vrx_gazebo/msgs/time.pb.cc&quot;</span>\n\n  from processing by AUTOMOC and AUTOUIC.  If any of the files should be\n  processed, <span class=\"nb\">set</span> CMP0071 to NEW.  If any of the files should not be\n  processed, explicitly exclude them by setting the <span class=\"nb\">source</span> file property\n  SKIP_AUTOGEN:\n\n    set_property<span class=\"o\">(</span>SOURCE file.h PROPERTY SKIP_AUTOGEN ON<span class=\"o\">)</span>\n\nThis warning is <span class=\"k\">for</span> project developers.  Use -Wno-dev to suppress it.\n</pre></div>\n\n\n<p>Along with this target fail:</p>\n<div class=\"codehilite language-bash\"><pre><span></span>CMake Warning <span class=\"o\">(</span>dev<span class=\"o\">)</span> at vrx/vrx_gazebo/CMakeLists.txt:118 <span class=\"o\">(</span>add_dependencies<span class=\"o\">)</span>:\n  Policy CMP0046 is not set: Error on non-existent dependency in\n  add_dependencies.  Run <span class=\"s2\">&quot;cmake --help-policy CMP0046&quot;</span> <span class=\"k\">for</span> policy details.\n  Use the cmake_policy <span class=\"nb\">command</span> to <span class=\"nb\">set</span> the policy and suppress this warning.\n\n  The dependency target <span class=\"s2\">&quot;vrx_gazebo_generate_services_cpp&quot;</span> of target\n  <span class=\"s2\">&quot;scoring_plugin&quot;</span> does not exist.\nThis warning is <span class=\"k\">for</span> project developers.  Use -Wno-dev to suppress it\n</pre></div>\n\n\n<p>Which eventually gives:</p>\n<div class=\"codehilite language-bash\"><pre><span></span><span class=\"o\">[</span>  <span class=\"m\">1</span>%<span class=\"o\">]</span> Built target wamv_description__xacro_auto_generate_to_devel_space_\nvrx/wamv_gazebo/CMakeFiles/wamv_gazebo__xacro_auto_generate_to_devel_space_.dir/build.make:73: *** unterminated variable reference.  Stop.\nCMakeFiles/Makefile2:122481: recipe <span class=\"k\">for</span> target <span class=\"s1\">&#39;vrx/wamv_gazebo/CMakeFiles/wamv_gazebo__xacro_auto_generate_to_devel_space_.dir/all&#39;</span> failed\nmake<span class=\"o\">[</span><span class=\"m\">1</span><span class=\"o\">]</span>: *** <span class=\"o\">[</span>vrx/wamv_gazebo/CMakeFiles/wamv_gazebo__xacro_auto_generate_to_devel_space_.dir/all<span class=\"o\">]</span> Error <span class=\"m\">2</span>\nMakefile:140: recipe <span class=\"k\">for</span> target <span class=\"s1\">&#39;all&#39;</span> failed\nmake: *** <span class=\"o\">[</span>all<span class=\"o\">]</span> Error <span class=\"m\">2</span>\n</pre></div>\n\n\n<p>Could you help clarify what might be going on?\nThank you!</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2020-03-04T21:21:28.676279+00:00", "milestone": null, "updated_on": "2020-04-10T03:37:21.192742+00:00", "type": "issue", "id": 196}