{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "links": {"attachments": {"href": "data/repositories/osrf/vrx/issues/158/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/vrx/issues/158.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/issues/158/watch"}, "comments": {"href": "data/repositories/osrf/vrx/issues/158/comments_page=1.json"}, "html": {"href": "#!/osrf/vrx/issues/158/usv_dynamics_plugin-segfaults"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/issues/158/vote"}}, "reporter": null, "title": "usv_dynamics_plugin segfaults", "component": null, "votes": 0, "watches": null, "content": {"raw": "I am trying to integrate vrx simulation in to a [PX4 software in the loop simulation(SITL)](https://dev.px4.io/v1.9.0/en/simulation/gazebo.html)\r\n\r\nI have written a sdf file which contains the `usv_gazebo_dynamics_plugin` with a mavlink plugin in order to be able to run it with the PX4 rover firmware.\r\n\r\nHowever, it segfaults when being launched. The line where it segfaults seems to be this line: #!/osrf/vrx/src/18d0d4a67be09297366d667b52c20fa57e767d83/usv_gazebo_plugins/src/usv_gazebo_dynamics_plugin.cc#lines-320\r\n\r\nI added the following lines in my sdf file for the boat.\r\n```\r\n      <plugin name=\"usv_dynamics\" filename=\"libusv_gazebo_dynamics_plugin.so\">\r\n        <bodyName>base_link</bodyName>\r\n        <!-- Length discretization, AKA, \"N\" -->\r\n        <length_n>2</length_n>\r\n        <!-- Wave model -->\r\n        <wave_model>ocean_waves</wave_model>\r\n      </plugin>\r\n```\r\nIs there some other plugin that needs to be launched prior to launching the dyanamics plugin?", "markup": "markdown", "html": "<p>I am trying to integrate vrx simulation in to a <a data-is-external-link=\"true\" href=\"https://dev.px4.io/v1.9.0/en/simulation/gazebo.html\" rel=\"nofollow\">PX4 software in the loop simulation(SITL)</a></p>\n<p>I have written a sdf file which contains the <code>usv_gazebo_dynamics_plugin</code> with a mavlink plugin in order to be able to run it with the PX4 rover firmware.</p>\n<p>However, it segfaults when being launched. The line where it segfaults seems to be this line: <a href=\"#!/osrf/vrx/src/18d0d4a67be09297366d667b52c20fa57e767d83/usv_gazebo_plugins/src/usv_gazebo_dynamics_plugin.cc#lines-320\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/vrx/src/18d0d4a67be09297366d667b52c20fa57e767d83/usv_gazebo_plugins/src/usv_gazebo_dynamics_plugin.cc#lines-320</a></p>\n<p>I added the following lines in my sdf file for the boat.</p>\n<div class=\"codehilite\"><pre><span></span>      <span class=\"nt\">&lt;plugin</span> <span class=\"na\">name=</span><span class=\"s\">&quot;usv_dynamics&quot;</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;libusv_gazebo_dynamics_plugin.so&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;bodyName&gt;</span>base_link<span class=\"nt\">&lt;/bodyName&gt;</span>\n        <span class=\"c\">&lt;!-- Length discretization, AKA, &quot;N&quot; --&gt;</span>\n        <span class=\"nt\">&lt;length_n&gt;</span>2<span class=\"nt\">&lt;/length_n&gt;</span>\n        <span class=\"c\">&lt;!-- Wave model --&gt;</span>\n        <span class=\"nt\">&lt;wave_model&gt;</span>ocean_waves<span class=\"nt\">&lt;/wave_model&gt;</span>\n      <span class=\"nt\">&lt;/plugin&gt;</span>\n</pre></div>\n\n\n<p>Is there some other plugin that needs to be launched prior to launching the dyanamics plugin?</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-09-06T07:44:46.905028+00:00", "milestone": null, "updated_on": "2019-10-04T20:06:39.582646+00:00", "type": "issue", "id": 158}