{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "links": {"attachments": {"href": "data/repositories/osrf/vrx/issues/146/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/vrx/issues/146.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/issues/146/watch"}, "comments": {"href": "data/repositories/osrf/vrx/issues/146/comments_page=1.json"}, "html": {"href": "#!/osrf/vrx/issues/146/bug-in-dock-challenge-world-generation"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/issues/146/vote"}}, "reporter": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "title": "Bug in Dock Challenge World Generation", "component": null, "votes": 0, "watches": 1, "content": {"raw": "**Overview**\r\n\r\nWhen running the dock challenge with a yaml-generated world file, it does not have `/vrx/task/info` topic published. I also do not think that there is a scoring plugin in the generated world.\r\n\r\n**Steps to recreate**\r\n\r\n1. Source vrx-ws and move to vrx\\_gazebo `roscd vrx_gazebo`\r\n2. Run `mkdir -p ~/worlds ~/world_xacros`\r\n3. Run ``roslaunch vrx_gazebo generate_worlds.launch requested:=`pwd`/worlds/yamls/dock_shallow.yaml world_xacro_target:=\"$HOME/world_xacros/\" world_target:=\"$HOME/worlds/\"``\r\n4. Run `roslaunch vrx_gazebo sandisland.launch world:=\"$HOME/worlds/dock_shallow0.world\"`\r\n5. Read the error message\r\n6. Investigate in the yaml and generated world\r\n\r\nFix the issue in dock\\_shallow.yaml and dock\\_deep.yaml\r\n\r\n```\r\n[ INFO] [1564515562.748912400]: Finished loading Gazebo ROS API Plugin.\r\n[ INFO] [1564515562.750461226]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...\r\n[ INFO] [1564515562.826416911]: Finished loading Gazebo ROS API Plugin.\r\n[ INFO] [1564515562.831601765]: waitForService: Service [/gazebo_gui/set_physics_properties] has not been advertised, waiting...\r\nWarning [parser.cc:759] XML Attribute[xmlns:xacro] in element[sdf] not defined in SDF, ignoring.\r\nWarning [parser.cc:759] XML Attribute[xmlns:xacro] in element[world] not defined in SDF, ignoring.\r\nthe rosdep view is empty: call 'sudo rosdep init' and 'rosdep update'\r\nError [Element.cc:702] Missing element description for [symbol_topic]\r\n[ERROR] [1564515565.196772065]: <gates::gate::symbol_topic> missing\r\n[ INFO] [1564515565.419532714, 0.021000000]: waitForService: Service [/gazebo/set_physics_properties] is now available.\r\n[ INFO] [1564515565.467753301, 0.063000000]: Physics dynamic reconfigure ready.\r\n[spawn_model-3] process has finished cleanly\r\nlog file: /home/tylerlum/.ros/log/3b256edc-b2fc-11e9-b196-985fd3e41ed0/spawn_model-3*.log\r\n[ INFO] [1564515567.941737057, 2.453000000]: New symbol is blue circle\r\n[ INFO] [1564515567.949750383, 2.461000000]: New symbol is blue circle\r\n```\r\n\r\nLikely issue: `[ERROR] [1564515565.196772065]: <gates::gate::symbol_topic> missing`", "markup": "markdown", "html": "<p><strong>Overview</strong></p>\n<p>When running the dock challenge with a yaml-generated world file, it does not have <code>/vrx/task/info</code> topic published. I also do not think that there is a scoring plugin in the generated world.</p>\n<p><strong>Steps to recreate</strong></p>\n<ol>\n<li>Source vrx-ws and move to vrx_gazebo <code>roscd vrx_gazebo</code></li>\n<li>Run <code>mkdir -p ~/worlds ~/world_xacros</code></li>\n<li>Run <code>roslaunch vrx_gazebo generate_worlds.launch requested:=`pwd`/worlds/yamls/dock_shallow.yaml world_xacro_target:=\"$HOME/world_xacros/\" world_target:=\"$HOME/worlds/\"</code></li>\n<li>Run <code>roslaunch vrx_gazebo sandisland.launch world:=\"$HOME/worlds/dock_shallow0.world\"</code></li>\n<li>Read the error message</li>\n<li>Investigate in the yaml and generated world</li>\n</ol>\n<p>Fix the issue in dock_shallow.yaml and dock_deep.yaml</p>\n<div class=\"codehilite\"><pre><span></span>[ INFO] [1564515562.748912400]: Finished loading Gazebo ROS API Plugin.\n[ INFO] [1564515562.750461226]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...\n[ INFO] [1564515562.826416911]: Finished loading Gazebo ROS API Plugin.\n[ INFO] [1564515562.831601765]: waitForService: Service [/gazebo_gui/set_physics_properties] has not been advertised, waiting...\nWarning [parser.cc:759] XML Attribute[xmlns:xacro] in element[sdf] not defined in SDF, ignoring.\nWarning [parser.cc:759] XML Attribute[xmlns:xacro] in element[world] not defined in SDF, ignoring.\nthe rosdep view is empty: call &#39;sudo rosdep init&#39; and &#39;rosdep update&#39;\nError [Element.cc:702] Missing element description for [symbol_topic]\n[ERROR] [1564515565.196772065]: &lt;gates::gate::symbol_topic&gt; missing\n[ INFO] [1564515565.419532714, 0.021000000]: waitForService: Service [/gazebo/set_physics_properties] is now available.\n[ INFO] [1564515565.467753301, 0.063000000]: Physics dynamic reconfigure ready.\n[spawn_model-3] process has finished cleanly\nlog file: /home/tylerlum/.ros/log/3b256edc-b2fc-11e9-b196-985fd3e41ed0/spawn_model-3*.log\n[ INFO] [1564515567.941737057, 2.453000000]: New symbol is blue circle\n[ INFO] [1564515567.949750383, 2.461000000]: New symbol is blue circle\n</pre></div>\n\n\n<p>Likely issue: <code>[ERROR] [1564515565.196772065]: &lt;gates::gate::symbol_topic&gt; missing</code></p>", "type": "rendered"}, "assignee": {"display_name": "Marshall Rawson", "uuid": "{e6f8e5b5-5261-44d3-b2d4-092469c4157a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be6f8e5b5-5261-44d3-b2d4-092469c4157a%7D"}, "html": {"href": "https://bitbucket.org/%7Be6f8e5b5-5261-44d3-b2d4-092469c4157a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/bd54845fa0ad1be5a529eb87d738f221d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMR-4.png"}}, "nickname": "MarshallRawson", "type": "user", "account_id": "5ce2e28709c5fa0fd9fb0c6c"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-07-30T19:40:02.911151+00:00", "milestone": {"name": "1.2", "links": {"self": {"href": "data/repositories/osrf/vrx/milestones/370076.json"}}}, "updated_on": "2019-08-07T20:42:23.455971+00:00", "type": "issue", "id": 146}