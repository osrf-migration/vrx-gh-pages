{"changes": {"content": {"new": "Hi, I understand that the IMU sensor plugin outputs in ENU format. Internally, our codebase uses NED format so we have tried to invert the IMU plugin by inverting the quaternion \\(w \\*= -1\\). While this seemed to work for the controls module \\(moving the vehicle around from waypoint to waypoint\\), it seems to mess with other parts with our codebase such as the costmap we generate for obstacle avoidance. Moving the wamv forward seems to move the costmap and vehicle to the left while visualizing in RVIZ. The same behavior occurs even when utilizing the open source cost map solution \u201ccostmap\\_2d\u201d. I suspect it has to do with the transforms in which x and y are swapped from base\\_link due to ENU convention. Is there any clean way to interface with the VRX plugin such that internally our codebase can maintain the NED convention? Any help is appreciated.", "old": "Hi, I understand that the IMU sensor plugin outputs in ENU format. Internally, our codebase uses NED format so we have tried to invert the IMU plugin by inverting the quaternion \\(w \\*= -1\\). While this seemed to work for the controls module \\(moving the vehicle around from waypoint to waypoint\\), it seems to mess with other parts with our codebase such as the costmap we generate for obstacle avoidance. Moving the wamv forward seems to move the costmap and vehicle to the left while visualizing in RVIZ. The same behavior occurs even when utilizing the open source cost map solution \u201ccostmap\\_2d\u201d. I suspect it has to do with the transforms in which x and y are swapped from base\\_link due to ENU convention. Will publishing another transform like base\\_link\\_ned \\(which is derived form base\\_link\\) solve this issue? Is there any clean way to interface with the IMU plugin such that internally our codebase can maintain the NED convention? Any help is appreciated."}}, "links": {"self": {"href": "data/repositories/osrf/vrx/issues/173/changes/54223474.json"}, "html": {"href": "#!/osrf/vrx/issues/173#comment-54223474"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/vrx/issues/173.json"}}, "type": "issue", "id": 173, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "title": "ENU to NED Issues"}, "created_on": "2019-10-06T12:25:47.996501+00:00", "user": {"display_name": "Hashir Zahir", "uuid": "{0033cdb9-ea6e-4c6a-a9ad-d462a485643d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0033cdb9-ea6e-4c6a-a9ad-d462a485643d%7D"}, "html": {"href": "https://bitbucket.org/%7B0033cdb9-ea6e-4c6a-a9ad-d462a485643d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/3c71628af17207fad1dd0ea6280b41f1d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsHZ-5.png"}}, "nickname": "hzahir", "type": "user", "account_id": "557058:6b6463b7-2835-47c7-8c22-fdef36e9e325"}, "message": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "type": "issue_change", "id": 54223474}