{"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/100/comments/104194909.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/diff/ykhky/vrx:f2c79ed9056e..a35841598769?path=usv_gazebo_plugins%2Fsrc%2Fusv_gazebo_wind_plugin.cc"}, "html": {"href": "#!/osrf/vrx/pull-requests/100/_/diff#comment-104194909"}}, "parent": {"id": 103849497, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/100/comments/103849497.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/100/_/diff#comment-103849497"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 100, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/100.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/100"}}, "title": "Issue#91 wind plugin ROS interface"}, "content": {"raw": "I was thinking that too but I reconsidered when I examined all the places `this->windDirection` is being used. \n\nFor example `windDirection` needs to be a `ignition::math::Vector3d` for this calculation.\n\n```c++\n   ignition::math::Vector3d relativeWind =\n     this->link->WorldPose().Rot().Inverse().RotateVector(\n       this->windDirection*velocity);\n```", "markup": "markdown", "html": "<p>I was thinking that too but I reconsidered when I examined all the places <code>this-&gt;windDirection</code> is being used. </p>\n<p>For example <code>windDirection</code> needs to be a <code>ignition::math::Vector3d</code> for this calculation.</p>\n<div class=\"codehilite language-c++\"><pre><span></span>   <span class=\"n\">ignition</span><span class=\"o\">::</span><span class=\"n\">math</span><span class=\"o\">::</span><span class=\"n\">Vector3d</span> <span class=\"n\">relativeWind</span> <span class=\"o\">=</span>\n     <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">link</span><span class=\"o\">-&gt;</span><span class=\"n\">WorldPose</span><span class=\"p\">().</span><span class=\"n\">Rot</span><span class=\"p\">().</span><span class=\"n\">Inverse</span><span class=\"p\">().</span><span class=\"n\">RotateVector</span><span class=\"p\">(</span>\n       <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">windDirection</span><span class=\"o\">*</span><span class=\"n\">velocity</span><span class=\"p\">);</span>\n</pre></div>", "type": "rendered"}, "created_on": "2019-06-02T22:14:11.049881+00:00", "user": {"display_name": "Youssef Khaky", "uuid": "{81e64e97-20aa-4162-b74d-78d62382b253}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B81e64e97-20aa-4162-b74d-78d62382b253%7D"}, "html": {"href": "https://bitbucket.org/%7B81e64e97-20aa-4162-b74d-78d62382b253%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5c965b5f742be32d893e3c3e/9f53f133-3a91-402f-8543-5877955742a4/128"}}, "nickname": "ykhky", "type": "user", "account_id": "5c965b5f742be32d893e3c3e"}, "inline": {"to": 73, "from": null, "outdated": true, "path": "usv_gazebo_plugins/src/usv_gazebo_wind_plugin.cc"}, "updated_on": "2019-06-02T22:14:11.059228+00:00", "type": "pullrequest_comment", "id": 104194909}