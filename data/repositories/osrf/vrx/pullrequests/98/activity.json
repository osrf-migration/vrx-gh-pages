{"pagelen": 50, "values": [{"update": {"description": "* Added `3d_lidar.dae` and `3d_lidar.png`\r\n* Added `sensor_post.dae`, `sensor_post_arm.dae`, and `sensor_post.png` \\(needed to break up post into two .dae files\\)\r\n* Created 3d\\_lidar model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Created sensor\\_post model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Replace basic cylinder lidar with 3d\\_lidar mesh onto wam-v, and changed position of lidar\r\n* Add sensor post to 3d\\_lidar on WAM-V, with adjustable `height` parameter that changes the height of the 3d\\_lidar relative to the post \\(pictures shown below\\)\r\n\r\n**Original Lidar \\+ Position**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1082884688-Original_Lidar_Look_and_Position.png)\r\n**New Lidar without Post**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/22979877-Lidar_no_post.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1382969760-Lidar_no_post_collision.png)\r\n**New Lidar on Post \\(height=0.25 Y=-pi/2 both default\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2965611972-Lidar%20on%20post%20with%20collision.png)\r\n**New Lidar on Post \\(set height=0.15, Y=pi/4\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3070962316-Lidar%20on%20Post%20changed%20h%20and%20Y.png)\r\n**Questions:**\r\n\r\n* Is there a reason that the lidar was originally offset in the y direction by 0.3? I moved it to the center, but I\u2019m not sure if there was a reason for that before\r\n* Estimated 1kg mass of lidar, 0.5kg mass of pole, 0.1kg mass of pole arm \\(part with ball\\). Estimate based on a chart showing lidar of similar shapes and sizes. [https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR\\_Comparison.pdf](https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR_Comparison.pdf)\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3431455893-Lidar_Weight_1.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2758874465-Lidar_Weight_2.png)", "title": "Add 3D Lidar mesh and put it on WAM-V", "destination": {"commit": {"hash": "76b4cb73809c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/76b4cb73809c.json"}, "html": {"href": "#!/osrf/vrx/commits/76b4cb73809c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e98feaa92b2d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/e98feaa92b2d.json"}, "html": {"href": "#!/osrf/vrx/commits/e98feaa92b2d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "Issue#86-add-3d-lidar-mesh"}}, "state": "MERGED", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2019-05-30T17:05:33.710944+00:00"}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"approval": {"date": "2019-05-30T17:02:07.107403+00:00", "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/104000509.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-104000509"}}, "parent": {"id": 103921933, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103921933.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103921933"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "Great! I just tested it and seems to work as expected. I updated the macro documentation in [e98feaa](#!/osrf/vrx/commits/e98feaa92b2d945b6a58eb29cccfa37b4f579d36).", "markup": "markdown", "html": "<p>Great! I just tested it and seems to work as expected. I updated the macro documentation in <a data-is-external-link=\"true\" href=\"#!/osrf/vrx/commits/e98feaa92b2d945b6a58eb29cccfa37b4f579d36\" rel=\"nofollow\">e98feaa</a>.</p>", "type": "rendered"}, "created_on": "2019-05-30T17:02:01.554288+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2019-05-30T17:02:01.653013+00:00", "type": "pullrequest_comment", "id": 104000509}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"update": {"description": "* Added `3d_lidar.dae` and `3d_lidar.png`\r\n* Added `sensor_post.dae`, `sensor_post_arm.dae`, and `sensor_post.png` \\(needed to break up post into two .dae files\\)\r\n* Created 3d\\_lidar model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Created sensor\\_post model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Replace basic cylinder lidar with 3d\\_lidar mesh onto wam-v, and changed position of lidar\r\n* Add sensor post to 3d\\_lidar on WAM-V, with adjustable `height` parameter that changes the height of the 3d\\_lidar relative to the post \\(pictures shown below\\)\r\n\r\n**Original Lidar \\+ Position**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1082884688-Original_Lidar_Look_and_Position.png)\r\n**New Lidar without Post**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/22979877-Lidar_no_post.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1382969760-Lidar_no_post_collision.png)\r\n**New Lidar on Post \\(height=0.25 Y=-pi/2 both default\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2965611972-Lidar%20on%20post%20with%20collision.png)\r\n**New Lidar on Post \\(set height=0.15, Y=pi/4\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3070962316-Lidar%20on%20Post%20changed%20h%20and%20Y.png)\r\n**Questions:**\r\n\r\n* Is there a reason that the lidar was originally offset in the y direction by 0.3? I moved it to the center, but I\u2019m not sure if there was a reason for that before\r\n* Estimated 1kg mass of lidar, 0.5kg mass of pole, 0.1kg mass of pole arm \\(part with ball\\). Estimate based on a chart showing lidar of similar shapes and sizes. [https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR\\_Comparison.pdf](https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR_Comparison.pdf)\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3431455893-Lidar_Weight_1.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2758874465-Lidar_Weight_2.png)", "title": "Add 3D Lidar mesh and put it on WAM-V", "destination": {"commit": {"hash": "76b4cb73809c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/76b4cb73809c.json"}, "html": {"href": "#!/osrf/vrx/commits/76b4cb73809c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e98feaa92b2d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/e98feaa92b2d.json"}, "html": {"href": "#!/osrf/vrx/commits/e98feaa92b2d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "Issue#86-add-3d-lidar-mesh"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2019-05-30T17:00:54.571567+00:00"}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103924228.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103924228"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "**Default: x=\"0.7\" y=\"0\" z=\"1.8\" R=\"0\" P=\"$\\{radians\\(15\\)\\}\" Y=\"0\" post\\_Y=\"0\"**\n\n![](data/bitbucket.org/repo/BgXLzgM/images/538477831-Working_Lidar_Post_1.png)\n\u200c\n\n**Test Pose \\(x=\"0.6\" y=\"0.1\" z=\"1.4\" R=\"$\\{radians\\(10\\)\\}\" P=\"0\" Y=\"0\" post\\_Y=\"$\\{3\\*pi/4\\}\"\\)**\n\nLidar in `(x,y,z,R,P,Y)` of world frame and pole swivels around to meet it.\n\n![](data/bitbucket.org/repo/BgXLzgM/images/511788071-Working_Lidar_Pose_3.png)\n\u200c\n\n![](data/bitbucket.org/repo/BgXLzgM/images/599043625-Working_Lidar_Pose_2.png)\n", "markup": "markdown", "html": "<p><strong>Default: x=\"0.7\" y=\"0\" z=\"1.8\" R=\"0\" P=\"${radians(15)}\" Y=\"0\" post_Y=\"0\"</strong></p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/538477831-Working_Lidar_Post_1.png\" />\n\u200c</p>\n<p><strong>Test Pose (x=\"0.6\" y=\"0.1\" z=\"1.4\" R=\"${radians(10)}\" P=\"0\" Y=\"0\" post_Y=\"${3*pi/4}\")</strong></p>\n<p>Lidar in <code>(x,y,z,R,P,Y)</code> of world frame and pole swivels around to meet it.</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/511788071-Working_Lidar_Pose_3.png\" />\n\u200c</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/599043625-Working_Lidar_Pose_2.png\" /></p>", "type": "rendered"}, "created_on": "2019-05-30T08:28:32.777054+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-05-30T08:28:55.919227+00:00", "type": "pullrequest_comment", "id": 103924228}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103921933.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103921933"}}, "parent": {"id": 103885773, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103885773.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103885773"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "Completed in [96fd3f6](#!/osrf/vrx/commits/96fd3f6c2067117012dc1244052d653fc69162f8).\n\nI tried a many different methods and I found that\n\n`Base Link <= Post (x-side_arm_length, y, platform_z, 0, 0, 0) <= Arm (side_arm_length, 0, 0, 0, 0, 0) <= Lidar (0, 0, z-platform_z, r, p, y)`\n\nended up working best. It required no adjustment links/joints.\n\nMy biggest issues was figuring out how to adjust the `post` and `arm` links individually such that when making joints, they require no adjustments in `rpy` when forming joints. As well, it was important that `rpy` of early joints remained 0 so that no adjustment joints would be necessary to maintain alignment with base frame.\n\n\u200c\n\n**Base<=Post \\(Much more easily read and understood\\)**\n\n```\n    <!-- Base to sensor post joint -->\n    <joint name=\"base_to_${name}_post_joint\" type=\"fixed\">\n      <origin xyz=\"${x-(0.03+0.04)*cos(post_Y)} ${y-(0.03+0.04)*sin(post_Y)} 1.545\" rpy=\"0 0 ${post_Y}\" />\n      <parent link=\"base_link\" />\n      <child link=\"${name}_post_link\" />\n    </joint>\n\n    <!-- Sensor post to sensor post arm joint -->\n    <joint name=\"${name}_post_to_${name}_post_arm_joint\" type=\"fixed\">\n      <origin xyz=\"0.03 0 ${z-1.545-0.05}\" rpy=\"0 0 0\" />\n      <parent link=\"${name}_post_link\" />\n      <child link=\"${name}_post_arm_link\" />\n    </joint>\n\n    <!-- Sensor post arm to lidar joint -->\n    <joint name=\"${name}_post_arm_to_${name}_joint\" type=\"fixed\">\n      <origin xyz=\"0.04 0 0.05\" rpy=\"${R} ${P} ${Y-post_Y}\" />\n      <parent link=\"${name}_post_arm_link\" />\n      <child link=\"${name}_link\" />\n    </joint>\n```\n\n**Base<=Lidar \\(harder to read and understand the 1st joint has nonzero rpy, so that angle propogates. This requires an adjustment link to maintain alignment with base frame. If there was no adjustment joint, then the xyz of sensor\\_post will be much more complicated\\)**\n\n```\n    <!-- Base to lidar joint -->\n    <joint name=\"base_to_${name}_joint\" type=\"fixed\">\n      <origin xyz=\"${x} ${y} ${z}\" rpy=\"${R} ${P} ${Y}\" />\n      <parent link=\"base_link\" />\n      <child link=\"${name}_link\" />\n    </joint>\n\n    <!-- Adjustment joint -->\n    <link name=\"adjustment_link\"/>\n    <joint name=\"adjustment_joint\" type=\"fixed\">\n      <origin xyz=\"0 0 0\" rpy=\"${-R} ${-P} ${-Y}\" />\n      <parent link=\"${name}_link\" />\n      <child link=\"adjustment_link\" />\n    </joint>\n\n    <!-- Lidar to sensor post arm joint -->\n    <joint name=\"${name}_to_${name}_post_arm_joint\" type=\"fixed\">\n      <origin xyz=\"${-0.04*cos(post_Y)} ${-0.04*sin(post_Y)} -0.05\" rpy=\"0 0 ${post_Y}\" />\n      <parent link=\"adjustment_link\" />\n      <child link=\"${name}_post_arm_link\" />\n    </joint>\n\n    <!-- Adjustment joint -->\n    <link name=\"adjustment_2_link\"/>\n    <joint name=\"adjustment_2_joint\" type=\"fixed\">\n      <origin xyz=\"0 0 0\" rpy=\"0 0 ${-post_Y}\" />\n      <parent link=\"${name}_post_arm_link\" />\n      <child link=\"adjustment_2_link\" />\n    </joint>\n    \n    <!-- Sensor post arm to sensor post joint -->\n    <joint name=\"${name}_post_arm_to_${name}_post_joint\" type=\"fixed\">\n      <origin xyz=\"${-0.03*cos(post_Y)} ${-0.03*sin(post_Y)} ${1.545+0.05-z}\" rpy=\"0 0 0\" />\n      <parent link=\"adjustment_2_link\" />\n      <child link=\"${name}_post_link\" />\n    </joint>\n```", "markup": "markdown", "html": "<p>Completed in <a data-is-external-link=\"true\" href=\"#!/osrf/vrx/commits/96fd3f6c2067117012dc1244052d653fc69162f8\" rel=\"nofollow\">96fd3f6</a>.</p>\n<p>I tried a many different methods and I found that</p>\n<p><code>Base Link &lt;= Post (x-side_arm_length, y, platform_z, 0, 0, 0) &lt;= Arm (side_arm_length, 0, 0, 0, 0, 0) &lt;= Lidar (0, 0, z-platform_z, r, p, y)</code></p>\n<p>ended up working best. It required no adjustment links/joints.</p>\n<p>My biggest issues was figuring out how to adjust the <code>post</code> and <code>arm</code> links individually such that when making joints, they require no adjustments in <code>rpy</code> when forming joints. As well, it was important that <code>rpy</code> of early joints remained 0 so that no adjustment joints would be necessary to maintain alignment with base frame.</p>\n<p>\u200c</p>\n<p><strong>Base&lt;=Post (Much more easily read and understood)</strong></p>\n<div class=\"codehilite\"><pre><span></span>    <span class=\"c\">&lt;!-- Base to sensor post joint --&gt;</span>\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;base_to_</span><span class=\"cp\">${</span><span class=\"n\">name</span><span class=\"cp\">}</span><span class=\"s\">_post_joint&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;fixed&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"n\">x</span><span class=\"o\">-</span><span class=\"p\">(</span><span class=\"mf\">0.03</span><span class=\"o\">+</span><span class=\"mf\">0.04</span><span class=\"p\">)</span><span class=\"o\">*</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">post_Y</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"s\"> </span><span class=\"cp\">${</span><span class=\"n\">y</span><span class=\"o\">-</span><span class=\"p\">(</span><span class=\"mf\">0.03</span><span class=\"o\">+</span><span class=\"mf\">0.04</span><span class=\"p\">)</span><span class=\"o\">*</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">post_Y</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"s\"> 1.545&quot;</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;0 0 </span><span class=\"cp\">${</span><span class=\"n\">post_Y</span><span class=\"cp\">}</span><span class=\"s\">&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;parent</span> <span class=\"na\">link=</span><span class=\"s\">&quot;base_link&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;child</span> <span class=\"na\">link=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"n\">name</span><span class=\"cp\">}</span><span class=\"s\">_post_link&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n\n    <span class=\"c\">&lt;!-- Sensor post to sensor post arm joint --&gt;</span>\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"n\">name</span><span class=\"cp\">}</span><span class=\"s\">_post_to_</span><span class=\"cp\">${</span><span class=\"n\">name</span><span class=\"cp\">}</span><span class=\"s\">_post_arm_joint&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;fixed&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0.03 0 </span><span class=\"cp\">${</span><span class=\"n\">z</span><span class=\"o\">-</span><span class=\"mf\">1.545</span><span class=\"o\">-</span><span class=\"mf\">0.05</span><span class=\"cp\">}</span><span class=\"s\">&quot;</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;0 0 0&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;parent</span> <span class=\"na\">link=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"n\">name</span><span class=\"cp\">}</span><span class=\"s\">_post_link&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;child</span> <span class=\"na\">link=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"n\">name</span><span class=\"cp\">}</span><span class=\"s\">_post_arm_link&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n\n    <span class=\"c\">&lt;!-- Sensor post arm to lidar joint --&gt;</span>\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"n\">name</span><span class=\"cp\">}</span><span class=\"s\">_post_arm_to_</span><span class=\"cp\">${</span><span class=\"n\">name</span><span class=\"cp\">}</span><span class=\"s\">_joint&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;fixed&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0.04 0 0.05&quot;</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"n\">R</span><span class=\"cp\">}</span><span class=\"s\"> </span><span class=\"cp\">${</span><span class=\"n\">P</span><span class=\"cp\">}</span><span class=\"s\"> </span><span class=\"cp\">${</span><span class=\"n\">Y</span><span class=\"o\">-</span><span class=\"n\">post_Y</span><span class=\"cp\">}</span><span class=\"s\">&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;parent</span> <span class=\"na\">link=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"n\">name</span><span class=\"cp\">}</span><span class=\"s\">_post_arm_link&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;child</span> <span class=\"na\">link=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"n\">name</span><span class=\"cp\">}</span><span class=\"s\">_link&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n</pre></div>\n\n\n<p><strong>Base&lt;=Lidar (harder to read and understand the 1st joint has nonzero rpy, so that angle propogates. This requires an adjustment link to maintain alignment with base frame. If there was no adjustment joint, then the xyz of sensor_post will be much more complicated)</strong></p>\n<div class=\"codehilite\"><pre><span></span>    <span class=\"c\">&lt;!-- Base to lidar joint --&gt;</span>\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;base_to_</span><span class=\"cp\">${</span><span class=\"n\">name</span><span class=\"cp\">}</span><span class=\"s\">_joint&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;fixed&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"n\">x</span><span class=\"cp\">}</span><span class=\"s\"> </span><span class=\"cp\">${</span><span class=\"n\">y</span><span class=\"cp\">}</span><span class=\"s\"> </span><span class=\"cp\">${</span><span class=\"n\">z</span><span class=\"cp\">}</span><span class=\"s\">&quot;</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"n\">R</span><span class=\"cp\">}</span><span class=\"s\"> </span><span class=\"cp\">${</span><span class=\"n\">P</span><span class=\"cp\">}</span><span class=\"s\"> </span><span class=\"cp\">${</span><span class=\"n\">Y</span><span class=\"cp\">}</span><span class=\"s\">&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;parent</span> <span class=\"na\">link=</span><span class=\"s\">&quot;base_link&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;child</span> <span class=\"na\">link=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"n\">name</span><span class=\"cp\">}</span><span class=\"s\">_link&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n\n    <span class=\"c\">&lt;!-- Adjustment joint --&gt;</span>\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;adjustment_link&quot;/</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;adjustment_joint&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;fixed&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0 0 0&quot;</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"o\">-</span><span class=\"n\">R</span><span class=\"cp\">}</span><span class=\"s\"> </span><span class=\"cp\">${</span><span class=\"o\">-</span><span class=\"n\">P</span><span class=\"cp\">}</span><span class=\"s\"> </span><span class=\"cp\">${</span><span class=\"o\">-</span><span class=\"n\">Y</span><span class=\"cp\">}</span><span class=\"s\">&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;parent</span> <span class=\"na\">link=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"n\">name</span><span class=\"cp\">}</span><span class=\"s\">_link&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;child</span> <span class=\"na\">link=</span><span class=\"s\">&quot;adjustment_link&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n\n    <span class=\"c\">&lt;!-- Lidar to sensor post arm joint --&gt;</span>\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"n\">name</span><span class=\"cp\">}</span><span class=\"s\">_to_</span><span class=\"cp\">${</span><span class=\"n\">name</span><span class=\"cp\">}</span><span class=\"s\">_post_arm_joint&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;fixed&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"o\">-</span><span class=\"mf\">0.04</span><span class=\"o\">*</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">post_Y</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"s\"> </span><span class=\"cp\">${</span><span class=\"o\">-</span><span class=\"mf\">0.04</span><span class=\"o\">*</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">post_Y</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"s\"> -0.05&quot;</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;0 0 </span><span class=\"cp\">${</span><span class=\"n\">post_Y</span><span class=\"cp\">}</span><span class=\"s\">&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;parent</span> <span class=\"na\">link=</span><span class=\"s\">&quot;adjustment_link&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;child</span> <span class=\"na\">link=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"n\">name</span><span class=\"cp\">}</span><span class=\"s\">_post_arm_link&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n\n    <span class=\"c\">&lt;!-- Adjustment joint --&gt;</span>\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;adjustment_2_link&quot;/</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;adjustment_2_joint&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;fixed&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0 0 0&quot;</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;0 0 </span><span class=\"cp\">${</span><span class=\"o\">-</span><span class=\"n\">post_Y</span><span class=\"cp\">}</span><span class=\"s\">&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;parent</span> <span class=\"na\">link=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"n\">name</span><span class=\"cp\">}</span><span class=\"s\">_post_arm_link&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;child</span> <span class=\"na\">link=</span><span class=\"s\">&quot;adjustment_2_link&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n\n    <span class=\"c\">&lt;!-- Sensor post arm to sensor post joint --&gt;</span>\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"n\">name</span><span class=\"cp\">}</span><span class=\"s\">_post_arm_to_</span><span class=\"cp\">${</span><span class=\"n\">name</span><span class=\"cp\">}</span><span class=\"s\">_post_joint&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;fixed&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"o\">-</span><span class=\"mf\">0.03</span><span class=\"o\">*</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">post_Y</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"s\"> </span><span class=\"cp\">${</span><span class=\"o\">-</span><span class=\"mf\">0.03</span><span class=\"o\">*</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">post_Y</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"s\"> </span><span class=\"cp\">${</span><span class=\"mf\">1.545</span><span class=\"o\">+</span><span class=\"mf\">0.05</span><span class=\"o\">-</span><span class=\"n\">z</span><span class=\"cp\">}</span><span class=\"s\">&quot;</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;0 0 0&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;parent</span> <span class=\"na\">link=</span><span class=\"s\">&quot;adjustment_2_link&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;child</span> <span class=\"na\">link=</span><span class=\"s\">&quot;</span><span class=\"cp\">${</span><span class=\"n\">name</span><span class=\"cp\">}</span><span class=\"s\">_post_link&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n</pre></div>", "type": "rendered"}, "created_on": "2019-05-30T08:12:26.701314+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-05-30T08:18:28.706453+00:00", "type": "pullrequest_comment", "id": 103921933}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"update": {"description": "* Added `3d_lidar.dae` and `3d_lidar.png`\r\n* Added `sensor_post.dae`, `sensor_post_arm.dae`, and `sensor_post.png` \\(needed to break up post into two .dae files\\)\r\n* Created 3d\\_lidar model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Created sensor\\_post model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Replace basic cylinder lidar with 3d\\_lidar mesh onto wam-v, and changed position of lidar\r\n* Add sensor post to 3d\\_lidar on WAM-V, with adjustable `height` parameter that changes the height of the 3d\\_lidar relative to the post \\(pictures shown below\\)\r\n\r\n**Original Lidar \\+ Position**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1082884688-Original_Lidar_Look_and_Position.png)\r\n**New Lidar without Post**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/22979877-Lidar_no_post.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1382969760-Lidar_no_post_collision.png)\r\n**New Lidar on Post \\(height=0.25 Y=-pi/2 both default\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2965611972-Lidar%20on%20post%20with%20collision.png)\r\n**New Lidar on Post \\(set height=0.15, Y=pi/4\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3070962316-Lidar%20on%20Post%20changed%20h%20and%20Y.png)\r\n**Questions:**\r\n\r\n* Is there a reason that the lidar was originally offset in the y direction by 0.3? I moved it to the center, but I\u2019m not sure if there was a reason for that before\r\n* Estimated 1kg mass of lidar, 0.5kg mass of pole, 0.1kg mass of pole arm \\(part with ball\\). Estimate based on a chart showing lidar of similar shapes and sizes. [https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR\\_Comparison.pdf](https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR_Comparison.pdf)\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3431455893-Lidar_Weight_1.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2758874465-Lidar_Weight_2.png)", "title": "Add 3D Lidar mesh and put it on WAM-V", "destination": {"commit": {"hash": "76b4cb73809c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/76b4cb73809c.json"}, "html": {"href": "#!/osrf/vrx/commits/76b4cb73809c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "96fd3f6c2067", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/96fd3f6c2067.json"}, "html": {"href": "#!/osrf/vrx/commits/96fd3f6c2067"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "Issue#86-add-3d-lidar-mesh"}}, "state": "OPEN", "author": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "date": "2019-05-30T07:47:26.383963+00:00"}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"update": {"description": "* Added `3d_lidar.dae` and `3d_lidar.png`\r\n* Added `sensor_post.dae`, `sensor_post_arm.dae`, and `sensor_post.png` \\(needed to break up post into two .dae files\\)\r\n* Created 3d\\_lidar model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Created sensor\\_post model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Replace basic cylinder lidar with 3d\\_lidar mesh onto wam-v, and changed position of lidar\r\n* Add sensor post to 3d\\_lidar on WAM-V, with adjustable `height` parameter that changes the height of the 3d\\_lidar relative to the post \\(pictures shown below\\)\r\n\r\n**Original Lidar \\+ Position**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1082884688-Original_Lidar_Look_and_Position.png)\r\n**New Lidar without Post**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/22979877-Lidar_no_post.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1382969760-Lidar_no_post_collision.png)\r\n**New Lidar on Post \\(height=0.25 Y=-pi/2 both default\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2965611972-Lidar%20on%20post%20with%20collision.png)\r\n**New Lidar on Post \\(set height=0.15, Y=pi/4\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3070962316-Lidar%20on%20Post%20changed%20h%20and%20Y.png)\r\n**Questions:**\r\n\r\n* Is there a reason that the lidar was originally offset in the y direction by 0.3? I moved it to the center, but I\u2019m not sure if there was a reason for that before\r\n* Estimated 1kg mass of lidar, 0.5kg mass of pole, 0.1kg mass of pole arm \\(part with ball\\). Estimate based on a chart showing lidar of similar shapes and sizes. [https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR\\_Comparison.pdf](https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR_Comparison.pdf)\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3431455893-Lidar_Weight_1.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2758874465-Lidar_Weight_2.png)", "title": "Add 3D Lidar mesh and put it on WAM-V", "destination": {"commit": {"hash": "76b4cb73809c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/76b4cb73809c.json"}, "html": {"href": "#!/osrf/vrx/commits/76b4cb73809c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e8d2ad5c751b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/e8d2ad5c751b.json"}, "html": {"href": "#!/osrf/vrx/commits/e8d2ad5c751b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "Issue#86-add-3d-lidar-mesh"}}, "state": "OPEN", "author": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "date": "2019-05-30T05:25:11.940046+00:00"}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"update": {"description": "* Added `3d_lidar.dae` and `3d_lidar.png`\r\n* Added `sensor_post.dae`, `sensor_post_arm.dae`, and `sensor_post.png` \\(needed to break up post into two .dae files\\)\r\n* Created 3d\\_lidar model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Created sensor\\_post model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Replace basic cylinder lidar with 3d\\_lidar mesh onto wam-v, and changed position of lidar\r\n* Add sensor post to 3d\\_lidar on WAM-V, with adjustable `height` parameter that changes the height of the 3d\\_lidar relative to the post \\(pictures shown below\\)\r\n\r\n**Original Lidar \\+ Position**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1082884688-Original_Lidar_Look_and_Position.png)\r\n**New Lidar without Post**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/22979877-Lidar_no_post.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1382969760-Lidar_no_post_collision.png)\r\n**New Lidar on Post \\(height=0.25 Y=-pi/2 both default\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2965611972-Lidar%20on%20post%20with%20collision.png)\r\n**New Lidar on Post \\(set height=0.15, Y=pi/4\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3070962316-Lidar%20on%20Post%20changed%20h%20and%20Y.png)\r\n**Questions:**\r\n\r\n* Is there a reason that the lidar was originally offset in the y direction by 0.3? I moved it to the center, but I\u2019m not sure if there was a reason for that before\r\n* Estimated 1kg mass of lidar, 0.5kg mass of pole, 0.1kg mass of pole arm \\(part with ball\\). Estimate based on a chart showing lidar of similar shapes and sizes. [https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR\\_Comparison.pdf](https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR_Comparison.pdf)\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3431455893-Lidar_Weight_1.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2758874465-Lidar_Weight_2.png)", "title": "Add 3D Lidar mesh and put it on WAM-V", "destination": {"commit": {"hash": "76b4cb73809c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/76b4cb73809c.json"}, "html": {"href": "#!/osrf/vrx/commits/76b4cb73809c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "eb573c1e7200", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/eb573c1e7200.json"}, "html": {"href": "#!/osrf/vrx/commits/eb573c1e7200"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "Issue#86-add-3d-lidar-mesh"}}, "state": "OPEN", "author": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "date": "2019-05-30T05:11:39.770960+00:00"}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"update": {"description": "* Added `3d_lidar.dae` and `3d_lidar.png`\r\n* Added `sensor_post.dae`, `sensor_post_arm.dae`, and `sensor_post.png` \\(needed to break up post into two .dae files\\)\r\n* Created 3d\\_lidar model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Created sensor\\_post model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Replace basic cylinder lidar with 3d\\_lidar mesh onto wam-v, and changed position of lidar\r\n* Add sensor post to 3d\\_lidar on WAM-V, with adjustable `height` parameter that changes the height of the 3d\\_lidar relative to the post \\(pictures shown below\\)\r\n\r\n**Original Lidar \\+ Position**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1082884688-Original_Lidar_Look_and_Position.png)\r\n**New Lidar without Post**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/22979877-Lidar_no_post.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1382969760-Lidar_no_post_collision.png)\r\n**New Lidar on Post \\(height=0.25 Y=-pi/2 both default\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2965611972-Lidar%20on%20post%20with%20collision.png)\r\n**New Lidar on Post \\(set height=0.15, Y=pi/4\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3070962316-Lidar%20on%20Post%20changed%20h%20and%20Y.png)\r\n**Questions:**\r\n\r\n* Is there a reason that the lidar was originally offset in the y direction by 0.3? I moved it to the center, but I\u2019m not sure if there was a reason for that before\r\n* Estimated 1kg mass of lidar, 0.5kg mass of pole, 0.1kg mass of pole arm \\(part with ball\\). Estimate based on a chart showing lidar of similar shapes and sizes. [https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR\\_Comparison.pdf](https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR_Comparison.pdf)\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3431455893-Lidar_Weight_1.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2758874465-Lidar_Weight_2.png)", "title": "Add 3D Lidar mesh and put it on WAM-V", "destination": {"commit": {"hash": "76b4cb73809c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/76b4cb73809c.json"}, "html": {"href": "#!/osrf/vrx/commits/76b4cb73809c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "1d57a6134d9f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/1d57a6134d9f.json"}, "html": {"href": "#!/osrf/vrx/commits/1d57a6134d9f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "Issue#86-add-3d-lidar-mesh"}}, "state": "OPEN", "author": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "date": "2019-05-30T01:03:55.849153+00:00"}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103882719.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103882719"}}, "parent": {"id": 103882215, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103882215.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103882215"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "You could either \\(1\\) add multiple transformations using multiple links and fixed joints or \\(2\\) figure out the overall transformation and apply it at once in one of the `origin` blocks using the math capabilities of xacro \\(and connect the new link directly with `base_link`\\).", "markup": "markdown", "html": "<p>You could either (1) add multiple transformations using multiple links and fixed joints or (2) figure out the overall transformation and apply it at once in one of the <code>origin</code> blocks using the math capabilities of xacro (and connect the new link directly with <code>base_link</code>).</p>", "type": "rendered"}, "created_on": "2019-05-29T22:11:58.305066+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2019-05-30T00:09:59.396537+00:00", "type": "pullrequest_comment", "id": 103882719}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103885773.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103885773"}}, "parent": {"id": 103885310, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103885310.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103885310"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "It's probably easier to express the laser with respect to `base_link`, and then, continue from that. Something like:\n\n```\nBase Link\n\u2191\nLaser (x, y, z, r, p, y)\n\u2191\nSide_arm (-side_arm_length, 0, 0, 0, 0, 0)\n\u2191\nPost (0, 0, -(z - platform_z), 0, 0, 0)\n```\n\nKeep in mind that I\u2019m assuming certain origins that might be wrong, don\u2019t take it literally.", "markup": "markdown", "html": "<p>It's probably easier to express the laser with respect to <code>base_link</code>, and then, continue from that. Something like:</p>\n<div class=\"codehilite\"><pre><span></span>Base Link\n\u2191\nLaser (x, y, z, r, p, y)\n\u2191\nSide_arm (-side_arm_length, 0, 0, 0, 0, 0)\n\u2191\nPost (0, 0, -(z - platform_z), 0, 0, 0)\n</pre></div>\n\n\n<p>Keep in mind that I\u2019m assuming certain origins that might be wrong, don\u2019t take it literally.</p>", "type": "rendered"}, "created_on": "2019-05-29T23:02:24.882566+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2019-05-29T23:14:17.354448+00:00", "type": "pullrequest_comment", "id": 103885773}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103885310.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103885310"}}, "parent": {"id": 103884061, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103884061.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103884061"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "I see, that might be a good point that I didn\u2019t think. For example, the starboard camera will have a 90 degree yaw angle. Maybe the side link should always stay behind.", "markup": "markdown", "html": "<p>I see, that might be a good point that I didn\u2019t think. For example, the starboard camera will have a 90 degree yaw angle. Maybe the side link should always stay behind.</p>", "type": "rendered"}, "created_on": "2019-05-29T22:53:43.121673+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2019-05-29T22:53:43.129837+00:00", "type": "pullrequest_comment", "id": 103885310}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103883164.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103883164"}}, "parent": {"id": 103882448, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103882448.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103882448"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "I think this is a summary of the ideal situation:\n\n* `X`: Should move the post and place the laser origin in `X` \\(from the base\\_link\\).\n* `Y`: Should move the post and place the laser origin in `Y` \\(from the base\\_link\\).\n* `Z`: Should move the side arm of the post and place the laser origin in `Z` \\(from the base\\_link\\). I think we could remove the `height` parameter.\n* `roll/pitch/yaw`: Should only change the orientation of the laser.\n\nThe axis of the laser and the base\\_link should be aligned. The post should always remain vertical.\n\nEssentially, we're setting the `(x,y,z,r,p,y)` of the laser and the post is smart enough to accommodate that pose \\(with some height limits\\). That\u2019s why I mentioned that this PR is a bit tricky :\\)\n\nHere\u2019s a diagram to illustrate the idea \\(you should verify the origin of the links, as they might be different, and then, the transformations are different\\).\n\n![](data/bitbucket.org/repo/BgXLzgM/images/148528787-laser_and_posts.jpg)\n", "markup": "markdown", "html": "<p>I think this is a summary of the ideal situation:</p>\n<ul>\n<li><code>X</code>: Should move the post and place the laser origin in <code>X</code> (from the base_link).</li>\n<li><code>Y</code>: Should move the post and place the laser origin in <code>Y</code> (from the base_link).</li>\n<li><code>Z</code>: Should move the side arm of the post and place the laser origin in <code>Z</code> (from the base_link). I think we could remove the <code>height</code> parameter.</li>\n<li><code>roll/pitch/yaw</code>: Should only change the orientation of the laser.</li>\n</ul>\n<p>The axis of the laser and the base_link should be aligned. The post should always remain vertical.</p>\n<p>Essentially, we're setting the <code>(x,y,z,r,p,y)</code> of the laser and the post is smart enough to accommodate that pose (with some height limits). That\u2019s why I mentioned that this PR is a bit tricky :)</p>\n<p>Here\u2019s a diagram to illustrate the idea (you should verify the origin of the links, as they might be different, and then, the transformations are different).</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/148528787-laser_and_posts.jpg\" /></p>", "type": "rendered"}, "created_on": "2019-05-29T22:18:01.020695+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2019-05-29T22:50:54.361633+00:00", "type": "pullrequest_comment", "id": 103883164}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103884061.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103884061"}}, "parent": {"id": 103883164, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103883164.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103883164"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "Is there a case where we need to change the `yaw` of the post itself? For example, if the lidar is pointed backwards, it would be blocked by the post, so the post itself would need to be adjusted. \n\nIf so, should it be `(x,y,z,R,P,Y,post_Y)`?", "markup": "markdown", "html": "<p>Is there a case where we need to change the <code>yaw</code> of the post itself? For example, if the lidar is pointed backwards, it would be blocked by the post, so the post itself would need to be adjusted. </p>\n<p>If so, should it be <code>(x,y,z,R,P,Y,post_Y)</code>?</p>", "type": "rendered"}, "created_on": "2019-05-29T22:32:31.049842+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-05-29T22:32:31.059278+00:00", "type": "pullrequest_comment", "id": 103884061}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103883470.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103883470"}}, "parent": {"id": 103883164, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103883164.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103883164"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "I agree with removing the `height` parameter. This is perfect thank you.", "markup": "markdown", "html": "<p>I agree with removing the <code>height</code> parameter. This is perfect thank you.</p>", "type": "rendered"}, "created_on": "2019-05-29T22:22:24.010908+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-05-29T22:22:24.020909+00:00", "type": "pullrequest_comment", "id": 103883470}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103882448.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103882448"}}, "parent": {"id": 103882218, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103882218.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103882218"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "yes, i was just working on that. I was just going to ask about changing variable names, but this makes it clear.  ", "markup": "markdown", "html": "<p>yes, i was just working on that. I was just going to ask about changing variable names, but this makes it clear.  </p>", "type": "rendered"}, "created_on": "2019-05-29T22:08:22.614848+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-05-29T22:08:22.624474+00:00", "type": "pullrequest_comment", "id": 103882448}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103882218.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103882218"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "You\u2019re probably working on this but I\u2019m testing with different sensor orientations. I passed some pitch to the macro but \\(1\\) the sensor changed in roll and \\(2\\) the post also moved.\n\n![](data/bitbucket.org/repo/BgXLzgM/images/3732308212-laser_pitch.png)\nI'd expect the sensor to always pivot around the edge of the side arm link. I'd also expect the post to always remain vertical. The only post movement should be on `X` and `Y`. The `Z` or `height` should only affect the side arm link \\(and the sensor\\).", "markup": "markdown", "html": "<p>You\u2019re probably working on this but I\u2019m testing with different sensor orientations. I passed some pitch to the macro but (1) the sensor changed in roll and (2) the post also moved.</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/3732308212-laser_pitch.png\" />\nI'd expect the sensor to always pivot around the edge of the side arm link. I'd also expect the post to always remain vertical. The only post movement should be on <code>X</code> and <code>Y</code>. The <code>Z</code> or <code>height</code> should only affect the side arm link (and the sensor).</p>", "type": "rendered"}, "created_on": "2019-05-29T22:05:08.070363+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2019-05-29T22:05:08.080013+00:00", "type": "pullrequest_comment", "id": 103882218}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103882215.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103882215"}}, "parent": {"id": 103833977, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103833977.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103833977"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "I have added an adjustment link and joint to fix the frame issue. Is there a better way to do this without creating a new joint and link? [e945fe4](#!/osrf/vrx/commits/e945fe40adb8ae8689b60eaff979d784e0401b40)\n\n\u200c\n\nAlso, the frame is **almost** the same. The z axis is in the same direction, but the xy axis of the `sensor_link` frame is 90 degrees clockwise from the `base_link` frame. ", "markup": "markdown", "html": "<p>I have added an adjustment link and joint to fix the frame issue. Is there a better way to do this without creating a new joint and link? <a data-is-external-link=\"true\" href=\"#!/osrf/vrx/commits/e945fe40adb8ae8689b60eaff979d784e0401b40\" rel=\"nofollow\">e945fe4</a></p>\n<p>\u200c</p>\n<p>Also, the frame is <strong>almost</strong> the same. The z axis is in the same direction, but the xy axis of the <code>sensor_link</code> frame is 90 degrees clockwise from the <code>base_link</code> frame. </p>", "type": "rendered"}, "created_on": "2019-05-29T22:05:04.928201+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-05-29T22:05:04.949543+00:00", "type": "pullrequest_comment", "id": 103882215}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"update": {"description": "* Added `3d_lidar.dae` and `3d_lidar.png`\r\n* Added `sensor_post.dae`, `sensor_post_arm.dae`, and `sensor_post.png` \\(needed to break up post into two .dae files\\)\r\n* Created 3d\\_lidar model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Created sensor\\_post model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Replace basic cylinder lidar with 3d\\_lidar mesh onto wam-v, and changed position of lidar\r\n* Add sensor post to 3d\\_lidar on WAM-V, with adjustable `height` parameter that changes the height of the 3d\\_lidar relative to the post \\(pictures shown below\\)\r\n\r\n**Original Lidar \\+ Position**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1082884688-Original_Lidar_Look_and_Position.png)\r\n**New Lidar without Post**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/22979877-Lidar_no_post.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1382969760-Lidar_no_post_collision.png)\r\n**New Lidar on Post \\(height=0.25 Y=-pi/2 both default\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2965611972-Lidar%20on%20post%20with%20collision.png)\r\n**New Lidar on Post \\(set height=0.15, Y=pi/4\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3070962316-Lidar%20on%20Post%20changed%20h%20and%20Y.png)\r\n**Questions:**\r\n\r\n* Is there a reason that the lidar was originally offset in the y direction by 0.3? I moved it to the center, but I\u2019m not sure if there was a reason for that before\r\n* Estimated 1kg mass of lidar, 0.5kg mass of pole, 0.1kg mass of pole arm \\(part with ball\\). Estimate based on a chart showing lidar of similar shapes and sizes. [https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR\\_Comparison.pdf](https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR_Comparison.pdf)\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3431455893-Lidar_Weight_1.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2758874465-Lidar_Weight_2.png)", "title": "Add 3D Lidar mesh and put it on WAM-V", "destination": {"commit": {"hash": "76b4cb73809c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/76b4cb73809c.json"}, "html": {"href": "#!/osrf/vrx/commits/76b4cb73809c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "63ac67cab3a5", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/63ac67cab3a5.json"}, "html": {"href": "#!/osrf/vrx/commits/63ac67cab3a5"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "Issue#86-add-3d-lidar-mesh"}}, "state": "OPEN", "author": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "date": "2019-05-29T21:56:02.815527+00:00"}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"update": {"description": "* Added `3d_lidar.dae` and `3d_lidar.png`\r\n* Added `sensor_post.dae`, `sensor_post_arm.dae`, and `sensor_post.png` \\(needed to break up post into two .dae files\\)\r\n* Created 3d\\_lidar model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Created sensor\\_post model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Replace basic cylinder lidar with 3d\\_lidar mesh onto wam-v, and changed position of lidar\r\n* Add sensor post to 3d\\_lidar on WAM-V, with adjustable `height` parameter that changes the height of the 3d\\_lidar relative to the post \\(pictures shown below\\)\r\n\r\n**Original Lidar \\+ Position**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1082884688-Original_Lidar_Look_and_Position.png)\r\n**New Lidar without Post**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/22979877-Lidar_no_post.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1382969760-Lidar_no_post_collision.png)\r\n**New Lidar on Post \\(height=0.25 Y=-pi/2 both default\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2965611972-Lidar%20on%20post%20with%20collision.png)\r\n**New Lidar on Post \\(set height=0.15, Y=pi/4\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3070962316-Lidar%20on%20Post%20changed%20h%20and%20Y.png)\r\n**Questions:**\r\n\r\n* Is there a reason that the lidar was originally offset in the y direction by 0.3? I moved it to the center, but I\u2019m not sure if there was a reason for that before\r\n* Estimated 1kg mass of lidar, 0.5kg mass of pole, 0.1kg mass of pole arm \\(part with ball\\). Estimate based on a chart showing lidar of similar shapes and sizes. [https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR\\_Comparison.pdf](https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR_Comparison.pdf)\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3431455893-Lidar_Weight_1.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2758874465-Lidar_Weight_2.png)", "title": "Add 3D Lidar mesh and put it on WAM-V", "destination": {"commit": {"hash": "76b4cb73809c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/76b4cb73809c.json"}, "html": {"href": "#!/osrf/vrx/commits/76b4cb73809c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e945fe40adb8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/e945fe40adb8.json"}, "html": {"href": "#!/osrf/vrx/commits/e945fe40adb8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "Issue#86-add-3d-lidar-mesh"}}, "state": "OPEN", "author": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "date": "2019-05-29T21:35:17.862411+00:00"}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103841146.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103841146"}}, "parent": {"id": 103715550, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103715550.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103715550"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "Type `:`\\+ `cool`.", "markup": "markdown", "html": "<p>Type <code>:</code>+ <code>cool</code>.</p>", "type": "rendered"}, "created_on": "2019-05-29T16:05:35.597564+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2019-05-29T16:07:02.478908+00:00", "type": "pullrequest_comment", "id": 103841146}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103833977.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103833977"}}, "parent": {"id": 103717612, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103717612.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103717612"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "Good point, I think it would be easier if all sensor positions use the same reference frame \\(probably the `base_link`\\).", "markup": "markdown", "html": "<p>Good point, I think it would be easier if all sensor positions use the same reference frame (probably the <code>base_link</code>).</p>", "type": "rendered"}, "created_on": "2019-05-29T15:25:03.838109+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2019-05-29T15:25:04.071942+00:00", "type": "pullrequest_comment", "id": 103833977}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103717612.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103717612"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "I am actually going to make one more change before wanting to merge. Because of how the joints work between sensor post and lidar, setting the relative position of the lidar is a bit strange because xyz in the sensor post arm frame is at a different angle from the world xyz frame, so it is not easy to change. I will fix that now.", "markup": "markdown", "html": "<p>I am actually going to make one more change before wanting to merge. Because of how the joints work between sensor post and lidar, setting the relative position of the lidar is a bit strange because xyz in the sensor post arm frame is at a different angle from the world xyz frame, so it is not easy to change. I will fix that now.</p>", "type": "rendered"}, "created_on": "2019-05-29T02:06:15.072172+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-05-29T02:06:15.080920+00:00", "type": "pullrequest_comment", "id": 103717612}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103715684.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103715684"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "Comments have been addressed. Let me know if this needs anything else!", "markup": "markdown", "html": "<p>Comments have been addressed. Let me know if this needs anything else!</p>", "type": "rendered"}, "created_on": "2019-05-29T01:28:45.707029+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-05-29T01:28:45.741469+00:00", "type": "pullrequest_comment", "id": 103715684}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103715654.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103715654"}}, "parent": {"id": 103708664, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103708664.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103708664"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "**Original Issue**\n\n![](data/bitbucket.org/repo/BgXLzgM/images/3382804517-Lidar_Seeing_Itself.png)\n---\n\n**Fixed LiDAR**\n\n![](data/bitbucket.org/repo/BgXLzgM/images/4141321056-RVIZ_Lidar_Fixed.png)\n![](data/bitbucket.org/repo/BgXLzgM/images/3460774414-Lidar_with_pitch.png)\n", "markup": "markdown", "html": "<p><strong>Original Issue</strong></p>\n<h2 id=\"markdown-header-\"><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/3382804517-Lidar_Seeing_Itself.png\" /></h2>\n<p><strong>Fixed LiDAR</strong></p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/4141321056-RVIZ_Lidar_Fixed.png\" />\n<img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/3460774414-Lidar_with_pitch.png\" /></p>", "type": "rendered"}, "created_on": "2019-05-29T01:28:21.201268+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-05-29T01:28:21.211785+00:00", "type": "pullrequest_comment", "id": 103715654}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103715550.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103715550"}}, "parent": {"id": 103709170, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103709170.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103709170"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "I also really like that cool sign. How did you do that?", "markup": "markdown", "html": "<p>I also really like that cool sign. How did you do that?</p>", "type": "rendered"}, "created_on": "2019-05-29T01:26:10.193390+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-05-29T01:26:10.202095+00:00", "type": "pullrequest_comment", "id": 103715550}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103715517.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103715517"}}, "parent": {"id": 103708664, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103708664.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103708664"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "Thanks for linking me to that tutorial. That was very helpful.\n\nIssue addressed in [4eac890](#!/osrf/vrx/commits/4eac890547b87192e9f73262b9eafaac946973ac). The issue was because the lidar `radius=0.055` and the `<range><min>=0.05`, which made the lidar \"see itself\". I have changed the `<range><min>` parameter up to `0.1`. Based on the typical LiDAR specifications in the link in the description, very few min\\_ranges are below 0.1, so this should be appropriate.", "markup": "markdown", "html": "<p>Thanks for linking me to that tutorial. That was very helpful.</p>\n<p>Issue addressed in <a data-is-external-link=\"true\" href=\"#!/osrf/vrx/commits/4eac890547b87192e9f73262b9eafaac946973ac\" rel=\"nofollow\">4eac890</a>. The issue was because the lidar <code>radius=0.055</code> and the <code>&lt;range&gt;&lt;min&gt;=0.05</code>, which made the lidar \"see itself\". I have changed the <code>&lt;range&gt;&lt;min&gt;</code> parameter up to <code>0.1</code>. Based on the typical LiDAR specifications in the link in the description, very few min_ranges are below 0.1, so this should be appropriate.</p>", "type": "rendered"}, "created_on": "2019-05-29T01:25:38.447463+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-05-29T01:25:38.460306+00:00", "type": "pullrequest_comment", "id": 103715517}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103715385.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103715385"}}, "parent": {"id": 103709170, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103709170.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103709170"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "great! I\u2019m glad you like it", "markup": "markdown", "html": "<p>great! I\u2019m glad you like it</p>", "type": "rendered"}, "created_on": "2019-05-29T01:22:57.863348+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-05-29T01:22:57.872565+00:00", "type": "pullrequest_comment", "id": 103715385}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103715371.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103715371"}}, "parent": {"id": 103709836, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103709836.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103709836"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "Changed default lidar angle downwards towards water in [4eac890](#!/osrf/vrx/commits/4eac890547b87192e9f73262b9eafaac946973ac)", "markup": "markdown", "html": "<p>Changed default lidar angle downwards towards water in <a data-is-external-link=\"true\" href=\"#!/osrf/vrx/commits/4eac890547b87192e9f73262b9eafaac946973ac\" rel=\"nofollow\">4eac890</a></p>", "type": "rendered"}, "created_on": "2019-05-29T01:22:45.017703+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-05-29T01:22:45.026989+00:00", "type": "pullrequest_comment", "id": 103715371}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"update": {"description": "* Added `3d_lidar.dae` and `3d_lidar.png`\r\n* Added `sensor_post.dae`, `sensor_post_arm.dae`, and `sensor_post.png` \\(needed to break up post into two .dae files\\)\r\n* Created 3d\\_lidar model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Created sensor\\_post model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Replace basic cylinder lidar with 3d\\_lidar mesh onto wam-v, and changed position of lidar\r\n* Add sensor post to 3d\\_lidar on WAM-V, with adjustable `height` parameter that changes the height of the 3d\\_lidar relative to the post \\(pictures shown below\\)\r\n\r\n**Original Lidar \\+ Position**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1082884688-Original_Lidar_Look_and_Position.png)\r\n**New Lidar without Post**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/22979877-Lidar_no_post.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1382969760-Lidar_no_post_collision.png)\r\n**New Lidar on Post \\(height=0.25 Y=-pi/2 both default\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2965611972-Lidar%20on%20post%20with%20collision.png)\r\n**New Lidar on Post \\(set height=0.15, Y=pi/4\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3070962316-Lidar%20on%20Post%20changed%20h%20and%20Y.png)\r\n**Questions:**\r\n\r\n* Is there a reason that the lidar was originally offset in the y direction by 0.3? I moved it to the center, but I\u2019m not sure if there was a reason for that before\r\n* Estimated 1kg mass of lidar, 0.5kg mass of pole, 0.1kg mass of pole arm \\(part with ball\\). Estimate based on a chart showing lidar of similar shapes and sizes. [https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR\\_Comparison.pdf](https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR_Comparison.pdf)\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3431455893-Lidar_Weight_1.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2758874465-Lidar_Weight_2.png)", "title": "Add 3D Lidar mesh and put it on WAM-V", "destination": {"commit": {"hash": "76b4cb73809c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/76b4cb73809c.json"}, "html": {"href": "#!/osrf/vrx/commits/76b4cb73809c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "4eac890547b8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/4eac890547b8.json"}, "html": {"href": "#!/osrf/vrx/commits/4eac890547b8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "Issue#86-add-3d-lidar-mesh"}}, "state": "OPEN", "author": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "date": "2019-05-29T01:20:18.905971+00:00"}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103709836.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103709836"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "Teams should be able to customize the exact pose of the lidar in the future but could we add some pitch to the default laser location and make it point to the water a bit?", "markup": "markdown", "html": "<p>Teams should be able to customize the exact pose of the lidar in the future but could we add some pitch to the default laser location and make it point to the water a bit?</p>", "type": "rendered"}, "created_on": "2019-05-28T23:31:43.117392+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2019-05-28T23:32:10.517100+00:00", "type": "pullrequest_comment", "id": 103709836}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103709170.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103709170"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "It's very :cool: how the arm post link \"slides\" over the post when you change the `height` parameter of the xacro macro!", "markup": "markdown", "html": "<p>It's very <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f192.png\" alt=\"\ud83c\udd92\" title=\":cool:\" data-emoji-short-name=\":cool:\" /> how the arm post link \"slides\" over the post when you change the <code>height</code> parameter of the xacro macro!</p>", "type": "rendered"}, "created_on": "2019-05-28T23:20:58.211528+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2019-05-28T23:21:26.832816+00:00", "type": "pullrequest_comment", "id": 103709170}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103708664.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103708664"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "If you visualize it in rviz \\(see [this](#!/osrf/vrx/wiki/tutorials/Visualizing%20with%20RVIZ) tutorial\\), you'll notice that the lidar is colliding with the lidar mesh. Could you maybe modify the `<range><min>` parameter to avoid this collision?", "markup": "markdown", "html": "<p>If you visualize it in rviz (see <a data-is-external-link=\"true\" href=\"#!/osrf/vrx/wiki/tutorials/Visualizing%20with%20RVIZ\" rel=\"nofollow\">this</a> tutorial), you'll notice that the lidar is colliding with the lidar mesh. Could you maybe modify the <code>&lt;range&gt;&lt;min&gt;</code> parameter to avoid this collision?</p>", "type": "rendered"}, "created_on": "2019-05-28T23:11:30.041705+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2019-05-28T23:11:30.048935+00:00", "type": "pullrequest_comment", "id": 103708664}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"update": {"description": "* Added `3d_lidar.dae` and `3d_lidar.png`\r\n* Added `sensor_post.dae`, `sensor_post_arm.dae`, and `sensor_post.png` \\(needed to break up post into two .dae files\\)\r\n* Created 3d\\_lidar model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Created sensor\\_post model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Replace basic cylinder lidar with 3d\\_lidar mesh onto wam-v, and changed position of lidar\r\n* Add sensor post to 3d\\_lidar on WAM-V, with adjustable `height` parameter that changes the height of the 3d\\_lidar relative to the post \\(pictures shown below\\)\r\n\r\n**Original Lidar \\+ Position**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1082884688-Original_Lidar_Look_and_Position.png)\r\n**New Lidar without Post**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/22979877-Lidar_no_post.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1382969760-Lidar_no_post_collision.png)\r\n**New Lidar on Post \\(height=0.25 Y=-pi/2 both default\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2965611972-Lidar%20on%20post%20with%20collision.png)\r\n**New Lidar on Post \\(set height=0.15, Y=pi/4\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3070962316-Lidar%20on%20Post%20changed%20h%20and%20Y.png)\r\n**Questions:**\r\n\r\n* Is there a reason that the lidar was originally offset in the y direction by 0.3? I moved it to the center, but I\u2019m not sure if there was a reason for that before\r\n* Estimated 1kg mass of lidar, 0.5kg mass of pole, 0.1kg mass of pole arm \\(part with ball\\). Estimate based on a chart showing lidar of similar shapes and sizes. [https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR\\_Comparison.pdf](https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR_Comparison.pdf)\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3431455893-Lidar_Weight_1.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2758874465-Lidar_Weight_2.png)", "title": "Add 3D Lidar mesh and put it on WAM-V", "destination": {"commit": {"hash": "76b4cb73809c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/76b4cb73809c.json"}, "html": {"href": "#!/osrf/vrx/commits/76b4cb73809c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "2f499c15fc08", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/2f499c15fc08.json"}, "html": {"href": "#!/osrf/vrx/commits/2f499c15fc08"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "Issue#86-add-3d-lidar-mesh"}}, "state": "OPEN", "author": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "date": "2019-05-28T21:06:12.845037+00:00"}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103530694.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103530694"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "I am finished making changes to this PR. Please review and let me know if there is room for improvement.", "markup": "markdown", "html": "<p>I am finished making changes to this PR. Please review and let me know if there is room for improvement.</p>", "type": "rendered"}, "created_on": "2019-05-27T22:35:12.209855+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-05-27T22:35:12.218279+00:00", "type": "pullrequest_comment", "id": 103530694}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"update": {"description": "* Added `3d_lidar.dae` and `3d_lidar.png`\r\n* Added `sensor_post.dae`, `sensor_post_arm.dae`, and `sensor_post.png` \\(needed to break up post into two .dae files\\)\r\n* Created 3d\\_lidar model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Created sensor\\_post model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Replace basic cylinder lidar with 3d\\_lidar mesh onto wam-v, and changed position of lidar\r\n* Add sensor post to 3d\\_lidar on WAM-V, with adjustable `height` parameter that changes the height of the 3d\\_lidar relative to the post \\(pictures shown below\\)\r\n\r\n**Original Lidar \\+ Position**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1082884688-Original_Lidar_Look_and_Position.png)\r\n**New Lidar without Post**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/22979877-Lidar_no_post.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1382969760-Lidar_no_post_collision.png)\r\n**New Lidar on Post \\(height=0.25 Y=-pi/2 both default\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2965611972-Lidar%20on%20post%20with%20collision.png)\r\n**New Lidar on Post \\(set height=0.15, Y=pi/4\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3070962316-Lidar%20on%20Post%20changed%20h%20and%20Y.png)\r\n**Questions:**\r\n\r\n* Is there a reason that the lidar was originally offset in the y direction by 0.3? I moved it to the center, but I\u2019m not sure if there was a reason for that before\r\n* Estimated 1kg mass of lidar, 0.5kg mass of pole, 0.1kg mass of pole arm \\(part with ball\\). Estimate based on a chart showing lidar of similar shapes and sizes. [https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR\\_Comparison.pdf](https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR_Comparison.pdf)\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3431455893-Lidar_Weight_1.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2758874465-Lidar_Weight_2.png)", "title": "Add 3D Lidar mesh and put it on WAM-V", "destination": {"commit": {"hash": "76b4cb73809c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/76b4cb73809c.json"}, "html": {"href": "#!/osrf/vrx/commits/76b4cb73809c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "2447082952de", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/2447082952de.json"}, "html": {"href": "#!/osrf/vrx/commits/2447082952de"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "Issue#86-add-3d-lidar-mesh"}}, "state": "OPEN", "author": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "date": "2019-05-27T22:26:56.002157+00:00"}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103530013.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103530013"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "3d lidar inertia\n\n![](data/bitbucket.org/repo/BgXLzgM/images/4062838051-3d_lidar_inertia.png)\n", "markup": "markdown", "html": "<p>3d lidar inertia</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/4062838051-3d_lidar_inertia.png\" /></p>", "type": "rendered"}, "created_on": "2019-05-27T22:16:05.542049+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-05-27T22:16:05.550853+00:00", "type": "pullrequest_comment", "id": 103530013}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"update": {"description": "* Added `3d_lidar.dae` and `3d_lidar.png`\r\n* Added `sensor_post.dae`, `sensor_post_arm.dae`, and `sensor_post.png` \\(needed to break up post into two .dae files\\)\r\n* Created 3d\\_lidar model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Created sensor\\_post model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Replace basic cylinder lidar with 3d\\_lidar mesh onto wam-v, and changed position of lidar\r\n* Add sensor post to 3d\\_lidar on WAM-V, with adjustable `height` parameter that changes the height of the 3d\\_lidar relative to the post \\(pictures shown below\\)\r\n\r\n**Original Lidar \\+ Position**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1082884688-Original_Lidar_Look_and_Position.png)\r\n**New Lidar without Post**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/22979877-Lidar_no_post.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1382969760-Lidar_no_post_collision.png)\r\n**New Lidar on Post \\(height=0.25 Y=-pi/2 both default\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2965611972-Lidar%20on%20post%20with%20collision.png)\r\n**New Lidar on Post \\(set height=0.15, Y=pi/4\\)**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3070962316-Lidar%20on%20Post%20changed%20h%20and%20Y.png)\r\n**Questions:**\r\n\r\n* Is there a reason that the lidar was originally offset in the y direction by 0.3? I moved it to the center, but I\u2019m not sure if there was a reason for that before\r\n* Estimated 1kg mass of lidar, 0.5kg mass of pole, 0.1kg mass of pole arm \\(part with ball\\). Estimate based on a chart showing lidar of similar shapes and sizes. [https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR\\_Comparison.pdf](https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR_Comparison.pdf)\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3431455893-Lidar_Weight_1.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2758874465-Lidar_Weight_2.png)", "title": "Add 3D Lidar mesh and put it on WAM-V", "destination": {"commit": {"hash": "76b4cb73809c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/76b4cb73809c.json"}, "html": {"href": "#!/osrf/vrx/commits/76b4cb73809c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c27591a48f83", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/c27591a48f83.json"}, "html": {"href": "#!/osrf/vrx/commits/c27591a48f83"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "Issue#86-add-3d-lidar-mesh"}}, "state": "OPEN", "author": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "date": "2019-05-27T22:08:58.194415+00:00"}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"update": {"description": "* Added `3d_lidar.dae` and `3d_lidar.png`\r\n* Created 3d\\_lidar model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Replace basic cylinder lidar with 3d\\_lidar mesh onto wam-v, and changed position of lidar\r\n* TODO: Add post and put lidar on post\r\n\r\n**Original Lidar \\+ Position**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1082884688-Original_Lidar_Look_and_Position.png)\r\n**New Lidar without Post**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/22979877-Lidar_no_post.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1382969760-Lidar_no_post_collision.png)\r\n**Questions:**\r\n\r\n* Is there a reason that the lidar was originally offset in the y direction by 0.3? I moved it to the center, but I\u2019m not sure if there was a reason for that before\r\n* Estimated 1kg mass. Estimate based on a chart showing lidar of similar shapes and sizes. [https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR\\_Comparison.pdf](https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR_Comparison.pdf)\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3431455893-Lidar_Weight_1.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2758874465-Lidar_Weight_2.png)", "title": "Add 3D Lidar mesh and put it on WAM-V", "destination": {"commit": {"hash": "76b4cb73809c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/76b4cb73809c.json"}, "html": {"href": "#!/osrf/vrx/commits/76b4cb73809c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c27591a48f83", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/c27591a48f83.json"}, "html": {"href": "#!/osrf/vrx/commits/c27591a48f83"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "Issue#86-add-3d-lidar-mesh"}}, "state": "OPEN", "author": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "date": "2019-05-27T21:59:10.877985+00:00"}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103524254.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103524254"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": " I have fixed the previous issues by breaking up the `.dae` file into two files. This image shows the fixed model, with correct positioning, collision, intertia, fixed joint and box.\n\n![](data/bitbucket.org/repo/BgXLzgM/images/3576541304-Better_model_from_breaking_up_dae_file.png)\n", "markup": "markdown", "html": "<p>I have fixed the previous issues by breaking up the <code>.dae</code> file into two files. This image shows the fixed model, with correct positioning, collision, intertia, fixed joint and box.</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/3576541304-Better_model_from_breaking_up_dae_file.png\" /></p>", "type": "rendered"}, "created_on": "2019-05-27T20:16:40.204080+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-05-27T20:16:40.213183+00:00", "type": "pullrequest_comment", "id": 103524254}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"update": {"description": "* Added `3d_lidar.dae` and `3d_lidar.png`\r\n* Created 3d\\_lidar model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Replace basic cylinder lidar with 3d\\_lidar mesh onto wam-v, and changed position of lidar\r\n* TODO: Add post and put lidar on post\r\n\r\n**Original Lidar \\+ Position**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1082884688-Original_Lidar_Look_and_Position.png)\r\n**New Lidar without Post**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/22979877-Lidar_no_post.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1382969760-Lidar_no_post_collision.png)\r\n**Questions:**\r\n\r\n* Is there a reason that the lidar was originally offset in the y direction by 0.3? I moved it to the center, but I\u2019m not sure if there was a reason for that before\r\n* Estimated 1kg mass. Estimate based on a chart showing lidar of similar shapes and sizes. [https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR\\_Comparison.pdf](https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR_Comparison.pdf)\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3431455893-Lidar_Weight_1.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2758874465-Lidar_Weight_2.png)", "title": "Add 3D Lidar mesh and put it on WAM-V", "destination": {"commit": {"hash": "76b4cb73809c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/76b4cb73809c.json"}, "html": {"href": "#!/osrf/vrx/commits/76b4cb73809c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "14999ef7ac06", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/14999ef7ac06.json"}, "html": {"href": "#!/osrf/vrx/commits/14999ef7ac06"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "Issue#86-add-3d-lidar-mesh"}}, "state": "OPEN", "author": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "date": "2019-05-27T20:00:17.846392+00:00"}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103520004.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103520004"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "I have implemented the fixed joint and placed the arm in the correct relative position in the `model.sdf`. However, I have not been able to do the same using the `.urdf`. Also the bounding box is centered incorrectly for some reason. I will try to fix this\n\n![](data/bitbucket.org/repo/BgXLzgM/images/2332760424-Post_with_fixed_joint.png)\n", "markup": "markdown", "html": "<p>I have implemented the fixed joint and placed the arm in the correct relative position in the <code>model.sdf</code>. However, I have not been able to do the same using the <code>.urdf</code>. Also the bounding box is centered incorrectly for some reason. I will try to fix this</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/2332760424-Post_with_fixed_joint.png\" /></p>", "type": "rendered"}, "created_on": "2019-05-27T18:58:53.775793+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-05-27T18:58:53.783880+00:00", "type": "pullrequest_comment", "id": 103520004}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"update": {"description": "* Added `3d_lidar.dae` and `3d_lidar.png`\r\n* Created 3d\\_lidar model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Replace basic cylinder lidar with 3d\\_lidar mesh onto wam-v, and changed position of lidar\r\n* TODO: Add post and put lidar on post\r\n\r\n**Original Lidar \\+ Position**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1082884688-Original_Lidar_Look_and_Position.png)\r\n**New Lidar without Post**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/22979877-Lidar_no_post.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1382969760-Lidar_no_post_collision.png)\r\n**Questions:**\r\n\r\n* Is there a reason that the lidar was originally offset in the y direction by 0.3? I moved it to the center, but I\u2019m not sure if there was a reason for that before\r\n* Estimated 1kg mass. Estimate based on a chart showing lidar of similar shapes and sizes. [https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR\\_Comparison.pdf](https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR_Comparison.pdf)\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3431455893-Lidar_Weight_1.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2758874465-Lidar_Weight_2.png)", "title": "Add 3D Lidar mesh and put it on WAM-V", "destination": {"commit": {"hash": "76b4cb73809c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/76b4cb73809c.json"}, "html": {"href": "#!/osrf/vrx/commits/76b4cb73809c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "926adabb2f76", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/926adabb2f76.json"}, "html": {"href": "#!/osrf/vrx/commits/926adabb2f76"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "Issue#86-add-3d-lidar-mesh"}}, "state": "OPEN", "author": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "date": "2019-05-27T18:57:35.825821+00:00"}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103518999.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103518999"}}, "parent": {"id": 103236171, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103236171.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103236171"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "Hi Carlos, I have been able to figure out how to load submeshes in the `.sdf` file, but it appears that the same cannot be done in a `.urdf` file. I haven\u2019t gotten it to work yet. I will try a bit more and if it doesn\u2019t work I will try to break up the dae file.\n\n[http://answers.gazebosim.org/question/6533/equivalent-of-submesh-tag-of-sdf-in-urdf/](http://answers.gazebosim.org/question/6533/equivalent-of-submesh-tag-of-sdf-in-urdf)\n\n![](data/bitbucket.org/repo/BgXLzgM/images/321989447-No_Submesh.png)\n", "markup": "markdown", "html": "<p>Hi Carlos, I have been able to figure out how to load submeshes in the <code>.sdf</code> file, but it appears that the same cannot be done in a <code>.urdf</code> file. I haven\u2019t gotten it to work yet. I will try a bit more and if it doesn\u2019t work I will try to break up the dae file.</p>\n<p><a data-is-external-link=\"true\" href=\"http://answers.gazebosim.org/question/6533/equivalent-of-submesh-tag-of-sdf-in-urdf\" rel=\"nofollow\">http://answers.gazebosim.org/question/6533/equivalent-of-submesh-tag-of-sdf-in-urdf/</a></p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/321989447-No_Submesh.png\" /></p>", "type": "rendered"}, "created_on": "2019-05-27T18:43:08.502791+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-05-27T18:43:32.480063+00:00", "type": "pullrequest_comment", "id": 103518999}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"update": {"description": "* Added `3d_lidar.dae` and `3d_lidar.png`\r\n* Created 3d\\_lidar model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Replace basic cylinder lidar with 3d\\_lidar mesh onto wam-v, and changed position of lidar\r\n* TODO: Add post and put lidar on post\r\n\r\n**Original Lidar \\+ Position**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1082884688-Original_Lidar_Look_and_Position.png)\r\n**New Lidar without Post**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/22979877-Lidar_no_post.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1382969760-Lidar_no_post_collision.png)\r\n**Questions:**\r\n\r\n* Is there a reason that the lidar was originally offset in the y direction by 0.3? I moved it to the center, but I\u2019m not sure if there was a reason for that before\r\n* Estimated 1kg mass. Estimate based on a chart showing lidar of similar shapes and sizes. [https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR\\_Comparison.pdf](https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR_Comparison.pdf)\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3431455893-Lidar_Weight_1.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2758874465-Lidar_Weight_2.png)", "title": "Add 3D Lidar mesh and put it on WAM-V", "destination": {"commit": {"hash": "76b4cb73809c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/76b4cb73809c.json"}, "html": {"href": "#!/osrf/vrx/commits/76b4cb73809c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "5c15d61c2dab", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/5c15d61c2dab.json"}, "html": {"href": "#!/osrf/vrx/commits/5c15d61c2dab"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "Issue#86-add-3d-lidar-mesh"}}, "state": "OPEN", "author": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "date": "2019-05-27T07:04:13.336052+00:00"}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"update": {"description": "* Added `3d_lidar.dae` and `3d_lidar.png`\r\n* Created 3d\\_lidar model in vrx\\_gazebo/models \\(.sdf and .config files\\)\r\n* Replace basic cylinder lidar with 3d\\_lidar mesh onto wam-v, and changed position of lidar\r\n* TODO: Add post and put lidar on post\r\n\r\n**Original Lidar \\+ Position**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1082884688-Original_Lidar_Look_and_Position.png)\r\n**New Lidar without Post**\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/22979877-Lidar_no_post.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/1382969760-Lidar_no_post_collision.png)\r\n**Questions:**\r\n\r\n* Is there a reason that the lidar was originally offset in the y direction by 0.3? I moved it to the center, but I\u2019m not sure if there was a reason for that before\r\n* Estimated 1kg mass. Estimate based on a chart showing lidar of similar shapes and sizes. [https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR\\_Comparison.pdf](https://autonomoustuff.com/wp-content/uploads/2018/04/LiDAR_Comparison.pdf)\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/3431455893-Lidar_Weight_1.png)\r\n\u200c\r\n\r\n![](https://bitbucket.org/repo/BgXLzgM/images/2758874465-Lidar_Weight_2.png)", "title": "Add 3D Lidar mesh and put it on WAM-V", "destination": {"commit": {"hash": "76b4cb73809c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/76b4cb73809c.json"}, "html": {"href": "#!/osrf/vrx/commits/76b4cb73809c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "fac83ba90933", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/fac83ba90933.json"}, "html": {"href": "#!/osrf/vrx/commits/fac83ba90933"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "Issue#86-add-3d-lidar-mesh"}}, "state": "OPEN", "author": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "date": "2019-05-26T16:15:17.229875+00:00"}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103236171.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103236171"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "The idea of this post is to attach the sensor \\(either a camera or a lidar\\) to the ball. That way, we could change the orientation of the sensor around this pivot point, and visually still will look OK, as opposed to stay floating in the air. The ideal solution is to break this model into two separate links, one for the vertical post, and one for the horizontal part.  The provided `.dae` file should contain two independent submeshes that you can use in each link. These two links can be glued together with a fixed joint. Ideally, we create a xacro macro that accepts a `height` parameter, and then, create the custom links at the right height. Then, we can attach the camera.\n\nHere\u2019s an example of how to load a submesh:\n\n```\n      <visual name=\"interior_visual\">\n        <geometry>\n          <mesh>\n            <uri>model://prius_hybrid/meshes/Hybrid.obj</uri>\n            <scale>0.01 0.01 0.01</scale>\n            <submesh>\n              <name>Hybrid_Interior</name>\n              <center>false</center>\n            </submesh>\n          </mesh>\n        </geometry>\n      </visual>\n      \n      <visual name=\"windows_visual\">\n        <geometry>\n          <mesh>\n            <uri>model://prius_hybrid/meshes/Hybrid.obj</uri>\n            <scale>0.01 0.01 0.01</scale>\n            <submesh>\n              <name>Hybrid_Windows</name>\n              <center>false</center>\n            </submesh>\n          </mesh>\n        </geometry>\n      </visual>\n```\n\nThis is a more challenging Gazebo model!", "markup": "markdown", "html": "<p>The idea of this post is to attach the sensor (either a camera or a lidar) to the ball. That way, we could change the orientation of the sensor around this pivot point, and visually still will look OK, as opposed to stay floating in the air. The ideal solution is to break this model into two separate links, one for the vertical post, and one for the horizontal part.  The provided <code>.dae</code> file should contain two independent submeshes that you can use in each link. These two links can be glued together with a fixed joint. Ideally, we create a xacro macro that accepts a <code>height</code> parameter, and then, create the custom links at the right height. Then, we can attach the camera.</p>\n<p>Here\u2019s an example of how to load a submesh:</p>\n<div class=\"codehilite\"><pre><span></span>      <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&quot;interior_visual&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://prius_hybrid/meshes/Hybrid.obj<span class=\"nt\">&lt;/uri&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>0.01 0.01 0.01<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;submesh&gt;</span>\n              <span class=\"nt\">&lt;name&gt;</span>Hybrid_Interior<span class=\"nt\">&lt;/name&gt;</span>\n              <span class=\"nt\">&lt;center&gt;</span>false<span class=\"nt\">&lt;/center&gt;</span>\n            <span class=\"nt\">&lt;/submesh&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/visual&gt;</span>\n\n      <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&quot;windows_visual&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://prius_hybrid/meshes/Hybrid.obj<span class=\"nt\">&lt;/uri&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>0.01 0.01 0.01<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;submesh&gt;</span>\n              <span class=\"nt\">&lt;name&gt;</span>Hybrid_Windows<span class=\"nt\">&lt;/name&gt;</span>\n              <span class=\"nt\">&lt;center&gt;</span>false<span class=\"nt\">&lt;/center&gt;</span>\n            <span class=\"nt\">&lt;/submesh&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/visual&gt;</span>\n</pre></div>\n\n\n<p>This is a more challenging Gazebo model!</p>", "type": "rendered"}, "created_on": "2019-05-23T23:37:24.093697+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2019-05-23T23:42:10.919662+00:00", "type": "pullrequest_comment", "id": 103236171}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103235945.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103235945"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "I think that Cole, our 3D artist, put the texture somehow in the file that we\u2019re using as a GPS texture:\n\n[https://www.dropbox.com/sh/eowhsjv4b2cfmfm/AAAmINYiTH65amR7pazK-zs9a?dl=0](https://www.dropbox.com/sh/eowhsjv4b2cfmfm/AAAmINYiTH65amR7pazK-zs9a?dl=0)\n\nI haven't tested it, let me know if we need to keep it in a separate `.png`.", "markup": "markdown", "html": "<p>I think that Cole, our 3D artist, put the texture somehow in the file that we\u2019re using as a GPS texture:</p>\n<p><a data-is-external-link=\"true\" href=\"https://www.dropbox.com/sh/eowhsjv4b2cfmfm/AAAmINYiTH65amR7pazK-zs9a?dl=0\" rel=\"nofollow\">https://www.dropbox.com/sh/eowhsjv4b2cfmfm/AAAmINYiTH65amR7pazK-zs9a?dl=0</a></p>\n<p>I haven't tested it, let me know if we need to keep it in a separate <code>.png</code>.</p>", "type": "rendered"}, "created_on": "2019-05-23T23:32:45.060274+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2019-05-23T23:32:45.068119+00:00", "type": "pullrequest_comment", "id": 103235945}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103235781.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103235781"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "I don't think there was a reason for the `Y` offset, feel free to ignore it. ", "markup": "markdown", "html": "<p>I don't think there was a reason for the <code>Y</code> offset, feel free to ignore it. </p>", "type": "rendered"}, "created_on": "2019-05-23T23:29:57.698818+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2019-05-23T23:29:57.709858+00:00", "type": "pullrequest_comment", "id": 103235781}, "pull_request": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}}], "next": "data/repositories/osrf/vrx/pullrequests/98/activity_ctx=kjIX4U6uz.json"}