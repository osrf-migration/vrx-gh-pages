{"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98/comments/103236171.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98/_/diff#comment-103236171"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/98.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/98"}}, "title": "Add 3D Lidar mesh and put it on WAM-V"}, "content": {"raw": "The idea of this post is to attach the sensor \\(either a camera or a lidar\\) to the ball. That way, we could change the orientation of the sensor around this pivot point, and visually still will look OK, as opposed to stay floating in the air. The ideal solution is to break this model into two separate links, one for the vertical post, and one for the horizontal part.  The provided `.dae` file should contain two independent submeshes that you can use in each link. These two links can be glued together with a fixed joint. Ideally, we create a xacro macro that accepts a `height` parameter, and then, create the custom links at the right height. Then, we can attach the camera.\n\nHere\u2019s an example of how to load a submesh:\n\n```\n      <visual name=\"interior_visual\">\n        <geometry>\n          <mesh>\n            <uri>model://prius_hybrid/meshes/Hybrid.obj</uri>\n            <scale>0.01 0.01 0.01</scale>\n            <submesh>\n              <name>Hybrid_Interior</name>\n              <center>false</center>\n            </submesh>\n          </mesh>\n        </geometry>\n      </visual>\n      \n      <visual name=\"windows_visual\">\n        <geometry>\n          <mesh>\n            <uri>model://prius_hybrid/meshes/Hybrid.obj</uri>\n            <scale>0.01 0.01 0.01</scale>\n            <submesh>\n              <name>Hybrid_Windows</name>\n              <center>false</center>\n            </submesh>\n          </mesh>\n        </geometry>\n      </visual>\n```\n\nThis is a more challenging Gazebo model!", "markup": "markdown", "html": "<p>The idea of this post is to attach the sensor (either a camera or a lidar) to the ball. That way, we could change the orientation of the sensor around this pivot point, and visually still will look OK, as opposed to stay floating in the air. The ideal solution is to break this model into two separate links, one for the vertical post, and one for the horizontal part.  The provided <code>.dae</code> file should contain two independent submeshes that you can use in each link. These two links can be glued together with a fixed joint. Ideally, we create a xacro macro that accepts a <code>height</code> parameter, and then, create the custom links at the right height. Then, we can attach the camera.</p>\n<p>Here\u2019s an example of how to load a submesh:</p>\n<div class=\"codehilite\"><pre><span></span>      <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&quot;interior_visual&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://prius_hybrid/meshes/Hybrid.obj<span class=\"nt\">&lt;/uri&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>0.01 0.01 0.01<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;submesh&gt;</span>\n              <span class=\"nt\">&lt;name&gt;</span>Hybrid_Interior<span class=\"nt\">&lt;/name&gt;</span>\n              <span class=\"nt\">&lt;center&gt;</span>false<span class=\"nt\">&lt;/center&gt;</span>\n            <span class=\"nt\">&lt;/submesh&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/visual&gt;</span>\n\n      <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&quot;windows_visual&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://prius_hybrid/meshes/Hybrid.obj<span class=\"nt\">&lt;/uri&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>0.01 0.01 0.01<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;submesh&gt;</span>\n              <span class=\"nt\">&lt;name&gt;</span>Hybrid_Windows<span class=\"nt\">&lt;/name&gt;</span>\n              <span class=\"nt\">&lt;center&gt;</span>false<span class=\"nt\">&lt;/center&gt;</span>\n            <span class=\"nt\">&lt;/submesh&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/visual&gt;</span>\n</pre></div>\n\n\n<p>This is a more challenging Gazebo model!</p>", "type": "rendered"}, "created_on": "2019-05-23T23:37:24.093697+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2019-05-23T23:42:10.919662+00:00", "type": "pullrequest_comment", "id": 103236171}