{"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/165/comments/115518083.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/165/_/diff#comment-115518083"}}, "parent": {"id": 115478048, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/165/comments/115478048.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/165/_/diff#comment-115478048"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 165, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/165.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/165"}}, "title": "Issue#122 Ocean Reflections"}, "content": {"raw": "Thank you. I have made the change to show a refraction effect. Changes made: \n\n1. Removed `scene_blend alpha_blend`, which tried to make the ocean transparent, which conflicted with refractions. This way, if `shallowRefractRatio == 0.0`, no objects below water can be seen.\n2.  We can now tune the `noiseScale` parameter in `wave_gazebo/world_models/ocean_waves/materials/scripts/waves.material` to increase or decrease the amount of refraction movement we see.\n3. Used the above example as inspiration, but rather than making a new `noiseCoord` variable, I reused the `bumpCoord` variable already used to keep the shader less confusing. Let me know if this works!\n\n", "markup": "markdown", "html": "<p>Thank you. I have made the change to show a refraction effect. Changes made: </p>\n<ol>\n<li>Removed <code>scene_blend alpha_blend</code>, which tried to make the ocean transparent, which conflicted with refractions. This way, if <code>shallowRefractRatio == 0.0</code>, no objects below water can be seen.</li>\n<li>We can now tune the <code>noiseScale</code> parameter in <code>wave_gazebo/world_models/ocean_waves/materials/scripts/waves.material</code> to increase or decrease the amount of refraction movement we see.</li>\n<li>Used the above example as inspiration, but rather than making a new <code>noiseCoord</code> variable, I reused the <code>bumpCoord</code> variable already used to keep the shader less confusing. Let me know if this works!</li>\n</ol>", "type": "rendered"}, "created_on": "2019-09-04T06:37:48.885206+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-09-04T06:37:48.896069+00:00", "type": "pullrequest_comment", "id": 115518083}