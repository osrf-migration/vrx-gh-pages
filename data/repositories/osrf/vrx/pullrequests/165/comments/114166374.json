{"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/165/comments/114166374.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/165/_/diff#comment-114166374"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 165, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/165.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/165"}}, "title": "Issue#122 Ocean Reflections"}, "content": {"raw": "I have a question about something in the C\\+\\+ code. In numerous sections I see something like\n\n```\n#if 0\n      this->data->visual->SetMaterialShaderParam(\n        \"time\", shaderType, std::to_string(simTime));\n#else\n      auto simTime = this->data->visual->GetScene()->SimTime();\n      rendering::SetMaterialShaderParam(*this->data->visual,\n        \"time\", \"vertex\",\n        std::to_string(static_cast<float>(simTime.Double())));\n#endif\n```\n\nI understand there are if/else checks depending on GZ version, but can I simply remove these ones that always do the else statement?", "markup": "markdown", "html": "<p>I have a question about something in the C++ code. In numerous sections I see something like</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">#</span><span class=\"nn\">if</span> <span class=\"nt\">0</span>\n      <span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">data-</span><span class=\"o\">&gt;</span><span class=\"nt\">visual-</span><span class=\"o\">&gt;</span><span class=\"nt\">SetMaterialShaderParam</span><span class=\"o\">(</span>\n        <span class=\"s2\">&quot;time&quot;</span><span class=\"o\">,</span> <span class=\"nt\">shaderType</span><span class=\"o\">,</span> <span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">to_string</span><span class=\"o\">(</span><span class=\"nt\">simTime</span><span class=\"o\">));</span>\n<span class=\"p\">#</span><span class=\"nn\">else</span>\n      <span class=\"nt\">auto</span> <span class=\"nt\">simTime</span> <span class=\"o\">=</span> <span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">data-</span><span class=\"o\">&gt;</span><span class=\"nt\">visual-</span><span class=\"o\">&gt;</span><span class=\"nt\">GetScene</span><span class=\"o\">()</span><span class=\"nt\">-</span><span class=\"o\">&gt;</span><span class=\"nt\">SimTime</span><span class=\"o\">();</span>\n      <span class=\"nt\">rendering</span><span class=\"p\">::</span><span class=\"nd\">SetMaterialShaderParam</span><span class=\"o\">(*</span><span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">data-</span><span class=\"o\">&gt;</span><span class=\"nt\">visual</span><span class=\"o\">,</span>\n        <span class=\"s2\">&quot;time&quot;</span><span class=\"o\">,</span> <span class=\"s2\">&quot;vertex&quot;</span><span class=\"o\">,</span>\n        <span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">to_string</span><span class=\"o\">(</span><span class=\"nt\">static_cast</span><span class=\"o\">&lt;</span><span class=\"nt\">float</span><span class=\"o\">&gt;(</span><span class=\"nt\">simTime</span><span class=\"p\">.</span><span class=\"nc\">Double</span><span class=\"o\">())));</span>\n<span class=\"p\">#</span><span class=\"nn\">endif</span>\n</pre></div>\n\n\n<p>I understand there are if/else checks depending on GZ version, but can I simply remove these ones that always do the else statement?</p>", "type": "rendered"}, "created_on": "2019-08-22T23:21:37.046236+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-08-22T23:23:38.656505+00:00", "type": "pullrequest_comment", "id": 114166374}