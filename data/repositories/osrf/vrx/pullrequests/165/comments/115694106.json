{"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/165/comments/115694106.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/165/_/diff#comment-115694106"}}, "parent": {"id": 115692239, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/165/comments/115692239.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/165/_/diff#comment-115692239"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 165, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/165.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/165"}}, "title": "Issue#122 Ocean Reflections"}, "content": {"raw": "![](data/bitbucket.org/repo/BgXLzgM/images/474522366-image.png)\nIn 1723:6a0a23156279, I have made the following changes since:\n\n* Added back transparency in ocean, so the propellers should always be seen\n* Updated the sdf parameter names to `reflectOpacity` and `refractOpacity` for clarity\n* Added sdf parameter `rttNoise` the scales the amount of distortion\n* I made both reflection and refraction distorted\n\n```\n  /// 2. <enableRtt> (bool, default: true)\n  ///    Display reflection and reflections if set to true.\n  ///\n  /// 3. <rttNoise> (double, default: 0.1)\n  ///    Amount of distortion in reflection/refraction.\n  ///\n  /// 4. <refractOpacity> (double, default: 0.2)\n  ///    Ratio between shallow water color and refraction color to use\n  ///    In [0, 1], where 0 is no refraction and 1 is maximum refraction\n  ///\n  /// 5. <reflectOpacity> (double, default: 0.2)\n  ///    Ratio between environment color and reflection color to use\n  ///    In [0, 1], where 0 is no reflection and 1 is maximum reflection\n  ///\n```\n\nPlay around with these numbers and let me know how you find it. The reflection distortion actually looks quite nice, as the reflections are very distorted far away, but obvious and good up close. I did find the transparent water to be a bit strange, as shown in the image in the previous comment. The mixture of original thruster and refracted thruster looks a bit strange in my opinion. Otherwise, this should be good!", "markup": "markdown", "html": "<p><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/474522366-image.png\" />\nIn 1723:<a href=\"#!/osrf/vrx/commits/6a0a23156279\" rel=\"nofollow\" class=\"ap-connect-link\">6a0a23156279</a>, I have made the following changes since:</p>\n<ul>\n<li>Added back transparency in ocean, so the propellers should always be seen</li>\n<li>Updated the sdf parameter names to <code>reflectOpacity</code> and <code>refractOpacity</code> for clarity</li>\n<li>Added sdf parameter <code>rttNoise</code> the scales the amount of distortion</li>\n<li>I made both reflection and refraction distorted</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span>  /// 2. &lt;enableRtt&gt; (bool, default: true)\n  ///    Display reflection and reflections if set to true.\n  ///\n  /// 3. &lt;rttNoise&gt; (double, default: 0.1)\n  ///    Amount of distortion in reflection/refraction.\n  ///\n  /// 4. &lt;refractOpacity&gt; (double, default: 0.2)\n  ///    Ratio between shallow water color and refraction color to use\n  ///    In [0, 1], where 0 is no refraction and 1 is maximum refraction\n  ///\n  /// 5. &lt;reflectOpacity&gt; (double, default: 0.2)\n  ///    Ratio between environment color and reflection color to use\n  ///    In [0, 1], where 0 is no reflection and 1 is maximum reflection\n  ///\n</pre></div>\n\n\n<p>Play around with these numbers and let me know how you find it. The reflection distortion actually looks quite nice, as the reflections are very distorted far away, but obvious and good up close. I did find the transparent water to be a bit strange, as shown in the image in the previous comment. The mixture of original thruster and refracted thruster looks a bit strange in my opinion. Otherwise, this should be good!</p>", "type": "rendered"}, "created_on": "2019-09-05T05:39:02.582593+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-09-05T05:39:02.591464+00:00", "type": "pullrequest_comment", "id": 115694106}