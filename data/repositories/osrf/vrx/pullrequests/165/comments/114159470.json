{"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/165/comments/114159470.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/165/_/diff#comment-114159470"}}, "parent": {"id": 114151987, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/165/comments/114151987.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/165/_/diff#comment-114151987"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 165, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/165.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/165"}}, "title": "Issue#122 Ocean Reflections"}, "content": {"raw": "yeah in the \\``etupReflectionRefraction ` function, it's hardcoded to apply the effect to the user camera only. I originally added that check to simplify the problem. To get it working for camera sensors, you may have to track all cameras in the scene and create a render texture for each of them since each camera sees the reflection differently.  You'll then need to update the ocean material\u2019s textures on every preRenderUpdate \\(e.g. `reflectTex->setTexture(reflectionTextureForCameraX)`\\) to make sure the ocean is rendered using the right reflection/refraction texture for that the camera associated with the current render target.\n\nIt\u2019s a stretch goal. I suggest focusing on 1-3 for now.", "markup": "markdown", "html": "<p>yeah in the `<code>etupReflectionRefraction</code> function, it's hardcoded to apply the effect to the user camera only. I originally added that check to simplify the problem. To get it working for camera sensors, you may have to track all cameras in the scene and create a render texture for each of them since each camera sees the reflection differently.  You'll then need to update the ocean material\u2019s textures on every preRenderUpdate (e.g. <code>reflectTex-&gt;setTexture(reflectionTextureForCameraX)</code>) to make sure the ocean is rendered using the right reflection/refraction texture for that the camera associated with the current render target.</p>\n<p>It\u2019s a stretch goal. I suggest focusing on 1-3 for now.</p>", "type": "rendered"}, "created_on": "2019-08-22T21:34:30.795781+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2019-08-22T21:34:30.808858+00:00", "type": "pullrequest_comment", "id": 114159470}