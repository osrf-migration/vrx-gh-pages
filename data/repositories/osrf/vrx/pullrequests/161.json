{"rendered": {"reason": {"raw": "This was a learning PR to get the reflections setup. Anothe Pr has taken over this one.", "markup": "markdown", "html": "<p>This was a learning PR to get the reflections setup. Anothe Pr has taken over this one.</p>", "type": "rendered"}, "description": {"raw": "THIS PR IS A WORK IN PROGRESS. Please refer to the most updated comments below to check which commits are stable and working \\(to understand progress made\\), and also which commits demonstrate what I am trying to do, which may not be working \\(where I may need support\\).\r\n\r\n**What has been done**\r\n\r\nThe purpose of this PR is to experiment with Gazebo Visual Plugins to build towards ocean reflections. The major steps have been:\r\n\r\n1. Removing all previous shader and material param setting from before \\(not permanently, but done to simplify plugin for learning and experimentation\\)\r\n2. Create 2 entities:\r\n\r\n    1. An Ogre plane aligned with the ocean waves with the render texture\r\n    2. An Ogre Rectangle in the upper right corner to show what the render texture looks like\r\n    \r\n3. Use the user camera to create a rendertexture that updates to match what the user camera sees\r\n4. Attempted reflection attempt\r\n\r\n**What needs to be done and questions about it**\r\n\r\n1. Currently, I create a new material and new texture in the C\\+\\+ code and do not use any shaders. I will need to implement the shaders and update the C\\+\\+ code to interact with the shaders and material script.\r\n\r\n    1. An issue I had was that I could not modify the existing material or texture. If I had\r\n    \r\n\r\n```\r\ntexture_unit \r\n{\r\n  texture reflectionTexture\r\n  tex_address_mode clamp\r\n}\r\n```\r\n\r\nand I tried to add to it with\r\n\r\n```\r\n Ogre::TexturePtr rttTexture =$\r\n   Ogre::TextureManager::getSingleton().createManual($\r\n     \"reflectionTexture\",$\r\n     Ogre::ResourceGroupManager::DEFAULT_RESOURCE_GROUP_NAME, $\r\n     Ogre::TEX_TYPE_2D, $\r\n     512, 512, $\r\n     0, $\r\n     Ogre::PF_R8G8B8, $\r\n     Ogre::TU_RENDERTARGET);$\r\n```\r\n\r\nthe ocean waves would not turn up. Perhaps I made some mistakes with it, but I tried at it for quite a while without success. Might need to look to see if there are errors in ogre.log\r\n\r\n2\\. I need to figure out the appropriate matrices needed the transform coordinates correctly in the vertex shader.\r\n\r\n3\\. Got working material on ocean with `this->visual->SetMaterial`, but could not work when using material script.\r\n\r\n4\\. Do I need to make a new ogre camera that is not the user camera\u2019s ogre camera? When I tried making a new camera \\(referred to Pro Ogre 3D Book\\), I had difficulty positioning the camera to match the user camera pose \\(move camera or camera node? diff coordinate systems?, etc\\)\r\n\r\n**I plan to add some commits showing more clearly what I am attempting to do, but isn\u2019t working. Stable commits at** 1529:01aadf9da3d0 \\(matches figure 4\\), 1516:c46139ca81c8 \\(shows upper right miniscreen and a small flat plane with render texture\\),\r\n\r\n**Incremental improvements and understanding**\r\n\r\n\u200c\r\n\r\n![](https://lh3.googleusercontent.com/B-T_7m_By3yttge1fI63l-WYoT9nnVTeoqpvTLDzNYCjjxdHBYQoK9gXSf3DoPU4kPZ9KvmBBW-_qmsq6flGmkPNw3aly4HcSgos0pagT6M9-yeAg_8_IBQ7jokVvXg3s9KNtH3m)\r\nFigure 1: Colored ocean with fragment shader based on position, created a plane with a cloud picture, and show a texture of the usercamera image in the upper right\r\n\r\n![](https://lh4.googleusercontent.com/sqmhSaEHRsjdcAyKEtLJ3ttm_q3XP5esooZiT-TLTbi7pTN9MADsx4m1IUCYSZYa0xbUY6EgWJHX_ZUTcwbb9PQmF01ZeHdv_J5NFPbx-JCuxEKPxSi1FOuKCuLc5jfgHcaxDF6S)\r\nFigure 2: Change miniscreen to no longer show a miniscreen inside of itself\r\n\r\n\u200c\r\n\r\n![](https://lh3.googleusercontent.com/HCsEeJU2GbQgUNTnUnlQfYumeVvg8vMOtMuGPZMr3CgBZNN6txkRg3fFk9clHtLzLD9h775zWpiyT3OzJndd1xlTurmYZD3RzgLndNQOB1g9CJpG9ZmC15JB2JYHzSdgpQOzbatx)\r\nFigure 3: Remove ocean shader and make plane display texture\r\n\r\n\u200c\r\n\r\n![](data/bitbucket.org/repo/BgXLzgM/images/2044246195-image.png)\r\n\u200c\r\n\r\n![](data/bitbucket.org/repo/BgXLzgM/images/1477922417-image.png)\r\nFigure 4: Rotate plane to align with ocean waves and enable reflection \\(shows non-working view from above and promsing view from below\\)\r\n\r\n\u200c\r\n\r\n**Reference Material**\r\n\r\nOgre Render to Texture Tutorial [http://wiki.ogre3d.org/Intermediate\\+Tutorial\\+7](http://wiki.ogre3d.org/Intermediate+Tutorial+7)\r\n\r\nPro Ogre 3D Book [https://books.google.ca/books?id=GifUrbWat14C&pg=PA166&lpg=PA166&dq=ogre\\+reflection&source=bl&ots=glk0q9tlDg&sig=ACfU3U2g\\_Zg3zryST6pGEYVmzPOsE06i2w&hl=en&sa=X&ved=2ahUKEwiXvIPFhYvkAhW2JTQIHdbGAdQQ6AEwDHoECAgQAQ#v=onepage&q&f=false](https://books.google.ca/books?id=GifUrbWat14C&pg=PA166&lpg=PA166&dq=ogre+reflection&source=bl&ots=glk0q9tlDg&sig=ACfU3U2g_Zg3zryST6pGEYVmzPOsE06i2w&hl=en&sa=X&ved=2ahUKEwiXvIPFhYvkAhW2JTQIHdbGAdQQ6AEwDHoECAgQAQ#v=onepage&q&f=false)\r\n\r\nGazebo rendering source code https://bitbucket.org/osrf/gazebo/src/default/gazebo/rendering/\r\n\r\nGLSL Shader Tutorial for Reflections [https://www.youtube.com/watch?v=GADTasvDOX4&list=PLRIWtICgwaX23jiqVByUs0bqhnalNTNZh&index=4](https://www.youtube.com/watch?v=GADTasvDOX4&list=PLRIWtICgwaX23jiqVByUs0bqhnalNTNZh&index=4)\r\n\r\nCamera Positioning Tutorial [http://wiki.ogre3d.org/Simple\\+3rd\\+person\\+camera](http://wiki.ogre3d.org/Simple+3rd+person+camera)\r\n\r\nFresnel Example from Ogre: [https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Fresnel/include/Fresnel.h](https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Fresnel/include/Fresnel.h) [https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/scripts/Examples-Advanced.material](https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/scripts/Examples-Advanced.material) [https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/programs/GLSL150/Example\\_FresnelFp.glsl](https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/programs/GLSL150/Example_FresnelFp.glsl) [https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/programs/GLSL150/Example\\_FresnelVp.glsl](https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/programs/GLSL150/Example_FresnelVp.glsl)", "markup": "markdown", "html": "<p>THIS PR IS A WORK IN PROGRESS. Please refer to the most updated comments below to check which commits are stable and working (to understand progress made), and also which commits demonstrate what I am trying to do, which may not be working (where I may need support).</p>\n<p><strong>What has been done</strong></p>\n<p>The purpose of this PR is to experiment with Gazebo Visual Plugins to build towards ocean reflections. The major steps have been:</p>\n<ol>\n<li>Removing all previous shader and material param setting from before (not permanently, but done to simplify plugin for learning and experimentation)</li>\n<li>\n<p>Create 2 entities:</p>\n<ol>\n<li>An Ogre plane aligned with the ocean waves with the render texture</li>\n<li>An Ogre Rectangle in the upper right corner to show what the render texture looks like</li>\n</ol>\n</li>\n<li>\n<p>Use the user camera to create a rendertexture that updates to match what the user camera sees</p>\n</li>\n<li>Attempted reflection attempt</li>\n</ol>\n<p><strong>What needs to be done and questions about it</strong></p>\n<ol>\n<li>\n<p>Currently, I create a new material and new texture in the C++ code and do not use any shaders. I will need to implement the shaders and update the C++ code to interact with the shaders and material script.</p>\n<ol>\n<li>An issue I had was that I could not modify the existing material or texture. If I had</li>\n</ol>\n</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span>texture_unit \n{\n  texture reflectionTexture\n  tex_address_mode clamp\n}\n</pre></div>\n\n\n<p>and I tried to add to it with</p>\n<div class=\"codehilite\"><pre><span></span> <span class=\"nt\">Ogre</span><span class=\"p\">::</span><span class=\"nd\">TexturePtr</span> <span class=\"nt\">rttTexture</span> <span class=\"o\">=$</span>\n   <span class=\"nt\">Ogre</span><span class=\"p\">::</span><span class=\"nd\">TextureManager</span><span class=\"p\">::</span><span class=\"nd\">getSingleton</span><span class=\"o\">()</span><span class=\"p\">.</span><span class=\"nc\">createManual</span><span class=\"o\">($</span>\n     <span class=\"s2\">&quot;reflectionTexture&quot;</span><span class=\"o\">,$</span>\n     <span class=\"nt\">Ogre</span><span class=\"p\">::</span><span class=\"nd\">ResourceGroupManager</span><span class=\"p\">::</span><span class=\"nd\">DEFAULT_RESOURCE_GROUP_NAME</span><span class=\"o\">,</span> <span class=\"o\">$</span>\n     <span class=\"nt\">Ogre</span><span class=\"p\">::</span><span class=\"nd\">TEX_TYPE_2D</span><span class=\"o\">,</span> <span class=\"o\">$</span>\n     <span class=\"nt\">512</span><span class=\"o\">,</span> <span class=\"nt\">512</span><span class=\"o\">,</span> <span class=\"o\">$</span>\n     <span class=\"nt\">0</span><span class=\"o\">,</span> <span class=\"o\">$</span>\n     <span class=\"nt\">Ogre</span><span class=\"p\">::</span><span class=\"nd\">PF_R8G8B8</span><span class=\"o\">,</span> <span class=\"o\">$</span>\n     <span class=\"nt\">Ogre</span><span class=\"p\">::</span><span class=\"nd\">TU_RENDERTARGET</span><span class=\"o\">);$</span>\n</pre></div>\n\n\n<p>the ocean waves would not turn up. Perhaps I made some mistakes with it, but I tried at it for quite a while without success. Might need to look to see if there are errors in ogre.log</p>\n<p>2. I need to figure out the appropriate matrices needed the transform coordinates correctly in the vertex shader.</p>\n<p>3. Got working material on ocean with <code>this-&gt;visual-&gt;SetMaterial</code>, but could not work when using material script.</p>\n<p>4. Do I need to make a new ogre camera that is not the user camera\u2019s ogre camera? When I tried making a new camera (referred to Pro Ogre 3D Book), I had difficulty positioning the camera to match the user camera pose (move camera or camera node? diff coordinate systems?, etc)</p>\n<p><strong>I plan to add some commits showing more clearly what I am attempting to do, but isn\u2019t working. Stable commits at</strong> 1529:<a href=\"#!/osrf/vrx/commits/01aadf9da3d0\" rel=\"nofollow\" class=\"ap-connect-link\">01aadf9da3d0</a> (matches figure 4), 1516:<a href=\"#!/osrf/vrx/commits/c46139ca81c8\" rel=\"nofollow\" class=\"ap-connect-link\">c46139ca81c8</a> (shows upper right miniscreen and a small flat plane with render texture),</p>\n<p><strong>Incremental improvements and understanding</strong></p>\n<p>\u200c</p>\n<p><img alt=\"\" src=\"https://lh3.googleusercontent.com/B-T_7m_By3yttge1fI63l-WYoT9nnVTeoqpvTLDzNYCjjxdHBYQoK9gXSf3DoPU4kPZ9KvmBBW-_qmsq6flGmkPNw3aly4HcSgos0pagT6M9-yeAg_8_IBQ7jokVvXg3s9KNtH3m\" />\nFigure 1: Colored ocean with fragment shader based on position, created a plane with a cloud picture, and show a texture of the usercamera image in the upper right</p>\n<p><img alt=\"\" src=\"https://lh4.googleusercontent.com/sqmhSaEHRsjdcAyKEtLJ3ttm_q3XP5esooZiT-TLTbi7pTN9MADsx4m1IUCYSZYa0xbUY6EgWJHX_ZUTcwbb9PQmF01ZeHdv_J5NFPbx-JCuxEKPxSi1FOuKCuLc5jfgHcaxDF6S\" />\nFigure 2: Change miniscreen to no longer show a miniscreen inside of itself</p>\n<p>\u200c</p>\n<p><img alt=\"\" src=\"https://lh3.googleusercontent.com/HCsEeJU2GbQgUNTnUnlQfYumeVvg8vMOtMuGPZMr3CgBZNN6txkRg3fFk9clHtLzLD9h775zWpiyT3OzJndd1xlTurmYZD3RzgLndNQOB1g9CJpG9ZmC15JB2JYHzSdgpQOzbatx\" />\nFigure 3: Remove ocean shader and make plane display texture</p>\n<p>\u200c</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/2044246195-image.png\" />\n\u200c</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/1477922417-image.png\" />\nFigure 4: Rotate plane to align with ocean waves and enable reflection (shows non-working view from above and promsing view from below)</p>\n<p>\u200c</p>\n<p><strong>Reference Material</strong></p>\n<p>Ogre Render to Texture Tutorial <a data-is-external-link=\"true\" href=\"http://wiki.ogre3d.org/Intermediate+Tutorial+7\" rel=\"nofollow\">http://wiki.ogre3d.org/Intermediate+Tutorial+7</a></p>\n<p>Pro Ogre 3D Book <a data-is-external-link=\"true\" href=\"https://books.google.ca/books?id=GifUrbWat14C&amp;pg=PA166&amp;lpg=PA166&amp;dq=ogre+reflection&amp;source=bl&amp;ots=glk0q9tlDg&amp;sig=ACfU3U2g_Zg3zryST6pGEYVmzPOsE06i2w&amp;hl=en&amp;sa=X&amp;ved=2ahUKEwiXvIPFhYvkAhW2JTQIHdbGAdQQ6AEwDHoECAgQAQ#v=onepage&amp;q&amp;f=false\" rel=\"nofollow\">https://books.google.ca/books?id=GifUrbWat14C&amp;pg=PA166&amp;lpg=PA166&amp;dq=ogre+reflection&amp;source=bl&amp;ots=glk0q9tlDg&amp;sig=ACfU3U2g_Zg3zryST6pGEYVmzPOsE06i2w&amp;hl=en&amp;sa=X&amp;ved=2ahUKEwiXvIPFhYvkAhW2JTQIHdbGAdQQ6AEwDHoECAgQAQ#v=onepage&amp;q&amp;f=false</a></p>\n<p>Gazebo rendering source code <a href=\"https://bitbucket.org/osrf/gazebo/src/default/gazebo/rendering/\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/osrf/gazebo/src/default/gazebo/rendering/</a></p>\n<p>GLSL Shader Tutorial for Reflections <a data-is-external-link=\"true\" href=\"https://www.youtube.com/watch?v=GADTasvDOX4&amp;list=PLRIWtICgwaX23jiqVByUs0bqhnalNTNZh&amp;index=4\" rel=\"nofollow\">https://www.youtube.com/watch?v=GADTasvDOX4&amp;list=PLRIWtICgwaX23jiqVByUs0bqhnalNTNZh&amp;index=4</a></p>\n<p>Camera Positioning Tutorial <a data-is-external-link=\"true\" href=\"http://wiki.ogre3d.org/Simple+3rd+person+camera\" rel=\"nofollow\">http://wiki.ogre3d.org/Simple+3rd+person+camera</a></p>\n<p>Fresnel Example from Ogre: <a data-is-external-link=\"true\" href=\"https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Fresnel/include/Fresnel.h\" rel=\"nofollow\">https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Fresnel/include/Fresnel.h</a> <a data-is-external-link=\"true\" href=\"https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/scripts/Examples-Advanced.material\" rel=\"nofollow\">https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/scripts/Examples-Advanced.material</a> <a data-is-external-link=\"true\" href=\"https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/programs/GLSL150/Example_FresnelFp.glsl\" rel=\"nofollow\">https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/programs/GLSL150/Example_FresnelFp.glsl</a> <a data-is-external-link=\"true\" href=\"https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/programs/GLSL150/Example_FresnelVp.glsl\" rel=\"nofollow\">https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/programs/GLSL150/Example_FresnelVp.glsl</a></p>", "type": "rendered"}, "title": {"raw": "Learn Gazebo Visual Plugins for Ocean Reflections", "markup": "markdown", "html": "<p>Learn Gazebo Visual Plugins for Ocean Reflections</p>", "type": "rendered"}}, "type": "pullrequest", "description": "THIS PR IS A WORK IN PROGRESS. Please refer to the most updated comments below to check which commits are stable and working \\(to understand progress made\\), and also which commits demonstrate what I am trying to do, which may not be working \\(where I may need support\\).\r\n\r\n**What has been done**\r\n\r\nThe purpose of this PR is to experiment with Gazebo Visual Plugins to build towards ocean reflections. The major steps have been:\r\n\r\n1. Removing all previous shader and material param setting from before \\(not permanently, but done to simplify plugin for learning and experimentation\\)\r\n2. Create 2 entities:\r\n\r\n    1. An Ogre plane aligned with the ocean waves with the render texture\r\n    2. An Ogre Rectangle in the upper right corner to show what the render texture looks like\r\n    \r\n3. Use the user camera to create a rendertexture that updates to match what the user camera sees\r\n4. Attempted reflection attempt\r\n\r\n**What needs to be done and questions about it**\r\n\r\n1. Currently, I create a new material and new texture in the C\\+\\+ code and do not use any shaders. I will need to implement the shaders and update the C\\+\\+ code to interact with the shaders and material script.\r\n\r\n    1. An issue I had was that I could not modify the existing material or texture. If I had\r\n    \r\n\r\n```\r\ntexture_unit \r\n{\r\n  texture reflectionTexture\r\n  tex_address_mode clamp\r\n}\r\n```\r\n\r\nand I tried to add to it with\r\n\r\n```\r\n Ogre::TexturePtr rttTexture =$\r\n   Ogre::TextureManager::getSingleton().createManual($\r\n     \"reflectionTexture\",$\r\n     Ogre::ResourceGroupManager::DEFAULT_RESOURCE_GROUP_NAME, $\r\n     Ogre::TEX_TYPE_2D, $\r\n     512, 512, $\r\n     0, $\r\n     Ogre::PF_R8G8B8, $\r\n     Ogre::TU_RENDERTARGET);$\r\n```\r\n\r\nthe ocean waves would not turn up. Perhaps I made some mistakes with it, but I tried at it for quite a while without success. Might need to look to see if there are errors in ogre.log\r\n\r\n2\\. I need to figure out the appropriate matrices needed the transform coordinates correctly in the vertex shader.\r\n\r\n3\\. Got working material on ocean with `this->visual->SetMaterial`, but could not work when using material script.\r\n\r\n4\\. Do I need to make a new ogre camera that is not the user camera\u2019s ogre camera? When I tried making a new camera \\(referred to Pro Ogre 3D Book\\), I had difficulty positioning the camera to match the user camera pose \\(move camera or camera node? diff coordinate systems?, etc\\)\r\n\r\n**I plan to add some commits showing more clearly what I am attempting to do, but isn\u2019t working. Stable commits at** 1529:01aadf9da3d0 \\(matches figure 4\\), 1516:c46139ca81c8 \\(shows upper right miniscreen and a small flat plane with render texture\\),\r\n\r\n**Incremental improvements and understanding**\r\n\r\n\u200c\r\n\r\n![](https://lh3.googleusercontent.com/B-T_7m_By3yttge1fI63l-WYoT9nnVTeoqpvTLDzNYCjjxdHBYQoK9gXSf3DoPU4kPZ9KvmBBW-_qmsq6flGmkPNw3aly4HcSgos0pagT6M9-yeAg_8_IBQ7jokVvXg3s9KNtH3m)\r\nFigure 1: Colored ocean with fragment shader based on position, created a plane with a cloud picture, and show a texture of the usercamera image in the upper right\r\n\r\n![](https://lh4.googleusercontent.com/sqmhSaEHRsjdcAyKEtLJ3ttm_q3XP5esooZiT-TLTbi7pTN9MADsx4m1IUCYSZYa0xbUY6EgWJHX_ZUTcwbb9PQmF01ZeHdv_J5NFPbx-JCuxEKPxSi1FOuKCuLc5jfgHcaxDF6S)\r\nFigure 2: Change miniscreen to no longer show a miniscreen inside of itself\r\n\r\n\u200c\r\n\r\n![](https://lh3.googleusercontent.com/HCsEeJU2GbQgUNTnUnlQfYumeVvg8vMOtMuGPZMr3CgBZNN6txkRg3fFk9clHtLzLD9h775zWpiyT3OzJndd1xlTurmYZD3RzgLndNQOB1g9CJpG9ZmC15JB2JYHzSdgpQOzbatx)\r\nFigure 3: Remove ocean shader and make plane display texture\r\n\r\n\u200c\r\n\r\n![](data/bitbucket.org/repo/BgXLzgM/images/2044246195-image.png)\r\n\u200c\r\n\r\n![](data/bitbucket.org/repo/BgXLzgM/images/1477922417-image.png)\r\nFigure 4: Rotate plane to align with ocean waves and enable reflection \\(shows non-working view from above and promsing view from below\\)\r\n\r\n\u200c\r\n\r\n**Reference Material**\r\n\r\nOgre Render to Texture Tutorial [http://wiki.ogre3d.org/Intermediate\\+Tutorial\\+7](http://wiki.ogre3d.org/Intermediate+Tutorial+7)\r\n\r\nPro Ogre 3D Book [https://books.google.ca/books?id=GifUrbWat14C&pg=PA166&lpg=PA166&dq=ogre\\+reflection&source=bl&ots=glk0q9tlDg&sig=ACfU3U2g\\_Zg3zryST6pGEYVmzPOsE06i2w&hl=en&sa=X&ved=2ahUKEwiXvIPFhYvkAhW2JTQIHdbGAdQQ6AEwDHoECAgQAQ#v=onepage&q&f=false](https://books.google.ca/books?id=GifUrbWat14C&pg=PA166&lpg=PA166&dq=ogre+reflection&source=bl&ots=glk0q9tlDg&sig=ACfU3U2g_Zg3zryST6pGEYVmzPOsE06i2w&hl=en&sa=X&ved=2ahUKEwiXvIPFhYvkAhW2JTQIHdbGAdQQ6AEwDHoECAgQAQ#v=onepage&q&f=false)\r\n\r\nGazebo rendering source code https://bitbucket.org/osrf/gazebo/src/default/gazebo/rendering/\r\n\r\nGLSL Shader Tutorial for Reflections [https://www.youtube.com/watch?v=GADTasvDOX4&list=PLRIWtICgwaX23jiqVByUs0bqhnalNTNZh&index=4](https://www.youtube.com/watch?v=GADTasvDOX4&list=PLRIWtICgwaX23jiqVByUs0bqhnalNTNZh&index=4)\r\n\r\nCamera Positioning Tutorial [http://wiki.ogre3d.org/Simple\\+3rd\\+person\\+camera](http://wiki.ogre3d.org/Simple+3rd+person+camera)\r\n\r\nFresnel Example from Ogre: [https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Fresnel/include/Fresnel.h](https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Fresnel/include/Fresnel.h) [https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/scripts/Examples-Advanced.material](https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/scripts/Examples-Advanced.material) [https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/programs/GLSL150/Example\\_FresnelFp.glsl](https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/programs/GLSL150/Example_FresnelFp.glsl) [https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/programs/GLSL150/Example\\_FresnelVp.glsl](https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/programs/GLSL150/Example_FresnelVp.glsl)", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/pullrequests/161/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/diffstat/osrf/vrx:a1b857f374cb%0D2a5da62e03c7?from_pullrequest_id=161"}, "commits": {"href": "data/repositories/osrf/vrx/pullrequests/161/commits.json"}, "self": {"href": "data/repositories/osrf/vrx/pullrequests/161.json"}, "comments": {"href": "data/repositories/osrf/vrx/pullrequests/161/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/pullrequests/161/merge"}, "html": {"href": "#!/osrf/vrx/pull-requests/161"}, "activity": {"href": "data/repositories/osrf/vrx/pullrequests/161/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/diff/osrf/vrx:a1b857f374cb%0D2a5da62e03c7?from_pullrequest_id=161"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/pullrequests/161/approve"}, "statuses": {"href": "data/repositories/osrf/vrx/pullrequests/161/statuses_page=1.json"}}, "title": "Learn Gazebo Visual Plugins for Ocean Reflections", "close_source_branch": false, "reviewers": [{"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}], "id": 161, "destination": {"commit": {"hash": "2a5da62e03c7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/2a5da62e03c7.json"}, "html": {"href": "#!/osrf/vrx/commits/2a5da62e03c7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "default"}}, "created_on": "2019-08-18T06:31:50.182997+00:00", "summary": {"raw": "THIS PR IS A WORK IN PROGRESS. Please refer to the most updated comments below to check which commits are stable and working \\(to understand progress made\\), and also which commits demonstrate what I am trying to do, which may not be working \\(where I may need support\\).\r\n\r\n**What has been done**\r\n\r\nThe purpose of this PR is to experiment with Gazebo Visual Plugins to build towards ocean reflections. The major steps have been:\r\n\r\n1. Removing all previous shader and material param setting from before \\(not permanently, but done to simplify plugin for learning and experimentation\\)\r\n2. Create 2 entities:\r\n\r\n    1. An Ogre plane aligned with the ocean waves with the render texture\r\n    2. An Ogre Rectangle in the upper right corner to show what the render texture looks like\r\n    \r\n3. Use the user camera to create a rendertexture that updates to match what the user camera sees\r\n4. Attempted reflection attempt\r\n\r\n**What needs to be done and questions about it**\r\n\r\n1. Currently, I create a new material and new texture in the C\\+\\+ code and do not use any shaders. I will need to implement the shaders and update the C\\+\\+ code to interact with the shaders and material script.\r\n\r\n    1. An issue I had was that I could not modify the existing material or texture. If I had\r\n    \r\n\r\n```\r\ntexture_unit \r\n{\r\n  texture reflectionTexture\r\n  tex_address_mode clamp\r\n}\r\n```\r\n\r\nand I tried to add to it with\r\n\r\n```\r\n Ogre::TexturePtr rttTexture =$\r\n   Ogre::TextureManager::getSingleton().createManual($\r\n     \"reflectionTexture\",$\r\n     Ogre::ResourceGroupManager::DEFAULT_RESOURCE_GROUP_NAME, $\r\n     Ogre::TEX_TYPE_2D, $\r\n     512, 512, $\r\n     0, $\r\n     Ogre::PF_R8G8B8, $\r\n     Ogre::TU_RENDERTARGET);$\r\n```\r\n\r\nthe ocean waves would not turn up. Perhaps I made some mistakes with it, but I tried at it for quite a while without success. Might need to look to see if there are errors in ogre.log\r\n\r\n2\\. I need to figure out the appropriate matrices needed the transform coordinates correctly in the vertex shader.\r\n\r\n3\\. Got working material on ocean with `this->visual->SetMaterial`, but could not work when using material script.\r\n\r\n4\\. Do I need to make a new ogre camera that is not the user camera\u2019s ogre camera? When I tried making a new camera \\(referred to Pro Ogre 3D Book\\), I had difficulty positioning the camera to match the user camera pose \\(move camera or camera node? diff coordinate systems?, etc\\)\r\n\r\n**I plan to add some commits showing more clearly what I am attempting to do, but isn\u2019t working. Stable commits at** 1529:01aadf9da3d0 \\(matches figure 4\\), 1516:c46139ca81c8 \\(shows upper right miniscreen and a small flat plane with render texture\\),\r\n\r\n**Incremental improvements and understanding**\r\n\r\n\u200c\r\n\r\n![](https://lh3.googleusercontent.com/B-T_7m_By3yttge1fI63l-WYoT9nnVTeoqpvTLDzNYCjjxdHBYQoK9gXSf3DoPU4kPZ9KvmBBW-_qmsq6flGmkPNw3aly4HcSgos0pagT6M9-yeAg_8_IBQ7jokVvXg3s9KNtH3m)\r\nFigure 1: Colored ocean with fragment shader based on position, created a plane with a cloud picture, and show a texture of the usercamera image in the upper right\r\n\r\n![](https://lh4.googleusercontent.com/sqmhSaEHRsjdcAyKEtLJ3ttm_q3XP5esooZiT-TLTbi7pTN9MADsx4m1IUCYSZYa0xbUY6EgWJHX_ZUTcwbb9PQmF01ZeHdv_J5NFPbx-JCuxEKPxSi1FOuKCuLc5jfgHcaxDF6S)\r\nFigure 2: Change miniscreen to no longer show a miniscreen inside of itself\r\n\r\n\u200c\r\n\r\n![](https://lh3.googleusercontent.com/HCsEeJU2GbQgUNTnUnlQfYumeVvg8vMOtMuGPZMr3CgBZNN6txkRg3fFk9clHtLzLD9h775zWpiyT3OzJndd1xlTurmYZD3RzgLndNQOB1g9CJpG9ZmC15JB2JYHzSdgpQOzbatx)\r\nFigure 3: Remove ocean shader and make plane display texture\r\n\r\n\u200c\r\n\r\n![](data/bitbucket.org/repo/BgXLzgM/images/2044246195-image.png)\r\n\u200c\r\n\r\n![](data/bitbucket.org/repo/BgXLzgM/images/1477922417-image.png)\r\nFigure 4: Rotate plane to align with ocean waves and enable reflection \\(shows non-working view from above and promsing view from below\\)\r\n\r\n\u200c\r\n\r\n**Reference Material**\r\n\r\nOgre Render to Texture Tutorial [http://wiki.ogre3d.org/Intermediate\\+Tutorial\\+7](http://wiki.ogre3d.org/Intermediate+Tutorial+7)\r\n\r\nPro Ogre 3D Book [https://books.google.ca/books?id=GifUrbWat14C&pg=PA166&lpg=PA166&dq=ogre\\+reflection&source=bl&ots=glk0q9tlDg&sig=ACfU3U2g\\_Zg3zryST6pGEYVmzPOsE06i2w&hl=en&sa=X&ved=2ahUKEwiXvIPFhYvkAhW2JTQIHdbGAdQQ6AEwDHoECAgQAQ#v=onepage&q&f=false](https://books.google.ca/books?id=GifUrbWat14C&pg=PA166&lpg=PA166&dq=ogre+reflection&source=bl&ots=glk0q9tlDg&sig=ACfU3U2g_Zg3zryST6pGEYVmzPOsE06i2w&hl=en&sa=X&ved=2ahUKEwiXvIPFhYvkAhW2JTQIHdbGAdQQ6AEwDHoECAgQAQ#v=onepage&q&f=false)\r\n\r\nGazebo rendering source code https://bitbucket.org/osrf/gazebo/src/default/gazebo/rendering/\r\n\r\nGLSL Shader Tutorial for Reflections [https://www.youtube.com/watch?v=GADTasvDOX4&list=PLRIWtICgwaX23jiqVByUs0bqhnalNTNZh&index=4](https://www.youtube.com/watch?v=GADTasvDOX4&list=PLRIWtICgwaX23jiqVByUs0bqhnalNTNZh&index=4)\r\n\r\nCamera Positioning Tutorial [http://wiki.ogre3d.org/Simple\\+3rd\\+person\\+camera](http://wiki.ogre3d.org/Simple+3rd+person+camera)\r\n\r\nFresnel Example from Ogre: [https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Fresnel/include/Fresnel.h](https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Fresnel/include/Fresnel.h) [https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/scripts/Examples-Advanced.material](https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/scripts/Examples-Advanced.material) [https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/programs/GLSL150/Example\\_FresnelFp.glsl](https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/programs/GLSL150/Example_FresnelFp.glsl) [https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/programs/GLSL150/Example\\_FresnelVp.glsl](https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/programs/GLSL150/Example_FresnelVp.glsl)", "markup": "markdown", "html": "<p>THIS PR IS A WORK IN PROGRESS. Please refer to the most updated comments below to check which commits are stable and working (to understand progress made), and also which commits demonstrate what I am trying to do, which may not be working (where I may need support).</p>\n<p><strong>What has been done</strong></p>\n<p>The purpose of this PR is to experiment with Gazebo Visual Plugins to build towards ocean reflections. The major steps have been:</p>\n<ol>\n<li>Removing all previous shader and material param setting from before (not permanently, but done to simplify plugin for learning and experimentation)</li>\n<li>\n<p>Create 2 entities:</p>\n<ol>\n<li>An Ogre plane aligned with the ocean waves with the render texture</li>\n<li>An Ogre Rectangle in the upper right corner to show what the render texture looks like</li>\n</ol>\n</li>\n<li>\n<p>Use the user camera to create a rendertexture that updates to match what the user camera sees</p>\n</li>\n<li>Attempted reflection attempt</li>\n</ol>\n<p><strong>What needs to be done and questions about it</strong></p>\n<ol>\n<li>\n<p>Currently, I create a new material and new texture in the C++ code and do not use any shaders. I will need to implement the shaders and update the C++ code to interact with the shaders and material script.</p>\n<ol>\n<li>An issue I had was that I could not modify the existing material or texture. If I had</li>\n</ol>\n</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span>texture_unit \n{\n  texture reflectionTexture\n  tex_address_mode clamp\n}\n</pre></div>\n\n\n<p>and I tried to add to it with</p>\n<div class=\"codehilite\"><pre><span></span> <span class=\"nt\">Ogre</span><span class=\"p\">::</span><span class=\"nd\">TexturePtr</span> <span class=\"nt\">rttTexture</span> <span class=\"o\">=$</span>\n   <span class=\"nt\">Ogre</span><span class=\"p\">::</span><span class=\"nd\">TextureManager</span><span class=\"p\">::</span><span class=\"nd\">getSingleton</span><span class=\"o\">()</span><span class=\"p\">.</span><span class=\"nc\">createManual</span><span class=\"o\">($</span>\n     <span class=\"s2\">&quot;reflectionTexture&quot;</span><span class=\"o\">,$</span>\n     <span class=\"nt\">Ogre</span><span class=\"p\">::</span><span class=\"nd\">ResourceGroupManager</span><span class=\"p\">::</span><span class=\"nd\">DEFAULT_RESOURCE_GROUP_NAME</span><span class=\"o\">,</span> <span class=\"o\">$</span>\n     <span class=\"nt\">Ogre</span><span class=\"p\">::</span><span class=\"nd\">TEX_TYPE_2D</span><span class=\"o\">,</span> <span class=\"o\">$</span>\n     <span class=\"nt\">512</span><span class=\"o\">,</span> <span class=\"nt\">512</span><span class=\"o\">,</span> <span class=\"o\">$</span>\n     <span class=\"nt\">0</span><span class=\"o\">,</span> <span class=\"o\">$</span>\n     <span class=\"nt\">Ogre</span><span class=\"p\">::</span><span class=\"nd\">PF_R8G8B8</span><span class=\"o\">,</span> <span class=\"o\">$</span>\n     <span class=\"nt\">Ogre</span><span class=\"p\">::</span><span class=\"nd\">TU_RENDERTARGET</span><span class=\"o\">);$</span>\n</pre></div>\n\n\n<p>the ocean waves would not turn up. Perhaps I made some mistakes with it, but I tried at it for quite a while without success. Might need to look to see if there are errors in ogre.log</p>\n<p>2. I need to figure out the appropriate matrices needed the transform coordinates correctly in the vertex shader.</p>\n<p>3. Got working material on ocean with <code>this-&gt;visual-&gt;SetMaterial</code>, but could not work when using material script.</p>\n<p>4. Do I need to make a new ogre camera that is not the user camera\u2019s ogre camera? When I tried making a new camera (referred to Pro Ogre 3D Book), I had difficulty positioning the camera to match the user camera pose (move camera or camera node? diff coordinate systems?, etc)</p>\n<p><strong>I plan to add some commits showing more clearly what I am attempting to do, but isn\u2019t working. Stable commits at</strong> 1529:<a href=\"#!/osrf/vrx/commits/01aadf9da3d0\" rel=\"nofollow\" class=\"ap-connect-link\">01aadf9da3d0</a> (matches figure 4), 1516:<a href=\"#!/osrf/vrx/commits/c46139ca81c8\" rel=\"nofollow\" class=\"ap-connect-link\">c46139ca81c8</a> (shows upper right miniscreen and a small flat plane with render texture),</p>\n<p><strong>Incremental improvements and understanding</strong></p>\n<p>\u200c</p>\n<p><img alt=\"\" src=\"https://lh3.googleusercontent.com/B-T_7m_By3yttge1fI63l-WYoT9nnVTeoqpvTLDzNYCjjxdHBYQoK9gXSf3DoPU4kPZ9KvmBBW-_qmsq6flGmkPNw3aly4HcSgos0pagT6M9-yeAg_8_IBQ7jokVvXg3s9KNtH3m\" />\nFigure 1: Colored ocean with fragment shader based on position, created a plane with a cloud picture, and show a texture of the usercamera image in the upper right</p>\n<p><img alt=\"\" src=\"https://lh4.googleusercontent.com/sqmhSaEHRsjdcAyKEtLJ3ttm_q3XP5esooZiT-TLTbi7pTN9MADsx4m1IUCYSZYa0xbUY6EgWJHX_ZUTcwbb9PQmF01ZeHdv_J5NFPbx-JCuxEKPxSi1FOuKCuLc5jfgHcaxDF6S\" />\nFigure 2: Change miniscreen to no longer show a miniscreen inside of itself</p>\n<p>\u200c</p>\n<p><img alt=\"\" src=\"https://lh3.googleusercontent.com/HCsEeJU2GbQgUNTnUnlQfYumeVvg8vMOtMuGPZMr3CgBZNN6txkRg3fFk9clHtLzLD9h775zWpiyT3OzJndd1xlTurmYZD3RzgLndNQOB1g9CJpG9ZmC15JB2JYHzSdgpQOzbatx\" />\nFigure 3: Remove ocean shader and make plane display texture</p>\n<p>\u200c</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/2044246195-image.png\" />\n\u200c</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/BgXLzgM/images/1477922417-image.png\" />\nFigure 4: Rotate plane to align with ocean waves and enable reflection (shows non-working view from above and promsing view from below)</p>\n<p>\u200c</p>\n<p><strong>Reference Material</strong></p>\n<p>Ogre Render to Texture Tutorial <a data-is-external-link=\"true\" href=\"http://wiki.ogre3d.org/Intermediate+Tutorial+7\" rel=\"nofollow\">http://wiki.ogre3d.org/Intermediate+Tutorial+7</a></p>\n<p>Pro Ogre 3D Book <a data-is-external-link=\"true\" href=\"https://books.google.ca/books?id=GifUrbWat14C&amp;pg=PA166&amp;lpg=PA166&amp;dq=ogre+reflection&amp;source=bl&amp;ots=glk0q9tlDg&amp;sig=ACfU3U2g_Zg3zryST6pGEYVmzPOsE06i2w&amp;hl=en&amp;sa=X&amp;ved=2ahUKEwiXvIPFhYvkAhW2JTQIHdbGAdQQ6AEwDHoECAgQAQ#v=onepage&amp;q&amp;f=false\" rel=\"nofollow\">https://books.google.ca/books?id=GifUrbWat14C&amp;pg=PA166&amp;lpg=PA166&amp;dq=ogre+reflection&amp;source=bl&amp;ots=glk0q9tlDg&amp;sig=ACfU3U2g_Zg3zryST6pGEYVmzPOsE06i2w&amp;hl=en&amp;sa=X&amp;ved=2ahUKEwiXvIPFhYvkAhW2JTQIHdbGAdQQ6AEwDHoECAgQAQ#v=onepage&amp;q&amp;f=false</a></p>\n<p>Gazebo rendering source code <a href=\"https://bitbucket.org/osrf/gazebo/src/default/gazebo/rendering/\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/osrf/gazebo/src/default/gazebo/rendering/</a></p>\n<p>GLSL Shader Tutorial for Reflections <a data-is-external-link=\"true\" href=\"https://www.youtube.com/watch?v=GADTasvDOX4&amp;list=PLRIWtICgwaX23jiqVByUs0bqhnalNTNZh&amp;index=4\" rel=\"nofollow\">https://www.youtube.com/watch?v=GADTasvDOX4&amp;list=PLRIWtICgwaX23jiqVByUs0bqhnalNTNZh&amp;index=4</a></p>\n<p>Camera Positioning Tutorial <a data-is-external-link=\"true\" href=\"http://wiki.ogre3d.org/Simple+3rd+person+camera\" rel=\"nofollow\">http://wiki.ogre3d.org/Simple+3rd+person+camera</a></p>\n<p>Fresnel Example from Ogre: <a data-is-external-link=\"true\" href=\"https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Fresnel/include/Fresnel.h\" rel=\"nofollow\">https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Fresnel/include/Fresnel.h</a> <a data-is-external-link=\"true\" href=\"https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/scripts/Examples-Advanced.material\" rel=\"nofollow\">https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/scripts/Examples-Advanced.material</a> <a data-is-external-link=\"true\" href=\"https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/programs/GLSL150/Example_FresnelFp.glsl\" rel=\"nofollow\">https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/programs/GLSL150/Example_FresnelFp.glsl</a> <a data-is-external-link=\"true\" href=\"https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/programs/GLSL150/Example_FresnelVp.glsl\" rel=\"nofollow\">https://bitbucket.org/sinbad/ogre/src/v1-9-0/Samples/Media/materials/programs/GLSL150/Example_FresnelVp.glsl</a></p>", "type": "rendered"}, "source": {"commit": {"hash": "a1b857f374cb", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/vrx/commit/a1b857f374cb.json"}, "html": {"href": "#!/osrf/vrx/commits/a1b857f374cb"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx.json"}, "html": {"href": "#!/osrf/vrx"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e278ca38-7edb-4e62-b785-46dff5617d98}ts=2274605"}}, "type": "repository", "name": "vrx", "full_name": "osrf/vrx", "uuid": "{e278ca38-7edb-4e62-b785-46dff5617d98}"}, "branch": {"name": "Learn-Gazebo-Visual"}}, "comment_count": 37, "state": "DECLINED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2019-08-26T22:50:05.817703+00:00", "type": "participant", "approved": false, "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}}, {"role": "PARTICIPANT", "participated_on": "2019-08-21T00:46:39.959965+00:00", "type": "participant", "approved": false, "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}}, {"role": "REVIEWER", "participated_on": "2019-08-21T00:50:53.418076+00:00", "type": "participant", "approved": false, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}], "reason": "This was a learning PR to get the reflections setup. Anothe Pr has taken over this one.", "updated_on": "2019-08-29T01:10:31.555568+00:00", "author": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "merge_commit": null, "closed_by": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}}