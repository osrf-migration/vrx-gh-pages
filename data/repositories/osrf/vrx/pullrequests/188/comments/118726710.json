{"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/188/comments/118726710.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/188/_/diff#comment-118726710"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 188, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/188.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/188"}}, "title": "Fixing dock scoring plugin for Gazebo 9"}, "content": {"raw": "I was able to successfully verify that things work as expected - thank you for the tutoring.  A few thoughts\n\n1. I found debugging this to be challenging - perhaps\u2026\n\n    1. Change the OnActivationEvent\\(\\) standard output in the scan\\_dock\\_scoring\\_plugin to gzmsg instead of gzdbg \\(Line 211\\)\n    2. I had to comment out the collision gzdbg messages in the scoring\\_plugin \\(Line 301\\) to avoid spamming the terminal with output, making it hard to find the activation events.\n    3. Is there an easy way to have gzmsg\u2019s go to the screen, but not gzdbg?  I believe verbose turns them both on.  The OnActiviationEvent\\(\\) messages were really helpful.\n    \n2. To successfully dock, the OnActivationEvent needs to stay at 1 for 10 seconds and then needs to transition back to 0.  The intention is for teams to exit the dock \\(back out\\) - but if teams drive forward after staying in the containment for 10 seconds, that also currently counts as a successful docking.\n\n    1. How hard would it be to enforce that they exit the dock from the way the entered - rather than driving forward to exit the containment?\n    \n3. Currently the example dock.world.xacro uses the static dock - should we switch to the dynamic \\(floating\\) dock?\n4. The visualization of the activation zones would be helpful, but currently the location for those are specified in global gazebo coordinates - created an issue to fix that separate from this PR: [#!/osrf/vrx/issues/171/docking-activation-zone-improvement](#!/osrf/vrx/issues/171/docking-activation-zone-improvement)\n5. Currently in the Task Description we say \u201cSuccessful docking consists of having the USV fully enter the dock, stay within the dock area for 10 s and then exit the dock without hitting it.\u201d  I think we should remove the \u201cwithout hitting it\u201d.  If I read the plugin correctly, the DockChecker timer isn\u2019t affected by collisions, which is fine.  Trying to dock without touching the sides would be too tough!\n\nSorry for all the items.  I can work on these, just have to run at the moment.\n\n\u200c", "markup": "markdown", "html": "<p>I was able to successfully verify that things work as expected - thank you for the tutoring.  A few thoughts</p>\n<ol>\n<li>\n<p>I found debugging this to be challenging - perhaps\u2026</p>\n<ol>\n<li>Change the OnActivationEvent() standard output in the scan_dock_scoring_plugin to gzmsg instead of gzdbg (Line 211)</li>\n<li>I had to comment out the collision gzdbg messages in the scoring_plugin (Line 301) to avoid spamming the terminal with output, making it hard to find the activation events.</li>\n<li>Is there an easy way to have gzmsg\u2019s go to the screen, but not gzdbg?  I believe verbose turns them both on.  The OnActiviationEvent() messages were really helpful.</li>\n</ol>\n</li>\n<li>\n<p>To successfully dock, the OnActivationEvent needs to stay at 1 for 10 seconds and then needs to transition back to 0.  The intention is for teams to exit the dock (back out) - but if teams drive forward after staying in the containment for 10 seconds, that also currently counts as a successful docking.</p>\n<ol>\n<li>How hard would it be to enforce that they exit the dock from the way the entered - rather than driving forward to exit the containment?</li>\n</ol>\n</li>\n<li>\n<p>Currently the example dock.world.xacro uses the static dock - should we switch to the dynamic (floating) dock?</p>\n</li>\n<li>The visualization of the activation zones would be helpful, but currently the location for those are specified in global gazebo coordinates - created an issue to fix that separate from this PR: <a data-is-external-link=\"true\" href=\"#!/osrf/vrx/issues/171/docking-activation-zone-improvement\" rel=\"nofollow\">#!/osrf/vrx/issues/171/docking-activation-zone-improvement</a></li>\n<li>Currently in the Task Description we say \u201cSuccessful docking consists of having the USV fully enter the dock, stay within the dock area for 10 s and then exit the dock without hitting it.\u201d  I think we should remove the \u201cwithout hitting it\u201d.  If I read the plugin correctly, the DockChecker timer isn\u2019t affected by collisions, which is fine.  Trying to dock without touching the sides would be too tough!</li>\n</ol>\n<p>Sorry for all the items.  I can work on these, just have to run at the moment.</p>\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2019-09-28T00:44:26.115490+00:00", "user": {"display_name": "Brian Bingham", "uuid": "{9cdea257-248f-486e-8858-49d8485a916f}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9cdea257-248f-486e-8858-49d8485a916f%7D"}, "html": {"href": "https://bitbucket.org/%7B9cdea257-248f-486e-8858-49d8485a916f%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6c52d6e5-77e0-41a8-8b6e-cb9462f4d5f1/7a690884-fc47-4bca-9c2b-baecee4d3dc9/128"}}, "nickname": "brian_bingham", "type": "user", "account_id": "557058:6c52d6e5-77e0-41a8-8b6e-cb9462f4d5f1"}, "updated_on": "2019-09-28T00:44:26.122880+00:00", "type": "pullrequest_comment", "id": 118726710}