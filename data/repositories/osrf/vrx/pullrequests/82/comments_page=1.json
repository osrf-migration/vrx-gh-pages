{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/82/comments/94758827.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/diff/osrf/vrx:f7c2b64ecfbd..fcd4b5a7c05f?path=docker%2FDockerfile"}, "html": {"href": "#!/osrf/vrx/pull-requests/82/_/diff#comment-94758827"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 82, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/82.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/82"}}, "title": "modified Docker scripts to streamline developer workflow"}, "content": {"raw": "Is it possible to copy the hidden files of the source directory? Right now, the `.hg` directory is not copied and we won\u2019t be able to change to a different branch or use any other mercurial commands inside the container, which is very handy.", "markup": "markdown", "html": "<p>Is it possible to copy the hidden files of the source directory? Right now, the <code>.hg</code> directory is not copied and we won\u2019t be able to change to a different branch or use any other mercurial commands inside the container, which is very handy.</p>", "type": "rendered"}, "created_on": "2019-03-13T00:06:41.620199+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {"to": 101, "from": null, "path": "docker/Dockerfile"}, "updated_on": "2019-03-13T00:56:29.575134+00:00", "type": "pullrequest_comment", "id": 94758827}, {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/82/comments/94761612.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/diff/osrf/vrx:f7c2b64ecfbd..fcd4b5a7c05f?path=docker%2FDockerfile"}, "html": {"href": "#!/osrf/vrx/pull-requests/82/_/diff#comment-94761612"}}, "parent": {"id": 94758827, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/82/comments/94758827.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/82/_/diff#comment-94758827"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 82, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/82.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/82"}}, "title": "modified Docker scripts to streamline developer workflow"}, "content": {"raw": "It is possible. In fact, it is the default but I am going out of my way to avoid it because it add 100MB to the image. If you change to a different branch outside the container, the files in that branch will be copied in. I\u2019m trying to encourage people to use mercurial on the host and not inside the container. However, if you want to use it in the container, you can just run hg clone inside the container.\n\nOne thing I could do to remove this ambiguity is wipe out the copied source files after building, so the vrx\\_ws/src/vrx directory would be empty when the user logs in.", "markup": "markdown", "html": "<p>It is possible. In fact, it is the default but I am going out of my way to avoid it because it add 100MB to the image. If you change to a different branch outside the container, the files in that branch will be copied in. I\u2019m trying to encourage people to use mercurial on the host and not inside the container. However, if you want to use it in the container, you can just run hg clone inside the container.</p>\n<p>One thing I could do to remove this ambiguity is wipe out the copied source files after building, so the vrx_ws/src/vrx directory would be empty when the user logs in.</p>", "type": "rendered"}, "created_on": "2019-03-13T01:04:15.165493+00:00", "user": {"display_name": "Michael McCarrin", "uuid": "{3c3f500d-bbf6-472c-b8f7-627e5eabc226}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3c3f500d-bbf6-472c-b8f7-627e5eabc226%7D"}, "html": {"href": "https://bitbucket.org/%7B3c3f500d-bbf6-472c-b8f7-627e5eabc226%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a50abc93a3175f92c79e7521dfe089c0d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMM-0.png"}}, "nickname": "m1chaelm", "type": "user", "account_id": "5b2a9176467c9a09caa71ab1"}, "inline": {"to": 101, "from": null, "path": "docker/Dockerfile"}, "updated_on": "2019-03-13T01:04:15.176973+00:00", "type": "pullrequest_comment", "id": 94761612}, {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/82/comments/94762655.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/diff/osrf/vrx:f7c2b64ecfbd..fcd4b5a7c05f?path=docker%2FDockerfile"}, "html": {"href": "#!/osrf/vrx/pull-requests/82/_/diff#comment-94762655"}}, "parent": {"id": 94761612, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/82/comments/94761612.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/82/_/diff#comment-94761612"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 82, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/82.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/82"}}, "title": "modified Docker scripts to streamline developer workflow"}, "content": {"raw": "I was thinking maybe it would be helpful to elaborate a bit more. The process I would like to put in our tutorial for your use case is this:\n\n1. Build the image:\n\n    1. `$ hg clone #!/osrf/vrx`\n    2. `$ docker/build.bash .`\n    \n2. Open the docker/run.bash script and uncomment the line that mounts the current directory into the image at runtime.\n3. Run the image.\n\n    1. `docker/run.bash .`\n    \n\nWhen the above is complete, the image will be built and the repository on the host will mounted inside the image. This will include all the hidden files since they are on the host. The user will be able to use all hg commands inside or outside the container and all changes/edits will be available both in the container and on the host. You can also continue to mount your editor into the container if you prefer that. It shouldn\u2019t make a difference.\n\nFor users who have reasons not to mount the repository in from the host, it is also possible to log in to the container and run hg clone to make an ephemeral copy of the repository inside the container. They could also use tools like rsync or scp if desired to copy from the host into the container. I think this would be a little slower but it should still work fine.", "markup": "markdown", "html": "<p>I was thinking maybe it would be helpful to elaborate a bit more. The process I would like to put in our tutorial for your use case is this:</p>\n<ol>\n<li>\n<p>Build the image:</p>\n<ol>\n<li><code>$ hg clone #!/osrf/vrx</code></li>\n<li><code>$ docker/build.bash .</code></li>\n</ol>\n</li>\n<li>\n<p>Open the docker/run.bash script and uncomment the line that mounts the current directory into the image at runtime.</p>\n</li>\n<li>\n<p>Run the image.</p>\n<ol>\n<li><code>docker/run.bash .</code></li>\n</ol>\n</li>\n</ol>\n<p>When the above is complete, the image will be built and the repository on the host will mounted inside the image. This will include all the hidden files since they are on the host. The user will be able to use all hg commands inside or outside the container and all changes/edits will be available both in the container and on the host. You can also continue to mount your editor into the container if you prefer that. It shouldn\u2019t make a difference.</p>\n<p>For users who have reasons not to mount the repository in from the host, it is also possible to log in to the container and run hg clone to make an ephemeral copy of the repository inside the container. They could also use tools like rsync or scp if desired to copy from the host into the container. I think this would be a little slower but it should still work fine.</p>", "type": "rendered"}, "created_on": "2019-03-13T01:29:07.100311+00:00", "user": {"display_name": "Michael McCarrin", "uuid": "{3c3f500d-bbf6-472c-b8f7-627e5eabc226}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3c3f500d-bbf6-472c-b8f7-627e5eabc226%7D"}, "html": {"href": "https://bitbucket.org/%7B3c3f500d-bbf6-472c-b8f7-627e5eabc226%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a50abc93a3175f92c79e7521dfe089c0d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMM-0.png"}}, "nickname": "m1chaelm", "type": "user", "account_id": "5b2a9176467c9a09caa71ab1"}, "inline": {"to": 101, "from": null, "path": "docker/Dockerfile"}, "updated_on": "2019-03-13T01:29:07.120563+00:00", "type": "pullrequest_comment", "id": 94762655}, {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/82/comments/94766339.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx/diff/osrf/vrx:f7c2b64ecfbd..fcd4b5a7c05f?path=docker%2FDockerfile"}, "html": {"href": "#!/osrf/vrx/pull-requests/82/_/diff#comment-94766339"}}, "parent": {"id": 94762655, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/82/comments/94762655.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/82/_/diff#comment-94762655"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 82, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/82.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/82"}}, "title": "modified Docker scripts to streamline developer workflow"}, "content": {"raw": "Thanks for the clarification. Sounds like a good plan.", "markup": "markdown", "html": "<p>Thanks for the clarification. Sounds like a good plan.</p>", "type": "rendered"}, "created_on": "2019-03-13T02:53:47.982963+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {"to": 101, "from": null, "path": "docker/Dockerfile"}, "updated_on": "2019-03-13T02:53:47.999690+00:00", "type": "pullrequest_comment", "id": 94766339}, {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/82/comments/94758939.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/82/_/diff#comment-94758939"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 82, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/82.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/82"}}, "title": "modified Docker scripts to streamline developer workflow"}, "content": {"raw": "Just checking...Before this pull request I was using `run.bash` and `join.bash` in this way:\n\n```\ncaguero@bb9:~/workspace/vrx/docker$./run.bash vrx\ncaguero@bb9:~/workspace/vrx/docker$./join.bash vrx\n```\n\nDo we need to do anything different?", "markup": "markdown", "html": "<p>Just checking...Before this pull request I was using <code>run.bash</code> and <code>join.bash</code> in this way:</p>\n<div class=\"codehilite\"><pre><span></span>caguero@bb9:~/workspace/vrx/docker$./run.bash vrx\ncaguero@bb9:~/workspace/vrx/docker$./join.bash vrx\n</pre></div>\n\n\n<p>Do we need to do anything different?</p>", "type": "rendered"}, "created_on": "2019-03-13T00:09:22.204014+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2019-03-13T00:09:35.197447+00:00", "type": "pullrequest_comment", "id": 94758939}, {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/82/comments/94761156.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/82/_/diff#comment-94761156"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 82, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/82.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/82"}}, "title": "modified Docker scripts to streamline developer workflow"}, "content": {"raw": "That should be fine unless you are using the commented-out mount options in the run script.  Or, if you are running the Nvidia version you would use \n\n`./run.bash -n vrx_nvidia`\n\n`./join.bash vrx_nvidia`\n\nThe build script is the only one that needs to be run from the root of the repository \\(and this could be fixed if desired\\). Let me know if they are not working right!", "markup": "markdown", "html": "<p>That should be fine unless you are using the commented-out mount options in the run script.  Or, if you are running the Nvidia version you would use </p>\n<p><code>./run.bash -n vrx_nvidia</code></p>\n<p><code>./join.bash vrx_nvidia</code></p>\n<p>The build script is the only one that needs to be run from the root of the repository (and this could be fixed if desired). Let me know if they are not working right!</p>", "type": "rendered"}, "created_on": "2019-03-13T00:54:33.164852+00:00", "user": {"display_name": "Michael McCarrin", "uuid": "{3c3f500d-bbf6-472c-b8f7-627e5eabc226}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3c3f500d-bbf6-472c-b8f7-627e5eabc226%7D"}, "html": {"href": "https://bitbucket.org/%7B3c3f500d-bbf6-472c-b8f7-627e5eabc226%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a50abc93a3175f92c79e7521dfe089c0d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMM-0.png"}}, "nickname": "m1chaelm", "type": "user", "account_id": "5b2a9176467c9a09caa71ab1"}, "updated_on": "2019-03-13T00:54:33.174060+00:00", "type": "pullrequest_comment", "id": 94761156}, {"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/82/comments/94766053.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/82/_/diff#comment-94766053"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 82, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/82.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/82"}}, "title": "modified Docker scripts to streamline developer workflow"}, "content": {"raw": "I decided to forge ahead and update[ the tutorial](#!/osrf/vrx/wiki/tutorials/buildRunLocalImage) to reflect the intended process after this pull request is merged. If we end up changing it, I\u2019ll re-edit; just thought it would be handy to have for testing.", "markup": "markdown", "html": "<p>I decided to forge ahead and update<a data-is-external-link=\"true\" href=\"#!/osrf/vrx/wiki/tutorials/buildRunLocalImage\" rel=\"nofollow\"> the tutorial</a> to reflect the intended process after this pull request is merged. If we end up changing it, I\u2019ll re-edit; just thought it would be handy to have for testing.</p>", "type": "rendered"}, "created_on": "2019-03-13T02:46:14.977254+00:00", "user": {"display_name": "Michael McCarrin", "uuid": "{3c3f500d-bbf6-472c-b8f7-627e5eabc226}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3c3f500d-bbf6-472c-b8f7-627e5eabc226%7D"}, "html": {"href": "https://bitbucket.org/%7B3c3f500d-bbf6-472c-b8f7-627e5eabc226%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a50abc93a3175f92c79e7521dfe089c0d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMM-0.png"}}, "nickname": "m1chaelm", "type": "user", "account_id": "5b2a9176467c9a09caa71ab1"}, "updated_on": "2019-03-13T02:46:14.983599+00:00", "type": "pullrequest_comment", "id": 94766053}], "page": 1, "size": 7}