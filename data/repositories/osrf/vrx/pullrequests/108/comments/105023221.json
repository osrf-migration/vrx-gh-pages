{"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/108/comments/105023221.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/108/_/diff#comment-105023221"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 108, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/108.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/108"}}, "title": "Issue#96 Add Thrust Angle and Rotation Joint"}, "content": {"raw": "Another TODO is to resolve the build issues. Essentially, Gazebo 7 and 9 seem to use different methods for setting joint angles. I believe:\n\n* Gazebo 7 uses `void gazebo::physics::Joint::SetAngle(unsigned int _index, math::Angle _angle)` OR `virtual bool gazebo::physics::Joint::SetPosition(unsigned int _index, double _position)`\n* Gazebo 9 uses `virtual bool void gazebo::physics::Joint::SetPosition(const unsigned int _index, const double _position, const bool _preserveWorldVelocity=false)`\n\nI need to set `const bool _preserveWorldVelocity` to `true` so that the boat is not stationary \\(maintains its previous velocity. If not set, default false => the boat was immobile\\). I am not sure what behavior happens in Gazebo 7 without having this parameters. The api no longer matches, so I likely need to have a `#if GAZEBO_MAJOR_VERSION >= 8` statement to do this right, but I may need some support ensuring it not only builds but actually works on Gazebo 7. Thank you\n\n[http://osrf-distributions.s3.amazonaws.com/gazebo/api/4.0.0/classgazebo\\_1\\_1physics\\_1\\_1Joint.html#a5dd5194c47634dde3daf11344b120c32](http://osrf-distributions.s3.amazonaws.com/gazebo/api/4.0.0/classgazebo_1_1physics_1_1Joint.html#a5dd5194c47634dde3daf11344b120c32)\n\n[https://osrf-distributions.s3.amazonaws.com/gazebo/api/dev/classgazebo\\_1\\_1physics\\_1\\_1Joint.html#ad02e021e1745f416f45e13024925714a](https://osrf-distributions.s3.amazonaws.com/gazebo/api/dev/classgazebo_1_1physics_1_1Joint.html#ad02e021e1745f416f45e13024925714a)", "markup": "markdown", "html": "<p>Another TODO is to resolve the build issues. Essentially, Gazebo 7 and 9 seem to use different methods for setting joint angles. I believe:</p>\n<ul>\n<li>Gazebo 7 uses <code>void gazebo::physics::Joint::SetAngle(unsigned int _index, math::Angle _angle)</code> OR <code>virtual bool gazebo::physics::Joint::SetPosition(unsigned int _index, double _position)</code></li>\n<li>Gazebo 9 uses <code>virtual bool void gazebo::physics::Joint::SetPosition(const unsigned int _index, const double _position, const bool _preserveWorldVelocity=false)</code></li>\n</ul>\n<p>I need to set <code>const bool _preserveWorldVelocity</code> to <code>true</code> so that the boat is not stationary (maintains its previous velocity. If not set, default false =&gt; the boat was immobile). I am not sure what behavior happens in Gazebo 7 without having this parameters. The api no longer matches, so I likely need to have a <code>#if GAZEBO_MAJOR_VERSION &gt;= 8</code> statement to do this right, but I may need some support ensuring it not only builds but actually works on Gazebo 7. Thank you</p>\n<p><a data-is-external-link=\"true\" href=\"http://osrf-distributions.s3.amazonaws.com/gazebo/api/4.0.0/classgazebo_1_1physics_1_1Joint.html#a5dd5194c47634dde3daf11344b120c32\" rel=\"nofollow\">http://osrf-distributions.s3.amazonaws.com/gazebo/api/4.0.0/classgazebo_1_1physics_1_1Joint.html#a5dd5194c47634dde3daf11344b120c32</a></p>\n<p><a data-is-external-link=\"true\" href=\"https://osrf-distributions.s3.amazonaws.com/gazebo/api/dev/classgazebo_1_1physics_1_1Joint.html#ad02e021e1745f416f45e13024925714a\" rel=\"nofollow\">https://osrf-distributions.s3.amazonaws.com/gazebo/api/dev/classgazebo_1_1physics_1_1Joint.html#ad02e021e1745f416f45e13024925714a</a></p>", "type": "rendered"}, "created_on": "2019-06-09T21:15:42.492405+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-06-09T22:04:17.207183+00:00", "type": "pullrequest_comment", "id": 105023221}