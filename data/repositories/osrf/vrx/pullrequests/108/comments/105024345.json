{"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/108/comments/105024345.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/108/_/diff#comment-105024345"}}, "parent": {"id": 105023221, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/108/comments/105023221.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/108/_/diff#comment-105023221"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 108, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/108.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/108"}}, "title": "Issue#96 Add Thrust Angle and Rotation Joint"}, "content": {"raw": "I have tried using `SetAngle()` but it did not work either. \n\n```\n      // Set the thruster engine joint angle\n      #if GAZEBO_MAJOR_VERSION >= 8\n        this->thrusters[i].engineJoint->SetPosition(0, this->thrusters[i].currAngle, true);\n      #else\n        this->thrusters[i].engineJoint->SetAngle(0, gazebo::math::Angle(this->thrusters[i].currAngle));\n      #endif\n```\n\nI ended up using `SetPosition()`, which worked\n\n```\n      // Set the thruster engine joint angle\n      #if GAZEBO_MAJOR_VERSION >= 8\n        this->thrusters[i].engineJoint->SetPosition(0, this->thrusters[i].currAngle, true);\n      #else\n        this->thrusters[i].engineJoint->SetPosition(0, this->thrusters[i].currAngle);\n      #endif\n```\n\nbut I am not sure if the stationary effect still happens. I will try exploring the PID force method, which would fix this issue.", "markup": "markdown", "html": "<p>I have tried using <code>SetAngle()</code> but it did not work either. </p>\n<div class=\"codehilite\"><pre><span></span>      <span class=\"o\">//</span> <span class=\"nt\">Set</span> <span class=\"nt\">the</span> <span class=\"nt\">thruster</span> <span class=\"nt\">engine</span> <span class=\"nt\">joint</span> <span class=\"nt\">angle</span>\n      <span class=\"p\">#</span><span class=\"nn\">if</span> <span class=\"nt\">GAZEBO_MAJOR_VERSION</span> <span class=\"o\">&gt;=</span> <span class=\"nt\">8</span>\n        <span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">thrusters</span><span class=\"cp\">[</span><span class=\"nx\">i</span><span class=\"cp\">]</span><span class=\"p\">.</span><span class=\"nc\">engineJoint-</span><span class=\"o\">&gt;</span><span class=\"nt\">SetPosition</span><span class=\"o\">(</span><span class=\"nt\">0</span><span class=\"o\">,</span> <span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">thrusters</span><span class=\"cp\">[</span><span class=\"nx\">i</span><span class=\"cp\">]</span><span class=\"p\">.</span><span class=\"nc\">currAngle</span><span class=\"o\">,</span> <span class=\"nt\">true</span><span class=\"o\">);</span>\n      <span class=\"p\">#</span><span class=\"nn\">else</span>\n        <span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">thrusters</span><span class=\"cp\">[</span><span class=\"nx\">i</span><span class=\"cp\">]</span><span class=\"p\">.</span><span class=\"nc\">engineJoint-</span><span class=\"o\">&gt;</span><span class=\"nt\">SetAngle</span><span class=\"o\">(</span><span class=\"nt\">0</span><span class=\"o\">,</span> <span class=\"nt\">gazebo</span><span class=\"p\">::</span><span class=\"nd\">math</span><span class=\"p\">::</span><span class=\"nd\">Angle</span><span class=\"o\">(</span><span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">thrusters</span><span class=\"cp\">[</span><span class=\"nx\">i</span><span class=\"cp\">]</span><span class=\"p\">.</span><span class=\"nc\">currAngle</span><span class=\"o\">));</span>\n      <span class=\"p\">#</span><span class=\"nn\">endif</span>\n</pre></div>\n\n\n<p>I ended up using <code>SetPosition()</code>, which worked</p>\n<div class=\"codehilite\"><pre><span></span>      // Set the thruster engine joint angle\n      #if GAZEBO_MAJOR_VERSION &gt;= 8\n        this-&gt;thrusters[i].engineJoint-&gt;SetPosition(0, this-&gt;thrusters[i].currAngle, true);\n      #else\n        this-&gt;thrusters[i].engineJoint-&gt;SetPosition(0, this-&gt;thrusters[i].currAngle);\n      #endif\n</pre></div>\n\n\n<p>but I am not sure if the stationary effect still happens. I will try exploring the PID force method, which would fix this issue.</p>", "type": "rendered"}, "created_on": "2019-06-09T22:38:22.963606+00:00", "user": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "updated_on": "2019-06-09T22:38:22.971907+00:00", "type": "pullrequest_comment", "id": 105024345}