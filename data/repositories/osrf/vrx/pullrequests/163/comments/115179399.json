{"links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/163/comments/115179399.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/163/_/diff#comment-115179399"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 163, "links": {"self": {"href": "data/repositories/osrf/vrx/pullrequests/163.json"}, "html": {"href": "#!/osrf/vrx/pull-requests/163"}}, "title": "Issue#109 force visualize"}, "content": {"raw": "I propose we put this on the back burner for now.  It is certainly \u201cnice to have\u201d, but not critical path for this year\u2019s competition.\n\nTo debug, I would recommend that we explicitly specify a link \\(or links\\) for displaying the vector.  For example the \u201cleft\\_propeller\\_link\u201d is where the thrust plugin applies the propulsion force.  Verifying that the applied proplusion force is consistent with the link->WorldForce\\(\\) might shed some light on why things aren\u2019t showing up as expected.\n\nAlso, it appears that the disable\\_z parameter zeros the z component of force in the world frame.  I believe what we want is to zero the z component in the body frame.  This would require 1\\) rotating force  vector into body frame, 2\\) zeroing the z component, 3\\) rotating back into world frame for display.\n\nLooking into this briefly it seemed like there was a lack of documentation on the ignition msg marker functionality.  Helpful bits are [here](https://bitbucket.org/ignitionrobotics/ign-msgs/src/07607e5f1e77eceec0273f6c73cee5aaa5768fe4/ignition/msgs/marker.proto?at=default&fileviewer=file-view-default), this [example](https://bitbucket.org/osrf/gazebo/src/3ca3431cfe5a/examples/stand_alone/marker/marker.cc) and this [PR](https://bitbucket.org/osrf/gazebo/pull-requests/2498/markers/diff) from 2016.  Perhaps I\u2019m missing something obvious.", "markup": "markdown", "html": "<p>I propose we put this on the back burner for now.  It is certainly \u201cnice to have\u201d, but not critical path for this year\u2019s competition.</p>\n<p>To debug, I would recommend that we explicitly specify a link (or links) for displaying the vector.  For example the \u201cleft_propeller_link\u201d is where the thrust plugin applies the propulsion force.  Verifying that the applied proplusion force is consistent with the link-&gt;WorldForce() might shed some light on why things aren\u2019t showing up as expected.</p>\n<p>Also, it appears that the disable_z parameter zeros the z component of force in the world frame.  I believe what we want is to zero the z component in the body frame.  This would require 1) rotating force  vector into body frame, 2) zeroing the z component, 3) rotating back into world frame for display.</p>\n<p>Looking into this briefly it seemed like there was a lack of documentation on the ignition msg marker functionality.  Helpful bits are <a data-is-external-link=\"true\" href=\"https://bitbucket.org/ignitionrobotics/ign-msgs/src/07607e5f1e77eceec0273f6c73cee5aaa5768fe4/ignition/msgs/marker.proto?at=default&amp;fileviewer=file-view-default\" rel=\"nofollow\">here</a>, this <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/gazebo/src/3ca3431cfe5a/examples/stand_alone/marker/marker.cc\" rel=\"nofollow\">example</a> and this <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/gazebo/pull-requests/2498/markers/diff\" rel=\"nofollow\">PR</a> from 2016.  Perhaps I\u2019m missing something obvious.</p>", "type": "rendered"}, "created_on": "2019-08-30T21:43:41.576615+00:00", "user": {"display_name": "Brian Bingham", "uuid": "{9cdea257-248f-486e-8858-49d8485a916f}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9cdea257-248f-486e-8858-49d8485a916f%7D"}, "html": {"href": "https://bitbucket.org/%7B9cdea257-248f-486e-8858-49d8485a916f%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6c52d6e5-77e0-41a8-8b6e-cb9462f4d5f1/7a690884-fc47-4bca-9c2b-baecee4d3dc9/128"}}, "nickname": "brian_bingham", "type": "user", "account_id": "557058:6c52d6e5-77e0-41a8-8b6e-cb9462f4d5f1"}, "updated_on": "2019-08-30T21:43:41.583501+00:00", "type": "pullrequest_comment", "id": 115179399}