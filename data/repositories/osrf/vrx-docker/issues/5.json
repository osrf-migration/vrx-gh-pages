{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/vrx-docker.json"}, "html": {"href": "#!/osrf/vrx-docker"}, "avatar": {"href": "data/bytebucket.org/ravatar/{6aad36a4-6d9e-4aac-beef-5d3783a46826}ts=default"}}, "type": "repository", "name": "vrx-docker", "full_name": "osrf/vrx-docker", "uuid": "{6aad36a4-6d9e-4aac-beef-5d3783a46826}"}, "links": {"attachments": {"href": "data/repositories/osrf/vrx-docker/issues/5/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/vrx-docker/issues/5.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx-docker/issues/5/watch"}, "comments": {"href": "data/repositories/osrf/vrx-docker/issues/5/comments_page=1.json"}, "html": {"href": "#!/osrf/vrx-docker/issues/5/finalize-how-ros_hostname-and"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/vrx-docker/issues/5/vote"}}, "reporter": {"display_name": "Tyler Lum", "uuid": "{305d9368-23ba-4f72-b1d4-7d17d2a062d8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D"}, "html": {"href": "https://bitbucket.org/%7B305d9368-23ba-4f72-b1d4-7d17d2a062d8%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5b96b66385af94340e7cabce/b8bb780f-62b7-47f8-9d03-ee65c7d17ad4/128"}}, "nickname": "tylerlum", "type": "user", "account_id": "5b96b66385af94340e7cabce"}, "title": "Finalize how ROS_HOSTNAME and ROS_MASTER_URI and ROS_IP work", "component": null, "votes": 0, "watches": 1, "content": {"raw": "From [http://wiki.ros.org/ROS/Tutorials/MultipleMachines](http://wiki.ros.org/ROS/Tutorials/MultipleMachines), it looks like I should only be setting `ROS_IP` or `ROS_HOSTNAME`. For our case, which should we set? If hostname, does it matter what names I choose? If IP address, how do I choose an IP Address? Please read the section below to ensure that any changes made do not make the same issue that happened before. \\( Initially, when I started the server and competition containers, the competition could see the topics \\(\\`rostopic list\\` showed topics from the simulator\\), but if I published to /left\\_thrust\\_cmd from the competition container, the server container was not seeing it. Changing the ROS\\_MASTER\\_URIs made it work.\\)\r\n\r\n**Previous Steps taken to make it work**\r\n\r\nI am not super confident about how ROS\\_MASTER\\_URI, ROS\\_HOSTNAME, ROS\\_IP, and GAZEBO\\_IP work. I used [[https://answers.ros.org/question/228292/exposing-ros-containers-to-host-machine/](https://answers.ros.org/question/228292/exposing-ros-containers-to-host-machine/)](https://answers.ros.org/question/228292/exposing-ros-containers-to-host-machine) and [[https://answers.ros.org/question/298602/how-to-have-topics-publish-and-subscribe-both-ways-between-host-and-docker-container/](https://answers.ros.org/question/298602/how-to-have-topics-publish-and-subscribe-both-ways-between-host-and-docker-container/)](https://answers.ros.org/question/298602/how-to-have-topics-publish-and-subscribe-both-ways-between-host-and-docker-container) for reference. Initially, when I started the server and competition containers, the competition could see the topics \\(\\`rostopic list\\` showed topics from the simulator\\), but if I published to /left\\_thrust\\_cmd from the competition container, the server container was not seeing it. Changing the ROS\\_MASTER\\_URIs made it work.\r\n\r\n[http://wiki.ros.org/ROS/EnvironmentVariables](http://wiki.ros.org/ROS/EnvironmentVariables)\r\n\r\nROS\\_IP/ROS\\_HOSTNAME\r\n\r\n`ROS_IP` _and_ `ROS_HOSTNAME` _are optional environment variable that sets the declared network address of a ROS_ [_Node_](http://wiki.ros.org/Node) _or tool. The options are mutually exclusive, if both are set_ `ROS_HOSTNAME` _will take precedence. Use_ `ROS_IP` _if you are specifying an IP address, and_ `ROS_HOSTNAME` _if you are specifying a host name. When a ROS component reports a URI to the master or other components, this value will be used. This setting is only needed in situations where you have multiple addresses for a computer and need to force ROS to a particular one._\r\n\r\n_With the exception of 'localhost', it does not affect the actual bound address as ROS components bind to all available network interfaces. If the value is set to localhost, the ROS component will bind only to the loopback interface. This will prevent remote components from being able to talk to your local component._\r\n\r\n\u200c\r\n\r\n[http://wiki.ros.org/ROS/Tutorials/MultipleMachines](http://wiki.ros.org/ROS/Tutorials/MultipleMachines)\r\n\r\n_If something in the above sequence didn't work, the cause is likely in your network configuration. See_ [_ROS/NetworkSetup_](http://wiki.ros.org/ROS/NetworkSetup) _and_ [_ROS/Troubleshooting_](http://wiki.ros.org/ROS/Troubleshooting) _for configuration requirements and troubleshooting tips._\r\n\r\n_One common trap is the missing define of ROS\\_IP on the machine, where talker.py is running._\r\n\r\n_check it with: echo $ROS\\_IP_\r\n\r\n_If you dont't define ROS\\_IP, then rostopic info will show indeed the proper connections of publisher and listener, but rostopic echo will be empty. You will see no TX-traffic on LAN, on machine with talker. First, after defining ROS\\_IP with proper IP-address \\( export ROS\\_IP=machine\\_ip\\_addr\\) you will see trafic on LAN and the listener.py will show received data._\r\n\r\nIt looks like I should only be setting `ROS_IP` or `ROS_HOSTNAME`. For our case, which should we set? If hostname, does it matter what names I choose? If IP address, how do I choose an IP Address? I am still new to these network topics.", "markup": "markdown", "html": "<p>From <a data-is-external-link=\"true\" href=\"http://wiki.ros.org/ROS/Tutorials/MultipleMachines\" rel=\"nofollow\">http://wiki.ros.org/ROS/Tutorials/MultipleMachines</a>, it looks like I should only be setting <code>ROS_IP</code> or <code>ROS_HOSTNAME</code>. For our case, which should we set? If hostname, does it matter what names I choose? If IP address, how do I choose an IP Address? Please read the section below to ensure that any changes made do not make the same issue that happened before. ( Initially, when I started the server and competition containers, the competition could see the topics (`rostopic list` showed topics from the simulator), but if I published to /left_thrust_cmd from the competition container, the server container was not seeing it. Changing the ROS_MASTER_URIs made it work.)</p>\n<p><strong>Previous Steps taken to make it work</strong></p>\n<p>I am not super confident about how ROS_MASTER_URI, ROS_HOSTNAME, ROS_IP, and GAZEBO_IP work. I used <a data-is-external-link=\"true\" href=\"https://answers.ros.org/question/228292/exposing-ros-containers-to-host-machine\" rel=\"nofollow\">[https://answers.ros.org/question/228292/exposing-ros-containers-to-host-machine/](https://answers.ros.org/question/228292/exposing-ros-containers-to-host-machine/)</a> and <a data-is-external-link=\"true\" href=\"https://answers.ros.org/question/298602/how-to-have-topics-publish-and-subscribe-both-ways-between-host-and-docker-container\" rel=\"nofollow\">[https://answers.ros.org/question/298602/how-to-have-topics-publish-and-subscribe-both-ways-between-host-and-docker-container/](https://answers.ros.org/question/298602/how-to-have-topics-publish-and-subscribe-both-ways-between-host-and-docker-container/)</a> for reference. Initially, when I started the server and competition containers, the competition could see the topics (`rostopic list` showed topics from the simulator), but if I published to /left_thrust_cmd from the competition container, the server container was not seeing it. Changing the ROS_MASTER_URIs made it work.</p>\n<p><a data-is-external-link=\"true\" href=\"http://wiki.ros.org/ROS/EnvironmentVariables\" rel=\"nofollow\">http://wiki.ros.org/ROS/EnvironmentVariables</a></p>\n<p>ROS_IP/ROS_HOSTNAME</p>\n<p><code>ROS_IP</code> <em>and</em> <code>ROS_HOSTNAME</code> <em>are optional environment variable that sets the declared network address of a ROS</em> <a data-is-external-link=\"true\" href=\"http://wiki.ros.org/Node\" rel=\"nofollow\"><em>Node</em></a> <em>or tool. The options are mutually exclusive, if both are set</em> <code>ROS_HOSTNAME</code> <em>will take precedence. Use</em> <code>ROS_IP</code> <em>if you are specifying an IP address, and</em> <code>ROS_HOSTNAME</code> <em>if you are specifying a host name. When a ROS component reports a URI to the master or other components, this value will be used. This setting is only needed in situations where you have multiple addresses for a computer and need to force ROS to a particular one.</em></p>\n<p><em>With the exception of 'localhost', it does not affect the actual bound address as ROS components bind to all available network interfaces. If the value is set to localhost, the ROS component will bind only to the loopback interface. This will prevent remote components from being able to talk to your local component.</em></p>\n<p>\u200c</p>\n<p><a data-is-external-link=\"true\" href=\"http://wiki.ros.org/ROS/Tutorials/MultipleMachines\" rel=\"nofollow\">http://wiki.ros.org/ROS/Tutorials/MultipleMachines</a></p>\n<p><em>If something in the above sequence didn't work, the cause is likely in your network configuration. See</em> <a data-is-external-link=\"true\" href=\"http://wiki.ros.org/ROS/NetworkSetup\" rel=\"nofollow\"><em>ROS/NetworkSetup</em></a> <em>and</em> <a data-is-external-link=\"true\" href=\"http://wiki.ros.org/ROS/Troubleshooting\" rel=\"nofollow\"><em>ROS/Troubleshooting</em></a> <em>for configuration requirements and troubleshooting tips.</em></p>\n<p><em>One common trap is the missing define of ROS_IP on the machine, where talker.py is running.</em></p>\n<p><em>check it with: echo $ROS_IP</em></p>\n<p><em>If you dont't define ROS_IP, then rostopic info will show indeed the proper connections of publisher and listener, but rostopic echo will be empty. You will see no TX-traffic on LAN, on machine with talker. First, after defining ROS_IP with proper IP-address ( export ROS_IP=machine_ip_addr) you will see trafic on LAN and the listener.py will show received data.</em></p>\n<p>It looks like I should only be setting <code>ROS_IP</code> or <code>ROS_HOSTNAME</code>. For our case, which should we set? If hostname, does it matter what names I choose? If IP address, how do I choose an IP Address? I am still new to these network topics.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-07-16T18:50:10.276982+00:00", "milestone": null, "updated_on": "2019-08-05T01:34:08.690976+00:00", "type": "issue", "id": 5}